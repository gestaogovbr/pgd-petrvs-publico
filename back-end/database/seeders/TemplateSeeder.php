<?php

namespace Database\Seeders;

use Illuminate\Support\Facades\DB;
use Illuminate\Database\Seeder;
use App\Models\Entidade;
use App\Models\Template;
use App\Services\UtilService;

class TemplateSeeder extends Seeder
{
  public function run()
  {
    $entidade_id = Entidade::first()->id;
    $templates = [
      [
        "id" => UtilService::uuid('PTR_LISTA'),
        "codigo" => "PTR_LISTA",
        "especie" => "RELATORIO",
        "titulo" => "Relatório de Planos de Trabalho",
        "conteudo" => '<p style="text-align: center;"><strong>Relat&oacute;rio de Planos de Trabalho</strong></p><table class="table table-bordered table-sm" style="border-collapse: collapse; border: 1px solid rgb(0, 0, 0);" border="1"><colgroup> <col style="width: 15.8672%;"> <col style="width: 16.5129%;"> <col style="width: 22.048%;"> <col style="width: 35.7934%;"> <col style="width: 9.68635%;"> </colgroup><tbody><tr><td style="border-width: 1px; border-color: rgb(0, 0, 0); background-color: rgb(206, 212, 217);"><span style="font-size: 10pt;"><strong>Participante</strong></span></td><td style="border-width: 1px; border-color: rgb(0, 0, 0); background-color: rgb(206, 212, 217);"><span style="font-size: 10pt;"><strong>Unidade</strong></span></td><td style="border-width: 1px; border-color: rgb(0, 0, 0); background-color: rgb(206, 212, 217);"><span style="font-size: 10pt;"><strong>Modalidade</strong></span></td><td style="border-width: 1px; border-color: rgb(0, 0, 0); background-color: rgb(206, 212, 217);"><span style="font-size: 10pt;"><strong>Vig&ecirc;ncia&nbsp;</strong></span></td><td style="border-width: 1px; border-color: rgb(0, 0, 0); background-color: rgb(206, 212, 217);"><span style="font-size: 10pt;"><strong>Status</strong></span></td></tr><tr><td style="border-width: 1px; border-color: rgb(0, 0, 0);" colspan="5">{{for:planos_trabalhos[plano];drop=tr}}</td></tr><tr><td style="border-width: 1px; border-color: rgb(0, 0, 0);"><span style="font-size: 8pt;">{{plano.usuario.apelido}}</span></td><td style="border-width: 1px; border-color: rgb(0, 0, 0);"><span style="font-size: 8pt;">{{plano.unidade.nome}}</span></td><td style="border-width: 1px; border-color: rgb(0, 0, 0);"><span style="font-size: 8pt;">{{plano.tipo_modalidade.nome}}</span></td><td style="border-width: 1px; border-color: rgb(0, 0, 0);"><span style="font-size: 8pt;">{{plano.data_inicio}} at&eacute; {{plano.data_fim}}</span></td><td style="border-width: 1px; border-color: rgb(0, 0, 0);"><span style="font-size: 8pt;">{{plano.status}}</span></td></tr><tr><td style="border-width: 1px; border-color: rgb(0, 0, 0);" colspan="5"><p><strong>Entregas:</strong></p><table class="table table-bordered table-sm" style="width: 100%; border-collapse: collapse; border: 1px solid rgb(0, 0, 0);" border="1"><colgroup> <col style="width: 3.71635%;"> <col style="width: 29.075%;"> <col style="width: 0.874436%;"> <col style="width: 0.874436%;"> <col style="width: 65.1455%;"> </colgroup><tbody><tr><td style="border-width: 1px; border-color: rgb(0, 0, 0); background-color: rgb(206, 212, 217);" colspan="4"><span style="font-size: 10pt;"><strong>Descri&ccedil;&atilde;o</strong></span></td><td style="border-width: 1px; border-color: rgb(0, 0, 0); background-color: rgb(206, 212, 217);"><span style="font-size: 10pt;"><strong>% CHD</strong></span></td></tr><tr><td style="border-width: 1px; border-color: rgb(0, 0, 0);" colspan="5"><strong>{{for:plano.entregas[entrega];drop=tr}}&nbsp;</strong><strong><br></strong></td></tr><tr><td style="border-width: 1px; border-color: rgb(0, 0, 0);" colspan="4"><span style="font-size: 10pt;">{{entrega.descricao}}</span></td><td style="border-width: 1px; border-color: rgb(0, 0, 0);"><span style="font-size: 10pt;">&nbsp;{{entrega.forca_trabalho}}</span></td></tr><tr><td style="border-width: 1px; border-color: rgb(0, 0, 0);" colspan="5"><strong>{{end-for;drop=tr}}</strong></td></tr></tbody></table></td></tr><tr><td style="border-color: rgb(0, 0, 0); border-width: 1px;" colspan="5">{{end-for;drop=tr}}</td></tr></tbody></table><p>&nbsp;</p>',
        "dataset" => '[{"type": "ARRAY", "field": "planos_trabalhos", "label": "Planos de trabalho", "fields": [{"type": "VALUE", "field": "carga_horaria", "label": "Carga horária diária"}, {"type": "VALUE", "field": "tempo_total", "label": "Tempo total do plano"}, {"type": "VALUE", "field": "tempo_proporcional", "label": "Tempo proporcional (descontando afastamentos)"}, {"type": "VALUE", "field": "status", "label": "Status do plano"}, {"type": "DATETIME", "field": "data_inicio", "label": "Data inicial do plano"}, {"type": "DATETIME", "field": "data_fim", "label": "Data final do plano"}, {"type": "OBJECT", "field": "tipo_modalidade", "label": "Tipo de modalidade", "fields": [{"type": "VALUE", "field": "nome", "label": "Nome"}]}, {"type": "OBJECT", "field": "usuario", "label": "Usuário", "fields": [{"type": "VALUE", "field": "nome", "label": "Nome"}, {"type": "VALUE", "field": "email", "label": "E-mail"}, {"type": "VALUE", "field": "cpf", "label": "CPF"}, {"type": "VALUE", "field": "matricula", "label": "Matrícula"}, {"type": "VALUE", "field": "apelido", "label": "Apelido"}, {"type": "VALUE", "field": "telefone", "label": "Telefone"}, {"type": "VALUE", "field": "situacao_funcional", "label": "Sexo", "lookup": {"field": "situacao_funcional", "label": "Sexo", "lookup": "SEXO"}}, {"type": "VALUE", "field": "sexo", "label": "Situação Funcional", "lookup": {"field": "sexo", "label": "Situação Funcional", "lookup": "USUARIO_SITUACAO_FUNCIONAL"}}, {"type": "TEMPLATE", "field": "texto_complementar_plano", "label": "Mensagem do Plano de trabalho"}]}, {"type": "OBJECT", "field": "unidade", "label": "Unidade", "fields": [{"type": "VALUE", "field": "codigo", "label": "Código"}, {"type": "VALUE", "field": "sigla", "label": "Sigla"}, {"type": "VALUE", "field": "nome", "label": "Nome"}, {"type": "OBJECT", "field": "gestor", "label": "Gestor", "fields": [{"type": "VALUE", "field": "nome", "label": "Nome"}, {"type": "VALUE", "field": "email", "label": "E-mail"}, {"type": "VALUE", "field": "cpf", "label": "CPF"}, {"type": "VALUE", "field": "matricula", "label": "Matrícula"}, {"type": "VALUE", "field": "apelido", "label": "Apelido"}, {"type": "VALUE", "field": "telefone", "label": "Telefone"}, {"type": "VALUE", "field": "situacao_funcional", "label": "Sexo", "lookup": {"field": "situacao_funcional", "label": "Sexo", "lookup": "SEXO"}}, {"type": "VALUE", "field": "sexo", "label": "Situação Funcional", "lookup": {"field": "sexo", "label": "Situação Funcional", "lookup": "USUARIO_SITUACAO_FUNCIONAL"}}, {"type": "TEMPLATE", "field": "texto_complementar_plano", "label": "Mensagem do Plano de trabalho"}]}, {"type": "OBJECT", "field": "gestor_substituto", "label": "Gestor substituto", "fields": [{"type": "VALUE", "field": "nome", "label": "Nome"}, {"type": "VALUE", "field": "email", "label": "E-mail"}, {"type": "VALUE", "field": "cpf", "label": "CPF"}, {"type": "VALUE", "field": "matricula", "label": "Matrícula"}, {"type": "VALUE", "field": "apelido", "label": "Apelido"}, {"type": "VALUE", "field": "telefone", "label": "Telefone"}, {"type": "VALUE", "field": "situacao_funcional", "label": "Sexo", "lookup": {"field": "situacao_funcional", "label": "Sexo", "lookup": "SEXO"}}, {"type": "VALUE", "field": "sexo", "label": "Situação Funcional", "lookup": {"field": "sexo", "label": "Situação Funcional", "lookup": "USUARIO_SITUACAO_FUNCIONAL"}}, {"type": "TEMPLATE", "field": "texto_complementar_plano", "label": "Mensagem do Plano de trabalho"}]}, {"type": "OBJECT", "field": "entidade", "label": "Entidade", "fields": [{"type": "VALUE", "field": "sigla", "label": "Sigla"}, {"type": "VALUE", "field": "nome", "label": "Nome"}, {"type": "OBJECT", "field": "gestor", "label": "Gestor", "fields": [{"type": "VALUE", "field": "nome", "label": "Nome"}, {"type": "VALUE", "field": "email", "label": "E-mail"}, {"type": "VALUE", "field": "cpf", "label": "CPF"}, {"type": "VALUE", "field": "matricula", "label": "Matrícula"}, {"type": "VALUE", "field": "apelido", "label": "Apelido"}, {"type": "VALUE", "field": "telefone", "label": "Telefone"}, {"type": "VALUE", "field": "situacao_funcional", "label": "Sexo", "lookup": {"field": "situacao_funcional", "label": "Sexo", "lookup": "SEXO"}}, {"type": "VALUE", "field": "sexo", "label": "Situação Funcional", "lookup": {"field": "sexo", "label": "Situação Funcional", "lookup": "USUARIO_SITUACAO_FUNCIONAL"}}, {"type": "TEMPLATE", "field": "texto_complementar_plano", "label": "Mensagem do Plano de trabalho"}]}, {"type": "OBJECT", "field": "gestor_substituto", "label": "Gestor substituto", "fields": [{"type": "VALUE", "field": "nome", "label": "Nome"}, {"type": "VALUE", "field": "email", "label": "E-mail"}, {"type": "VALUE", "field": "cpf", "label": "CPF"}, {"type": "VALUE", "field": "matricula", "label": "Matrícula"}, {"type": "VALUE", "field": "apelido", "label": "Apelido"}, {"type": "VALUE", "field": "telefone", "label": "Telefone"}, {"type": "VALUE", "field": "situacao_funcional", "label": "Sexo", "lookup": {"field": "situacao_funcional", "label": "Sexo", "lookup": "SEXO"}}, {"type": "VALUE", "field": "sexo", "label": "Situação Funcional", "lookup": {"field": "sexo", "label": "Situação Funcional", "lookup": "USUARIO_SITUACAO_FUNCIONAL"}}, {"type": "TEMPLATE", "field": "texto_complementar_plano", "label": "Mensagem do Plano de trabalho"}]}, {"type": "OBJECT", "field": "cidade", "label": "Cidade", "fields": [{"type": "VALUE", "field": "codigo_ibge", "label": "Código"}, {"type": "VALUE", "field": "nome", "label": "Nome"}, {"type": "VALUE", "field": "uf", "label": "UF"}]}]}, {"type": "OBJECT", "field": "cidade", "label": "Cidade", "fields": [{"type": "VALUE", "field": "codigo_ibge", "label": "Código"}, {"type": "VALUE", "field": "nome", "label": "Nome"}, {"type": "VALUE", "field": "uf", "label": "UF"}]}, {"type": "TEMPLATE", "field": "texto_complementar_plano", "label": "Mensagem do Plano de trabalho"}]}, {"type": "OBJECT", "field": "programa", "label": "Programa", "fields": [{"type": "VALUE", "field": "nome", "label": "Nome"}, {"type": "VALUE", "field": "normativa", "label": "Normativa"}, {"type": "DATETIME", "field": "data_inicio", "label": "Data início"}, {"type": "DATETIME", "field": "data_fim", "label": "Data término"}]}, {"type": "ARRAY", "field": "entregas", "label": "Entregas", "fields": [{"type": "VALUE", "field": "descricao", "label": "Descrição da entrega"}, {"type": "VALUE", "field": "forca_trabalho", "label": "Percentual da força de trabalho"}, {"type": "VALUE", "field": "orgao", "label": "Órgão externo vinculado à entrega"}, {"type": "VALUE", "field": "meta", "label": "Meta estipulada para a entrega"}, {"type": "OBJECT", "field": "entrega", "label": "Entrega do plano de entrega", "fields": [{"type": "VALUE", "field": "descricao", "label": "Descrição da entrega"}, {"type": "DATETIME", "field": "data_inicio", "label": "Data de início"}, {"type": "DATETIME", "field": "data_fim", "label": "Data de término"}, {"type": "VALUE", "field": "homologado", "label": "Se a entrega já foi homologada"}, {"type": "VALUE", "field": "progresso_esperado", "label": "Percentual de progresso esperado da entrega"}, {"type": "VALUE", "field": "progresso_realizado", "label": "Percentual de progresso realizado da entrega"}, {"type": "VALUE", "field": "destinatario", "label": "Destinatário da entrega"}]}]}]}]',
      ],
      [
        "id" => UtilService::uuid('PTR_LISTA_ENTREGAS'),
        "codigo" => "PTR_LISTA_ENTREGAS",
        "especie" => "RELATORIO",
        "titulo" => "Relatório de entregas de um plano",
        "conteudo" => '<p style="text-align: center;"><strong>Relat&oacute;rio do Plano de Trabalho</strong></p><table class="table table-sm table-bordered"><colgroup><col style="width: 15.8807%;"><col style="width: 16.5544%;"><col style="width: 22.0404%;"><col style="width: 35.8037%;"><col style="width: 9.72089%;"></colgroup><tbody><tr><td style="border-width: 1px; border-color: rgb(0, 0, 0); background-color: rgb(206, 212, 217);"><strong>Participante</strong></td><td style="border-width: 1px; border-color: rgb(0, 0, 0); background-color: rgb(206, 212, 217);"><strong>Unidade</strong></td><td style="border-width: 1px; border-color: rgb(0, 0, 0); background-color: rgb(206, 212, 217);"><strong>Modalidade</strong></td><td style="border-width: 1px; border-color: rgb(0, 0, 0); background-color: rgb(206, 212, 217);"><strong>Vig&ecirc;ncia&nbsp;</strong></td><td style="border-width: 1px; border-color: rgb(0, 0, 0); background-color: rgb(206, 212, 217);"><strong>Status</strong></td></tr><tr><td style="border-width: 1px; border-color: rgb(0, 0, 0);"><span style="font-size: 10pt;">{{usuario.apelido}}</span></td><td style="border-width: 1px; border-color: rgb(0, 0, 0);"><span style="font-size: 10pt;">{{unidade.nome}}</span></td><td style="border-width: 1px; border-color: rgb(0, 0, 0);"><span style="font-size: 10pt;">{{tipo_modalidade.nome}}</span></td><td style="border-width: 1px; border-color: rgb(0, 0, 0);"><span style="font-size: 10pt;">{{data_inicio}} at&eacute; {{plano.data_fim}}</span></td><td style="border-width: 1px; border-color: rgb(0, 0, 0);"><span style="font-size: 10pt;">{{status}}</span></td></tr><tr><td style="border-width: 1px; border-color: rgb(0, 0, 0);" colspan="5"><p><strong>Entregas:</strong></p><table class="table table-bordered table-sm" style="width: 100%; border-collapse: collapse; border: 1px solid rgb(0, 0, 0);" border="1"><colgroup> <col style="width: 3.71635%;"> <col style="width: 29.075%;"> <col style="width: 0.874436%;"> <col style="width: 0.874436%;"> <col style="width: 65.1455%;"> </colgroup><tbody><tr><td style="border-width: 1px; border-color: rgb(0, 0, 0); background-color: rgb(206, 212, 217);" colspan="4"><strong>Descri&ccedil;&atilde;o</strong></td><td style="border-width: 1px; border-color: rgb(0, 0, 0); background-color: rgb(206, 212, 217);"><strong>% CHD</strong></td></tr><tr><td style="border-width: 1px; border-color: rgb(0, 0, 0);" colspan="5"><strong>{{for:entregas[entrega];drop=tr}}&nbsp;</strong><strong><br></strong></td></tr><tr><td style="border-width: 1px; border-color: rgb(0, 0, 0);" colspan="4"><span style="font-size: 10pt;">{{entrega.descricao}}</span></td><td style="border-width: 1px; border-color: rgb(0, 0, 0);"><span style="font-size: 10pt;">&nbsp;{{entrega.forca_trabalho}}</span></td></tr><tr><td style="border-width: 1px; border-color: rgb(0, 0, 0);" colspan="5"><strong>{{end-for;drop=tr}}</strong></td></tr></tbody></table></td></tr><tr><td style="border-color: rgb(0, 0, 0); border-width: 1px;" colspan="5">&nbsp;</td></tr></tbody></table><p>&nbsp;</p>',
        "dataset" => '[{"type": "VALUE", "field": "carga_horaria", "label": "Carga horária diária"}, {"type": "VALUE", "field": "tempo_total", "label": "Tempo total do plano"}, {"type": "VALUE", "field": "tempo_proporcional", "label": "Tempo proporcional (descontando afastamentos)"}, {"type": "VALUE", "field": "status", "label": "Status do plano"}, {"type": "DATETIME", "field": "data_inicio", "label": "Data inicial do plano"}, {"type": "DATETIME", "field": "data_fim", "label": "Data final do plano"}, {"type": "OBJECT", "field": "tipo_modalidade", "label": "Tipo de modalidade", "fields": [{"type": "VALUE", "field": "nome", "label": "Nome"}]}, {"type": "OBJECT", "field": "usuario", "label": "Usuário", "fields": [{"type": "VALUE", "field": "nome", "label": "Nome"}, {"type": "VALUE", "field": "email", "label": "E-mail"}, {"type": "VALUE", "field": "cpf", "label": "CPF"}, {"type": "VALUE", "field": "matricula", "label": "Matrícula"}, {"type": "VALUE", "field": "apelido", "label": "Apelido"}, {"type": "VALUE", "field": "telefone", "label": "Telefone"}, {"type": "VALUE", "field": "sexo", "label": "Sexo", "lookup": {"field": "sexo", "label": "Sexo", "lookup": "SEXO"}}, {"type": "VALUE", "field": "situacao_funcional", "label": "Situação Funcional", "lookup": {"field": "situacao_funcional", "label": "Situação Funcional", "lookup": "USUARIO_SITUACAO_FUNCIONAL"}}, {"type": "TEMPLATE", "field": "texto_complementar_plano", "label": "Mensagem do Plano de trabalho"}]}, {"type": "OBJECT", "field": "unidade", "label": "Unidade", "fields": [{"type": "VALUE", "field": "codigo", "label": "Código"}, {"type": "VALUE", "field": "sigla", "label": "Sigla"}, {"type": "VALUE", "field": "nome", "label": "Nome"}, {"type": "OBJECT", "field": "gestor", "label": "Gestor", "fields": [{"type": "VALUE", "field": "nome", "label": "Nome"}, {"type": "VALUE", "field": "email", "label": "E-mail"}, {"type": "VALUE", "field": "cpf", "label": "CPF"}, {"type": "VALUE", "field": "matricula", "label": "Matrícula"}, {"type": "VALUE", "field": "apelido", "label": "Apelido"}, {"type": "VALUE", "field": "telefone", "label": "Telefone"}, {"type": "VALUE", "field": "sexo", "label": "Sexo", "lookup": {"field": "sexo", "label": "Sexo", "lookup": "SEXO"}}, {"type": "VALUE", "field": "situacao_funcional", "label": "Situação Funcional", "lookup": {"field": "situacao_funcional", "label": "Situação Funcional", "lookup": "USUARIO_SITUACAO_FUNCIONAL"}}, {"type": "TEMPLATE", "field": "texto_complementar_plano", "label": "Mensagem do Plano de trabalho"}]}, {"type": "OBJECT", "field": "gestor_substituto", "label": "Gestor substituto", "fields": [{"type": "VALUE", "field": "nome", "label": "Nome"}, {"type": "VALUE", "field": "email", "label": "E-mail"}, {"type": "VALUE", "field": "cpf", "label": "CPF"}, {"type": "VALUE", "field": "matricula", "label": "Matrícula"}, {"type": "VALUE", "field": "apelido", "label": "Apelido"}, {"type": "VALUE", "field": "telefone", "label": "Telefone"}, {"type": "VALUE", "field": "sexo", "label": "Sexo", "lookup": {"field": "sexo", "label": "Sexo", "lookup": "SEXO"}}, {"type": "VALUE", "field": "situacao_funcional", "label": "Situação Funcional", "lookup": {"field": "situacao_funcional", "label": "Situação Funcional", "lookup": "USUARIO_SITUACAO_FUNCIONAL"}}, {"type": "TEMPLATE", "field": "texto_complementar_plano", "label": "Mensagem do Plano de trabalho"}]}, {"type": "OBJECT", "field": "entidade", "label": "Entidade", "fields": [{"type": "VALUE", "field": "sigla", "label": "Sigla"}, {"type": "VALUE", "field": "nome", "label": "Nome"}, {"type": "OBJECT", "field": "gestor", "label": "Gestor", "fields": [{"type": "VALUE", "field": "nome", "label": "Nome"}, {"type": "VALUE", "field": "email", "label": "E-mail"}, {"type": "VALUE", "field": "cpf", "label": "CPF"}, {"type": "VALUE", "field": "matricula", "label": "Matrícula"}, {"type": "VALUE", "field": "apelido", "label": "Apelido"}, {"type": "VALUE", "field": "telefone", "label": "Telefone"}, {"type": "VALUE", "field": "sexo", "label": "Sexo", "lookup": {"field": "sexo", "label": "Sexo", "lookup": "SEXO"}}, {"type": "VALUE", "field": "situacao_funcional", "label": "Situação Funcional", "lookup": {"field": "situacao_funcional", "label": "Situação Funcional", "lookup": "USUARIO_SITUACAO_FUNCIONAL"}}, {"type": "TEMPLATE", "field": "texto_complementar_plano", "label": "Mensagem do Plano de trabalho"}]}, {"type": "OBJECT", "field": "gestor_substituto", "label": "Gestor substituto", "fields": [{"type": "VALUE", "field": "nome", "label": "Nome"}, {"type": "VALUE", "field": "email", "label": "E-mail"}, {"type": "VALUE", "field": "cpf", "label": "CPF"}, {"type": "VALUE", "field": "matricula", "label": "Matrícula"}, {"type": "VALUE", "field": "apelido", "label": "Apelido"}, {"type": "VALUE", "field": "telefone", "label": "Telefone"}, {"type": "VALUE", "field": "sexo", "label": "Sexo", "lookup": {"field": "sexo", "label": "Sexo", "lookup": "SEXO"}}, {"type": "VALUE", "field": "situacao_funcional", "label": "Situação Funcional", "lookup": {"field": "situacao_funcional", "label": "Situação Funcional", "lookup": "USUARIO_SITUACAO_FUNCIONAL"}}, {"type": "TEMPLATE", "field": "texto_complementar_plano", "label": "Mensagem do Plano de trabalho"}]}, {"type": "OBJECT", "field": "cidade", "label": "Cidade", "fields": [{"type": "VALUE", "field": "codigo_ibge", "label": "Código"}, {"type": "VALUE", "field": "nome", "label": "Nome"}, {"type": "VALUE", "field": "uf", "label": "UF"}]}]}, {"type": "OBJECT", "field": "cidade", "label": "Cidade", "fields": [{"type": "VALUE", "field": "codigo_ibge", "label": "Código"}, {"type": "VALUE", "field": "nome", "label": "Nome"}, {"type": "VALUE", "field": "uf", "label": "UF"}]}, {"type": "TEMPLATE", "field": "texto_complementar_plano", "label": "Mensagem do Plano de trabalho"}]}, {"type": "OBJECT", "field": "programa", "label": "Programa", "fields": [{"type": "VALUE", "field": "nome", "label": "Nome"}, {"type": "VALUE", "field": "normativa", "label": "Normativa"}, {"type": "DATETIME", "field": "data_inicio", "label": "Data início"}, {"type": "DATETIME", "field": "data_fim", "label": "Data término"}]}, {"type": "ARRAY", "field": "entregas", "label": "Entregas", "fields": [{"type": "VALUE", "field": "descricao", "label": "Descrição da entrega"}, {"type": "VALUE", "field": "forca_trabalho", "label": "Percentual da força de trabalho"}, {"type": "VALUE", "field": "orgao", "label": "Órgão externo vinculado à entrega"}, {"type": "VALUE", "field": "meta", "label": "Meta estipulada para a entrega"}, {"type": "OBJECT", "field": "entrega", "label": "Entrega do plano de entrega", "fields": [{"type": "VALUE", "field": "descricao", "label": "Descrição da entrega"}, {"type": "DATETIME", "field": "data_inicio", "label": "Data de início"}, {"type": "DATETIME", "field": "data_fim", "label": "Data de término"}, {"type": "VALUE", "field": "homologado", "label": "Se a entrega já foi homologada"}, {"type": "VALUE", "field": "progresso_esperado", "label": "Percentual de progresso esperado da entrega"}, {"type": "VALUE", "field": "progresso_realizado", "label": "Percentual de progresso realizado da entrega"}, {"type": "VALUE", "field": "destinatario", "label": "Destinatário da entrega"}]}]}]',
      ],
      [
        "id" => UtilService::uuid('PLAN_INSTITUCIONAL'),
        "codigo" => "PLAN_INSTITUCIONAL",
        "especie" => "RELATORIO",
        "titulo" => "Relatório de um planejamento",
        "conteudo" => '<p style="text-align: left;"><span style="font-size: 14pt;"><strong>{{nome}}</strong></span></p><p style="text-align: left;">Per&iacute;odo: {{data_inicio}} - {{data_fim}}</p><table class="table table-striped table-sm" style="width: 100%; border-collapse: collapse; border-width: 0px;" border="1"><colgroup><col style="width: 50.3817%;"><col style="width: 49.6183%;"></colgroup><tbody><tr><td style="text-align: center; border-width: 0px;" scope="col"><p><strong>Miss&atilde;o</strong></p><p><span style="font-size: 8pt;"><em>{{missao}}</em></span></p></td><td style="text-align: center; border-width: 0px;"><p><strong>Vis&atilde;o</strong></p><p><span style="font-size: 8pt;"><em>{{visao}}</em></span></p></td></tr></tbody></table><table class="table table-striped table-sm"><colgroup><col style="width: 50%;"><col style="width: 50%;"></colgroup><tbody><tr><td>Valores</td><td>&nbsp;</td></tr><tr><td scope="col"><p>{{for:valores[valor]}}</p><p><em><strong>{{valores.value}}</strong></em></p><p>&nbsp;{{end-for}}</p></td><td>&nbsp;</td></tr></tbody></table><p style="text-align: center;"><span style="font-size: 14pt;"><strong>Objetivos</strong></span></p><p><strong>{{for:objetivos[objetivo]}}</strong></p><table class="table table-borderless table-sm"><colgroup><col style="width: 99.9064%;"></colgroup><tbody><tr><td style="border-color: rgb(0, 0, 0);"><p style="padding-left: 40px;"><strong>{{objetivo.nome}}</strong></p><p style="padding-left: 40px;"><span style="font-size: 8pt;">{{objetivo.fundamentacao}}</span></p></td></tr></tbody></table><p><strong>&nbsp;{{end-for}}</strong></p>',
        "dataset" => '[{"type": "VALUE", "field": "nome", "label": "Nome"}, {"type": "VALUE", "field": "missao", "label": "Missão"}, {"type": "VALUE", "field": "visao", "label": "Visão"}, {"type": "DATE", "field": "data_inicio", "label": "Data início"}, {"type": "DATE", "field": "data_fim", "label": "Data término"}, {"type": "ARRAY", "field": "objetivos", "label": "Objetivos", "fields": [{"type": "VALUE", "field": "nome", "label": "Nome"}, {"type": "VALUE", "field": "fundamentacao", "label": "Fundamentação"}]}]',
      ]
    ];

    foreach ($templates as $t) {
      Template::firstOrCreate(['codigo' => $t['codigo']], [
        'id' => $t['id'],
        'numero' => (function () {
          try {
            return DB::select("CALL sequence_template_numero()")[0]->number;
          } catch (\Throwable $e) {
            $max = DB::table('templates')->max('numero');
            return ($max ?? 0) + 1;
          }
        })(),
        'especie' => $t['especie'],
        'titulo' => $t['titulo'],
        'conteudo' => $t['conteudo'],
        'dataset' => $t['dataset'],
        'entidade_id' => $entidade_id
      ]);
    }
  }
}

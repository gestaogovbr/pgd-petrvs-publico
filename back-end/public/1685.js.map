<<<<<<< HEAD
{"version":3,"file":"1685.js","mappings":"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","sources":["./src/app/modules/gestao/planejamento-institucional/planejamento-form-objetivo/planejamento-form-objetivo.component.ts","./src/app/modules/gestao/planejamento-institucional/planejamento-form-objetivo/planejamento-form-objetivo.component.html","./src/app/modules/gestao/planejamento-institucional/planejamento-form/planejamento-form.component.ts","./src/app/modules/gestao/planejamento-institucional/planejamento-form/planejamento-form.component.html","./src/app/modules/gestao/planejamento-institucional/planejamento-list-objetivo/planejamento-list-objetivo.component.ts","./src/app/modules/gestao/planejamento-institucional/planejamento-list-objetivo/planejamento-list-objetivo.component.html","./src/app/modules/gestao/planejamento-institucional/planejamento-list-objetivos-entregas/planejamento-list-objetivos-entregas.component.ts","./src/app/modules/gestao/planejamento-institucional/planejamento-list-objetivos-entregas/planejamento-list-objetivos-entregas.component.html","./src/app/modules/gestao/planejamento-institucional/planejamento-list/planejamento-list.component.ts","./src/app/modules/gestao/planejamento-institucional/planejamento-list/planejamento-list.component.html","./src/app/modules/gestao/planejamento-institucional/planejamento-mapa/planejamento-mapa.component.ts","./src/app/modules/gestao/planejamento-institucional/planejamento-mapa/planejamento-mapa.component.html","./src/app/modules/gestao/planejamento-institucional/planejamento-okr/planejamento-okr.component.ts","./src/app/modules/gestao/planejamento-institucional/planejamento-okr/planejamento-okr.component.html","./src/app/modules/gestao/planejamento-institucional/planejamento-routing.module.ts","./src/app/modules/gestao/planejamento-institucional/planejamento.module.ts"],"sourcesContent":["import { Component, Injector, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { InputSearchComponent } from 'src/app/components/input/input-search/input-search.component';\r\nimport { InputSelectComponent } from 'src/app/components/input/input-select/input-select.component';\r\nimport { InputTextComponent } from 'src/app/components/input/input-text/input-text.component';\r\nimport { EixoTematicoDaoService } from 'src/app/dao/eixo-tematico-dao.service';\r\nimport { PlanejamentoDaoService } from 'src/app/dao/planejamento-dao.service';\r\nimport { PlanejamentoObjetivoDaoService } from 'src/app/dao/planejamento-objetivo-dao.service';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { PlanejamentoObjetivo } from 'src/app/models/planejamento-objetivo.model';\r\nimport { Planejamento } from 'src/app/models/planejamento.model';\r\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\r\nimport { LookupItem } from 'src/app/services/lookup.service';\r\nimport { NavigateResult } from 'src/app/services/navigate.service';\r\n\r\n@Component({\r\n  selector: 'app-planejamento-form-objetivo',\r\n  templateUrl: './planejamento-form-objetivo.component.html',\r\n  styleUrls: ['./planejamento-form-objetivo.component.scss']\r\n})\r\nexport class PlanejamentoFormObjetivoComponent extends PageFormBase<PlanejamentoObjetivo, PlanejamentoObjetivoDaoService> {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n  @ViewChild('planejamentoSuperiorNome', {static: false}) public planejamentoSuperiorNome?: InputTextComponent;\r\n  @ViewChild('eixoTematico', {static: false}) public eixoTematico?: InputSearchComponent;\r\n\r\n  public planejamento?: Planejamento;\r\n  public objetivos: LookupItem[] = [];\r\n  public objetivos_superiores: LookupItem[] = [];\r\n  public planejamentoDao?: PlanejamentoDaoService;\r\n  public eixoTematicoDao?: EixoTematicoDaoService;\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, PlanejamentoObjetivo, PlanejamentoObjetivoDaoService);\r\n    this.planejamentoDao = injector.get<PlanejamentoDaoService>(PlanejamentoDaoService);\r\n    this.eixoTematicoDao = injector.get<EixoTematicoDaoService>(EixoTematicoDaoService);\r\n    this.form = this.fh.FormBuilder({\r\n      nome: {default: \"\"},\r\n      fundamentacao: {default: \"\"},\r\n      planejamento_id: {default: null},\r\n      planejamento_superior_nome: {default: \"\"},\r\n      eixo_tematico_id: {default: null},\r\n      objetivo_superior_id: {default: null},\r\n      objetivo_pai_id: {default: null},\r\n      integra_okr: {default: true},\r\n    }, this.cdRef, this.validate);\r\n  }\r\n\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n    if(['nome','fundamentacao'].indexOf(controlName) >= 0 && !control.value?.length) result = \"Obrigatrio\";\r\n    if(['eixo_tematico_id'].indexOf(controlName) >= 0 && !control.value?.length) result = \"Obrigatrio\";\r\n    return result;\r\n  }\r\n\r\n  public formValidation = (form?: FormGroup) =>{\r\n    let result = null;\r\n    /*  Regra est sendo discutida\r\n        (RN_PLAN_INST_OBJ_A)\r\n        Quando o Planejamento  de uma Unidade Executora  obrigatrio associar cada um dos seus objetivos a um objetivo do Planejamento Institucional superior\r\n    */\r\n/*     if(this.isPlanejamentoUNEX() && !this.form?.controls.objetivo_superior_id.value){\r\n      result = \"Quando o Planejamento  de uma Unidade Executora  obrigatrio associar cada um dos seus objetivos a um objetivo do Planejamento Institucional superior!\";\r\n    } */\r\n    return result;\r\n  }\r\n\r\n  public async loadData(entity: PlanejamentoObjetivo, form: FormGroup) {\r\n    let formValue = Object.assign({}, form.value);\r\n    form.patchValue(this.util.fillForm(formValue, entity));\r\n    await this.eixoTematico?.loadSearch(entity.eixo_tematico || entity.eixo_tematico_id);\r\n    this.title = entity._status == 'ADD' ? 'Incluso de Objetivo' : 'Editando objetivo...';\r\n    this.planejamento = this.metadata?.planejamento as Planejamento;\r\n    if(this.metadata?.planejamento_superior) this.planejamento.planejamento_superior = this.metadata.planejamento_superior as Planejamento;\r\n    this.form?.controls.planejamento_superior_nome.setValue(this.planejamento?.planejamento_superior?.nome || '');\r\n    this.objetivos_superiores = this.planejamento?.planejamento_superior?.objetivos?.map(x => Object.assign({}, { key: x.id, value: x.nome, data: x })) || [];\r\n  }\r\n\r\n  public async initializeData(form: FormGroup) {\r\n    this.entity = this.metadata?.objetivo as PlanejamentoObjetivo;\r\n    this.objetivos = (this.metadata?.objetivos as PlanejamentoObjetivo[]).map(x => Object.assign({}, {\r\n      key: x.id,\r\n      value: x.nome,\r\n      data: x\r\n    }));\r\n    await this.loadData(this.entity!, form);\r\n  }\r\n\r\n  public saveData(form: IIndexable): Promise<NavigateResult> {\r\n    return new Promise<NavigateResult>(async (resolve, reject) => {\r\n      const objetivo = Object.assign({eixo_tematico: this.eixoTematico?.selectedItem?.entity}, this.entity!);\r\n      resolve(new NavigateResult(this.util.fillForm(objetivo, this.form!.value)));\r\n    });\r\n  }\r\n\r\n  public isPlanejamentoUNEX(): boolean {\r\n    return this.planejamento?.unidade_id != null;\r\n  }\r\n\r\n  public onObjetivoPaiChange(row: any) {\r\n    const objetivoPai = this.form!.controls.objetivo_pai_id.value;\r\n    const eixoTematicoId = this.objetivos.find(x => x.key === objetivoPai)?.data.eixo_tematico_id;\r\n    if (eixoTematicoId) this.form!.controls.eixo_tematico_id.setValue(eixoTematicoId);\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public onObjetivoSuperiorChange(row: any) {\r\n    //let objetivoSuperior = this.objetivos_superiores.find(x => x.key === this.form?.controls.objetivo_superior_id.value)?.data.eixo_tematico_id;  \r\n    let idEixoTematicoObjetivoSuperior = this.objetivos_superiores.find(x => x.key === this.form?.controls.objetivo_superior_id.value)?.data.eixo_tematico_id;  \r\n    if (!this.form!.controls.eixo_tematico_id.value) this.form!.controls.eixo_tematico_id.setValue(idEixoTematicoObjetivoSuperior);\r\n    this.cdRef.detectChanges();\r\n  }\r\n}\r\n","<editable-form [form]=\"form!\" [disabled]=\"formDisabled\" [title]=\"isModal ? '' : title\" initialFocus=\"nome\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\">\r\n    <div class=\"row\">\r\n        <div class=\"row\">\r\n            <input-text [size]=\"12\" icon=\"bi bi-textarea-t\" label=\"Nome\" controlName=\"nome\" [control]=\"form!.controls.nome\" [attr.maxlength]=250 required></input-text>\r\n        </div>\r\n        <div class=\"row\">\r\n            <input-search [size]=\"6\" #eixoTematico [disabled]=\"form?.controls?.objetivo_pai_id?.value ? 'true' : undefined\" controlName=\"eixo_tematico_id\" [dao]=\"eixoTematicoDao\" required ></input-search>\r\n            <input-select [size]=\"6\" #objetivoPai [items]=\"objetivos\" label=\"Objetivo Pai\" icon=\"fab fa-unity\" controlName=\"objetivo_pai_id\" (change)=\"onObjetivoPaiChange($event)\"></input-select>\r\n        </div>\r\n        <separator *ngIf=\"planejamento?.planejamento_superior_id\" [margin]=\"2\" title=\"Vinculo com Planejamento Superior\">\r\n            <div class=\"row\">\r\n                <input-text [size]=\"6\" disabled label=\"Planejamento Superior vinculado\" [icon]=\"entityService.getIcon('Planejamento')\" controlName=\"planejamento_superior_nome\" [attr.maxlength]=250></input-text>\r\n                <input-select [items]=\"objetivos_superiores\" [size]=\"6\" label=\"Objetivo de Planejamento Superior (Vinculado)\" icon=\"fab fa-unity\" controlName=\"objetivo_superior_id\" [control]=\"form!.controls.objetivo_superior_id\" (change)=\"onObjetivoSuperiorChange($event)\"></input-select>\r\n            </div>\r\n        </separator>\r\n        <div class=\"row\">\r\n            <input-textarea icon=\"bi bi-textarea-t\" label=\"Fundamentao\" [size]=\"12\" [rows]=\"4\" controlName=\"fundamentacao\" [control]=\"form!.controls.fundamentacao\" required></input-textarea>\r\n        </div>\r\n    </div>\r\n</editable-form>\r\n","import { Component, Injector, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { PlanejamentoDaoService } from 'src/app/dao/planejamento-dao.service';\r\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { Planejamento } from 'src/app/models/planejamento.model';\r\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\r\nimport { LookupItem } from 'src/app/services/lookup.service';\r\nimport { PlanejamentoListObjetivoComponent } from '../planejamento-list-objetivo/planejamento-list-objetivo.component';\r\nimport { InputSelectComponent } from 'src/app/components/input/input-select/input-select.component';\r\nimport { UtilService } from \"src/app/services/util.service\";\r\n\r\n@Component({\r\n  selector: 'app-planejamento-form',\r\n  templateUrl: './planejamento-form.component.html',\r\n  styleUrls: ['./planejamento-form.component.scss']\r\n})\r\nexport class PlanejamentoFormComponent extends PageFormBase<Planejamento, PlanejamentoDaoService> {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n  @ViewChild(GridComponent, { static: true }) public grid?: GridComponent;\r\n  @ViewChild('planejamentoSuperior', { static: false }) public planejamentoSuperior?: InputSelectComponent;\r\n  @ViewChild('objetivos', { static: false }) public objetivos?: PlanejamentoListObjetivoComponent;\r\n\r\n  public unidadeDao: UnidadeDaoService;\r\n  public planejamentosSuperiores: LookupItem[] = [];\r\n  public hasPermissionToUNEX: boolean = false;\r\n  public form: FormGroup;\r\n  public util: UtilService;\r\n  public joinPlanejamentoSuperior: string[] = [];\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, Planejamento, PlanejamentoDaoService);\r\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\r\n    this.hasPermissionToUNEX = this.auth.hasPermissionTo('MOD_PLAN_INST_INCL_UNEX_LOTPRI') || this.auth.hasPermissionTo('MOD_PLAN_INST_INCL_UNEX_QQLOT') || this.auth.hasPermissionTo('MOD_PLAN_INST_INCL_UNEX_SUBORD') || this.auth.hasPermissionTo('MOD_PLAN_INST_INCL_UNEX_QUALQUER');\r\n    this.join = [\r\n      'objetivos',\r\n      'objetivos.objetivo_pai:id,nome',\r\n      'objetivos.objetivo_superior:id,planejamento_id',\r\n      'objetivos.eixo_tematico:id,nome',\r\n      'planejamento_superior:id,nome',\r\n      'planejamento_superior.objetivos'\r\n    ];\r\n    this.joinPlanejamentoSuperior = [\r\n      \"objetivos\"\r\n    ];\r\n    this.form = this.fh.FormBuilder({\r\n      nome: { default: \"\" },\r\n      unidade_id: { default: null },\r\n      entidade_id: { default: null },\r\n      planejamento_superior_id: { default: null },\r\n      data_inicio: { default: new Date() },\r\n      data_fim: { default: null },\r\n      missao: { default: \"\" },\r\n      visao: { default: \"\" },\r\n      valores: { default: [] },\r\n      valor_texto: { default: \"\" },\r\n      resultados_institucionais: { default: [] },\r\n      resultados_texto: { default: \"\" },\r\n      utilizar_superior: {default: false}\r\n    }, this.cdRef, this.validate);\r\n    this.util = injector.get<UtilService>(UtilService);\r\n  }\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n    /*  (RN_PLAN_INST_A) \r\n        Para a criao de um planejamento institucional so informaes obrigatrias: nome, misso, viso, data de incio, unidade responsvel e ao menos um dos valores institucionais.\r\n    */\r\n    if (['nome', 'unidade_id', 'missao', 'visao'].indexOf(controlName) >= 0 && !control.value?.length) {\r\n      result = \"Obrigatrio\";\r\n    }\r\n    if (controlName == 'data_inicio' && !this.dao?.validDateTime(control.value)) {\r\n      result = \"Invlido\";\r\n    }\r\n    if (controlName == 'data_fim' && control.value && !this.dao?.validDateTime(control.value)) {\r\n      result = \"Invlido\";\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public formValidation = async (form?: FormGroup) => {\r\n    /* (RN_PLAN_INST_A) Para a criao de um planejamento institucional so informaes obrigatrias: nome, misso, viso, data de incio, unidade responsvel e ao menos um dos valores institucionais. */\r\n    let result = undefined;\r\n    if (this.form!.controls.data_fim.value && this.form!.controls.data_inicio.value > this.form!.controls.data_fim.value) return \"A data do incio no pode ser maior que a data do fim! [RN_PLAN_INST_A]\";\r\n    if (this.form!.controls.valores.value.length == 0) return \" obrigatria a incluso de ao menos um valor institucional! [RN_PLAN_INST_A]\";\r\n    /* (RN_PLAN_INST_B) No pode existir mais de um planejamento institucional para uma mesma unidade em um mesmo perodo de tempo. */\r\n    let unidades = await this.dao?.query({ where: [['unidade_id', '==', this.form!.controls.unidade_id.value]] }).asPromise();\r\n    (unidades || []).forEach(un => {\r\n      if (un.id != this.entity!.id && this.util.intersection([{ start: this.util.asDate(un.data_inicio)!, end: this.util.asDate(un.data_fim)! },\r\n      { start: this.util.asDate(this.form!.controls.data_inicio.value)!, end: this.util.asDate(this.form!.controls.data_fim.value)! }])) {\r\n        result = \"Sobreposio de planejamento para o perodo de datas selecionadas [RN_PLAN_INST_B]\";\r\n      }\r\n    });\r\n    return result;\r\n  }\r\n\r\n  public async loadData(entity: Planejamento, form: FormGroup) {\r\n    let formValue = Object.assign({}, form.value);\r\n    await this.carregaPlanejamentosSuperiores(entity.unidade_id);\r\n    form.patchValue(this.util.fillForm(formValue, entity));\r\n    this.form.controls.planejamento_superior_id.setValue(entity.planejamento_superior_id);\r\n  }\r\n\r\n  public initializeData(form: FormGroup) {\r\n    this.entity = new Planejamento();\r\n    this.loadData(this.entity, form);\r\n  }\r\n\r\n  public async saveData(form: IIndexable): Promise<Planejamento> {\r\n    return new Promise<Planejamento>((resolve, reject) => {\r\n      this.objetivos!.grid!.confirm();\r\n      let planejamento = this.util.fill(new Planejamento(), this.entity!);\r\n      planejamento = this.util.fillForm(planejamento, this.form!.value);\r\n      planejamento.objetivos = this.objetivos!.items;\r\n      resolve(planejamento);\r\n    });\r\n  }\r\n\r\n  public titleEdit = (entity: Planejamento): string => {\r\n    return \"Editando \" + this.lex.translate(\"Planejamento Institucional\") + ': ' + (entity?.nome || \"\");\r\n  }\r\n\r\n  public addValorHandle(): LookupItem | undefined {\r\n    let result = undefined;\r\n    const value = this.form.controls.valor_texto.value;\r\n    const key = this.util.textHash(value);\r\n    if (value?.length && this.util.validateLookupItem(this.form.controls.valores.value, key)) {\r\n      result = {\r\n        key: key,\r\n        value: this.form.controls.valor_texto.value\r\n      };\r\n      this.form.controls.valor_texto.setValue(\"\");\r\n    }\r\n    return result;\r\n  };\r\n\r\n  public addResultadoHandle(): LookupItem | undefined {\r\n    let result = undefined;\r\n    const value = this.form.controls.resultados_texto.value;\r\n    const key = this.util.textHash(value);\r\n    if (value?.length && this.util.validateLookupItem(this.form.controls.resultados_institucionais.value, key)) {\r\n      result = {\r\n        key: key,\r\n        value: this.form.controls.resultados_texto.value\r\n      };\r\n      this.form.controls.resultados_texto.setValue(\"\");\r\n    }    \r\n    return result;\r\n  };\r\n\r\n  public async onUnidadeChange(event: Event) {\r\n    if (this.entity!.unidade_id != this.form.controls.unidade_id.value) await this.carregaPlanejamentosSuperiores(this.form.controls.unidade_id.value);\r\n  }\r\n\r\n  public async carregaPlanejamentosSuperiores(unidadeId?: string | null) {\r\n    if (unidadeId?.length) {\r\n      let pls = await this.dao?.query({ where: [['unidade_id', '==', unidadeId], ['manut_planej_unidades_executoras', '==', true]], join: this.joinPlanejamentoSuperior }).asPromise();\r\n      this.planejamentosSuperiores = (pls || []).map(x => Object.assign({}, { key: x.id, value: x.nome, data: x }) as LookupItem);\r\n      this.planejamentosSuperiores.unshift({ key: null, value: 'Escolha um Planejamento superior...' });\r\n      this.objetivos!.loadData(this.entity!, this.form!);\r\n      this.cdRef.detectChanges();\r\n    }\r\n  }\r\n\r\n  public async onUtilizarSuperiorChange(event: Event) {\r\n    let unidade_superior_id = this.form.controls.planejamento_superior_id.value;\r\n    if (this.form.controls.utilizar_superior.value && unidade_superior_id?.length) {\r\n      let pls = await this.dao?.query({ where: [['id', '==', unidade_superior_id]]}).asPromise();\r\n      this.form.controls.missao.setValue(pls![0].missao);\r\n      this.form.controls.visao.setValue(pls![0].visao);\r\n      this.form.controls.valores.setValue(pls![0].valores);\r\n      this.form.controls.resultados_institucionais.setValue(pls![0].resultados_institucionais);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @param event \r\n   * Se o planejamento superior for alterado, e j houver objetivos na lista vinculados a objetivos dele, avisar que eles perdero esses vnculos.\r\n   */\r\n  public async onPlanejamentoChange(event: Event) {\r\n    if (this.form.controls.planejamento_superior_id.value != this.entity?.planejamento_superior_id && this.entity?.objetivos?.length && this.entity?.objetivos.filter(x => x.objetivo_superior && x.objetivo_superior!.planejamento_id == this.entity?.planejamento_superior_id).length) {\r\n      let confirm = await this.dialog.confirm(\"Alterao de Planejamento Superior\", \"Como j existe(m) objetivo(s) neste Planejamento, vinculado(s) a objetivo(s) do Planejamento Superior anterior, seus vnculos sero perdidos! Deseja continuar?\");\r\n      if (confirm) {\r\n        this.entity?.objetivos?.forEach(obj => obj.objetivo_superior_id = null);\r\n        //atualizar a lista de objetivos superiores\r\n      } else {\r\n        this.form.controls.planejamento_superior_id.setValue(this.entity?.planejamento_superior_id);\r\n      };\r\n    };\r\n    this.entity!.planejamento_superior_id = this.form.controls.planejamento_superior_id.value;\r\n    this.entity!.planejamento_superior = this.planejamentoSuperior!.selectedItem?.data;\r\n    this.objetivos!.planejamento_superior_id = this.form.controls.planejamento_superior_id.value;\r\n    this.objetivos?.grid?.loadColumns();\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @returns boolean Informa se o planejamento  da Unidade Instituidora ou no.\r\n   */\r\n  public isPlanejamentoUNINST(): boolean {\r\n    return !this.form.controls.unidade_id.value?.length\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @returns boolean Informa se o planejamento  da Unidade Executora ou no.\r\n   */\r\n  public isPlanejamentoUNEXEC(): boolean {\r\n    return !this.isPlanejamentoUNINST();\r\n  }\r\n}\r\n","<editable-form [form]=\"form!\" [disabled]=\"formDisabled\" [title]=\"isModal ? '' : title\" initialFocus=\"nome\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\">\r\n    <tabs display right>\r\n        <tab key=\"DADOS\" label=\"Dados\">\r\n            <div class=\"row\">\r\n                <div class=\"row\">\r\n                    <input-text [size]=\"12\" [label]=\"'Nome do ' + lex.translate('Planejamento Institucional')\" [icon]=\"entityService.getIcon('Planejamento')\" controlName=\"nome\" [control]=\"form!.controls.nome\" [attr.maxlength]=250 required></input-text>\r\n                </div>\r\n                <div class=\"row\">\r\n                    <!-- <input-search [size]=\"6\" [disabled]=\"hasPermissionToUNEX ? undefined : 'true'\" controlName=\"unidade_id\" [control]=\"form!.controls.unidade_id\" [dao]=\"unidadeDao\" [selectParams]=\"{filter: {instituidora: true}}\" (change)=\"onUnidadeChange($event)\" labelInfo=\"Unidade responsvel pelo planejamento, caso vazio ser considerado a Entidade\"></input-search> -->\r\n                    <input-search [size]=\"6\" controlName=\"unidade_id\" [control]=\"form!.controls.unidade_id\" [dao]=\"unidadeDao\" (change)=\"onUnidadeChange($event)\" labelInfo=\"Unidade  qual se refere o planejamento\" required></input-search>\r\n                    <input-datetime date [size]=\"3\" label=\"Incio\" icon=\"bi bi-calendar-date\" controlName=\"data_inicio\" [control]=\"form!.controls.data_inicio\" labelInfo=\"Incio do Planejamento Institucional\" required></input-datetime>\r\n                    <input-datetime date [size]=\"3\" label=\"Fim\" icon=\"bi bi-calendar-date\" controlName=\"data_fim\" [control]=\"form!.controls.data_fim\" labelInfo=\"Fim do Planejamento Institucional\" required></input-datetime>\r\n                </div>\r\n                <div class=\"row\">\r\n                    <input-select [size]=\"12\" #planejamentoSuperior [items]=\"planejamentosSuperiores\" label=\"Planejamento Institucional Superior\" controlName=\"planejamento_superior_id\" [control]=\"form!.controls.planejamento_superior_id\" (change)=\"onPlanejamentoChange($event)\" [icon]=\"entityService.getIcon('Planejamento')\"></input-select>\r\n                    <input-switch [size]=\"12\" scale=\"small\" labelPosition=\"right\" controlName=\"utilizar_superior\" (change)=\"onUtilizarSuperiorChange($event)\" label=\"Utilizar misso, viso, resultados e valores da instituio superior?\"></input-switch>\r\n                </div>                \r\n                <div class=\"row\">\r\n                    <div class=\"col-md-6\">\r\n                        <input-textarea [size]=\"12\" label=\"Misso\" [rows]=\"3\" controlName=\"missao\" [control]=\"form!.controls.missao\" required></input-textarea>\r\n                    </div>\r\n                    <div class=\"col-md-6\">\r\n                        <input-textarea [size]=\"12\" label=\"Viso\" [rows]=\"3\" controlName=\"visao\" [control]=\"form!.controls.visao\" required></input-textarea>\r\n                    </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                    <div class=\"col-md-6\">\r\n                            <input-multiselect [size]=\"12\" [label]=\"lex.translate('Resultados Institucionais')\" controlName=\"resultados_institucionais\" [addItemHandle]=\"addResultadoHandle.bind(this)\">\r\n                                <input-text [label]=\"lex.translate('Resultados Institucionais')\" icon=\"far fa-edit\" controlName=\"resultados_texto\" [control]=\"form!.controls.resultados_texto\" [attr.maxlength]=250></input-text>\r\n                            </input-multiselect>\r\n                    </div>\r\n                    <div class=\"col-md-6\">\r\n                            <input-multiselect [size]=\"12\" label=\"Valores\" controlName=\"valores\" [addItemHandle]=\"addValorHandle.bind(this)\">\r\n                                <input-text label=\"Valor Institucional\" icon=\"far fa-edit\" controlName=\"valor_texto\" [control]=\"form!.controls.valor_texto\" [attr.maxlength]=250></input-text>\r\n                            </input-multiselect>        \r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </tab>\r\n        <tab key=\"OBJETIVOS\" label=\"Objetivos\">\r\n            <planejamento-list-objetivo #objetivos noPersist [entity]=\"entity\" [disabled]=\"action == 'consult'\" [planejamento_superior_id]=\"form.controls.planejamento_superior_id.value\"></planejamento-list-objetivo>\r\n        </tab>\r\n    </tabs>\r\n</editable-form>\r\n\r\n","import { Component, Injector, Input, ViewChild } from '@angular/core';\r\nimport { AbstractControl } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\r\nimport { PlanejamentoDaoService } from 'src/app/dao/planejamento-dao.service';\r\nimport { PlanejamentoObjetivo } from 'src/app/models/planejamento-objetivo.model';\r\nimport { Planejamento } from 'src/app/models/planejamento.model';\r\nimport { PageFrameBase } from 'src/app/modules/base/page-frame-base';\r\nimport { EixoTematico } from 'src/app/models/eixo-tematico.model';\r\nimport { PlanejamentoObjetivoDaoService } from 'src/app/dao/planejamento-objetivo-dao.service';\r\nimport { EixoTematicoDaoService } from 'src/app/dao/eixo-tematico-dao.service';\r\n\r\n@Component({\r\n  selector: 'planejamento-list-objetivo',\r\n  templateUrl: './planejamento-list-objetivo.component.html',\r\n  styleUrls: ['./planejamento-list-objetivo.component.scss']\r\n})\r\nexport class PlanejamentoListObjetivoComponent extends PageFrameBase {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\r\n  @Input() public planejamento_superior_id?: string;\r\n  @Input() set control(value: AbstractControl | undefined) { super.control = value; } get control(): AbstractControl | undefined { return super.control; }\r\n  @Input() set entity(value: Planejamento | undefined) { super.entity = value; } get entity(): Planejamento | undefined { return super.entity; }\r\n  @Input() set disabled(value: boolean) { if (this._disabled != value) this._disabled = value; } get disabled(): boolean { return this._disabled; }\r\n  @Input() set noPersist(value: string | undefined) { super.noPersist = value; } get noPersist(): string | undefined { return super.noPersist; }\r\n\r\n  public get items(): PlanejamentoObjetivo[] {\r\n    if (!this.gridControl.value) this.gridControl.setValue(new Planejamento());\r\n    if (!this.gridControl.value.objetivos) this.gridControl.value.objetivos = [];\r\n    return this.gridControl.value.objetivos;\r\n  }\r\n  public minHeight: number = 350;\r\n  public options: ToolbarButton[] = [];\r\n  public objetivoDao?: PlanejamentoObjetivoDaoService;\r\n  public eixoDao?: EixoTematicoDaoService;\r\n  private _disabled: boolean = false;\r\n  public eixos: EixoTematico[] = [];\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector);\r\n    this.dao = injector.get<PlanejamentoDaoService>(PlanejamentoDaoService);\r\n    this.objetivoDao = injector.get<PlanejamentoObjetivoDaoService>(PlanejamentoObjetivoDaoService);\r\n    this.eixoDao = injector.get<EixoTematicoDaoService>(EixoTematicoDaoService);\r\n    this.groupBy = [{ field: \"eixo_tematico_id\", label: \"Eixo Temtico\" }];\r\n    this.form = this.fh.FormBuilder({\r\n      nome: { default: \"\" },\r\n      fundamentacao: { default: \"\" },\r\n      planejamento_id: { default: null },\r\n      eixo_tematico_id: { default: null },\r\n      objetivo_superior_id: { default: null }\r\n    }, this.cdRef);\r\n    this.OPTION_INFORMACOES.onClick = (objetivo: PlanejamentoObjetivo) => this.go.navigate({ route: ['gestao', 'planejamento', 'objetivo', objetivo.id, 'consult'] }, { modal: true });\r\n    this.OPTION_EXCLUIR.onClick = (objetivo: PlanejamentoObjetivo) => { this.removeObjetivo(objetivo); };\r\n    this.addOption(this.OPTION_INFORMACOES);\r\n    this.addOption(this.OPTION_EXCLUIR,'MOD_PLAN_INST_EXCL');\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    super.ngOnInit();\r\n    this.entity = this.metadata?.entity || this.entity;\r\n    this.carregaEixos();\r\n    this.sortObjetivos();\r\n  }\r\n\r\n  public dynamicButtons(row: any): ToolbarButton[] {\r\n    let result: ToolbarButton[] = [];\r\n    let objetivo: PlanejamentoObjetivo = row as PlanejamentoObjetivo;\r\n    if (this.auth.hasPermissionTo('MOD_PLAN_INST_EDT') && !this.disabled) {\r\n      result.push({ hint: \"Alterar\", icon: \"bi bi-pencil-square\", color: \"btn-outline-info\", onClick: (objetivo: PlanejamentoObjetivo) => { this.editObjetivo(objetivo); } });\r\n    }\r\n    result.push({ hint: \"Entregas\", icon: \"bi bi-file-earmark-bar-graph\", onClick: (objetivo: PlanejamentoObjetivo) => this.go.navigate({route: ['gestao', 'plano-entrega', 'entrega', 'objetivos', objetivo.id]}, { modal: true })});\r\n    return result;\r\n  }\r\n\r\n  public marcador(row: PlanejamentoObjetivo): string {\r\n    let level = row._metadata?.level || 0;\r\n    return level < 1 ? \"\" : (level < 2 ? \" \" : (level < 3 ? \"- \" : \"+ \"));\r\n  }\r\n\r\n  public async addObjetivo() {\r\n    // ************ \r\n    // se for adicionar um objetivo num grid no persistente  necessrio checar se o planejamento  da entidade ou da unidade, pois\r\n    // se for de uma unidade ser obrigatrio j ter escolhido o planejamento superior\r\n    let objetivo = new PlanejamentoObjetivo({ \r\n      _status: \"ADD\", \r\n      id: this.dao!.generateUuid(),\r\n      planejamento_id: this.entity?.id\r\n    });\r\n    this.go.navigate({ route: ['gestao', 'planejamento', 'objetivo'] }, {\r\n      metadata: { \r\n        planejamento: this.entity!, \r\n        objetivo: objetivo,\r\n        objetivos: this.objetivosPai(objetivo.id) \r\n      },\r\n      modalClose: async (modalResult) => {\r\n        if (modalResult) {\r\n          try {\r\n            this.carregaEixos();\r\n            this.isNoPersist ? this.items.push(modalResult) : this.items.push(await this.objetivoDao!.save(modalResult)); \r\n            this.sortObjetivos();\r\n          } catch (error: any) {\r\n            this.error(error?.error || error?.message || error);            \r\n          }\r\n        };\r\n      }\r\n    });\r\n  }\r\n\r\n  public objetivosPai(filhoId: string) {\r\n    let items: PlanejamentoObjetivo[] = [];\r\n    let addItens = (list: PlanejamentoObjetivo[]) => {\r\n      for(let item of list) {\r\n        if(item.id != filhoId) {\r\n          items.push(item);\r\n          addItens(this.items.filter(x => x.objetivo_pai_id == item.id).sort((a,b) => a.sequencia - b.sequencia));\r\n        }\r\n      }\r\n    }\r\n    addItens(this.items.filter(x => !x.objetivo_pai_id).sort((a,b) => a.sequencia - b.sequencia));\r\n    return items;\r\n  }\r\n\r\n  public sortObjetivos() {\r\n    let items: PlanejamentoObjetivo[] = [];\r\n    let addItens = (list: PlanejamentoObjetivo[], level: number) => {\r\n      for(let item of list) {\r\n        item._metadata = Object.assign(item._metadata || {}, { level });\r\n        items.push(item);\r\n        if(item._status != \"DELETE\") addItens(this.items.filter(x => x.objetivo_pai_id == item.id).sort((a,b) => a.sequencia - b.sequencia), level + 1);\r\n      }\r\n    }\r\n    addItens(this.items.filter(x => !x.objetivo_pai_id).sort((a,b) => a.sequencia - b.sequencia), 0);\r\n    this.items.length = 0;\r\n    this.items.push(...items);\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public async editObjetivo(objetivo: PlanejamentoObjetivo) {\r\n    objetivo._status = objetivo._status == \"ADD\" ? \"ADD\" : \"EDIT\";\r\n    let index = this.items.indexOf(objetivo);\r\n    this.go.navigate({ route: ['gestao', 'planejamento', 'objetivo'] }, {\r\n      metadata: { \r\n        planejamento: this.entity!, \r\n        objetivo: objetivo,\r\n        objetivos: this.objetivosPai(objetivo.id) \r\n      },\r\n      modalClose: async (modalResult) => {\r\n        if (modalResult) {\r\n          if (!this.isNoPersist) await this.objetivoDao?.save(modalResult);\r\n          this.items[index] = modalResult;\r\n          this.carregaEixos();\r\n          this.sortObjetivos();\r\n        };\r\n      }\r\n    });\r\n  }\r\n\r\n  public async removeObjetivo(objetivo: PlanejamentoObjetivo) {\r\n    let confirm = await this.dialog.confirm(\"Exclui ?\", \"Deseja realmente excluir?\");\r\n    if (confirm) {\r\n      let index = this.items.indexOf(objetivo);\r\n      if (this.isNoPersist) {\r\n        objetivo._status = \"DELETE\";\r\n      } else {\r\n        await this.objetivoDao!.delete(objetivo);\r\n        this.grid?.items.splice(index, 1);\r\n      };\r\n      this.sortObjetivos();\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public getEixo(id: string): EixoTematico | undefined {\r\n    return this.eixos?.find(x => x.id == id);\r\n  }\r\n\r\n  public carregaEixos(){\r\n    this.eixoDao?.query().getAll().then(eixos => {\r\n      this.eixos = eixos;\r\n    });\r\n  }\r\n}\r\n\r\n\r\n","<grid [items]=\"items\" [form]=\"form!\" #gridObjetivos editable [selectable]=\"false\" [minHeight]=\"minHeight\"\n    [add]=\"addObjetivo.bind(this)\" [remove]=\"removeObjetivo.bind(this)\"\n    [hasDelete]=\"false\" [hasEdit]=\"false\" [hasAdd]=\"!disabled\" [join]=\"join\" [groupBy]=\"groupBy\" [groupTemplate]=\"groupEixoTematico\">\n    <ng-template let-separator=\"separator\" #groupEixoTematico>\n        <span class=\"text-wrap\"><badge [icon]=\"getEixo(separator?.text)?.icone || 'bi bi-gear'\" [color]=\"getEixo(separator?.text)?.cor || 'primary'\" [label]=\"getEixo(separator?.text)?.nome || 'Desconhecido'\"></badge></span>\n    </ng-template>\n    <columns>\n        <column title=\"Nome\" [template]=\"columnNome\">\n            <ng-template let-row=\"row\" #columnNome>\n                <span class=\"text-break w-100\" [style.margin-left.px]=\"(row._metadata?.level || 0) * 20\">{{ marcador(row) + row.nome }}</span>\n            </ng-template>\n        </column>\n        <column title=\"Eixo Temtico\" [template]=\"columnEixoTematico\"><ng-template let-row=\"row\" #columnEixoTematico><span>{{ row.eixo_tematico?.nome }}</span></ng-template></column>\n        <column title=\"Fundamentao\" [template]=\"columnFundamentacao\"><ng-template let-row=\"row\" #columnFundamentacao><span>{{ row.fundamentacao }}</span></ng-template></column>\n        <column *ngIf=\"planejamento_superior_id?.length\" title=\"Objetivo Superior\" [template]=\"columnObjetivoSuperior\"><ng-template let-row=\"row\" #columnObjetivoSuperior><span>{{ row.objetivo_superior?.nome  || '' }}</span></ng-template></column>\n        <column type=\"options\" [dynamicButtons]=\"dynamicButtons.bind(this)\" [options]=\"options\"></column>\n    </columns>\n</grid>\n","import { Component, Injector, ViewChild } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { GridComponent } from 'src/app/components/grid/grid.component';\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\nimport { PlanejamentoDaoService } from 'src/app/dao/planejamento-dao.service';\nimport { PlanejamentoObjetivoDaoService } from 'src/app/dao/planejamento-objetivo-dao.service';\nimport { PlanejamentoObjetivo } from 'src/app/models/planejamento-objetivo.model';\nimport { PageListBase } from 'src/app/modules/base/page-list-base';\n\n@Component({\n  selector: 'planejamento-list-objetivos-entregas',\n  templateUrl: './planejamento-list-objetivos-entregas.component.html',\n  styleUrls: ['./planejamento-list-objetivos-entregas.component.scss']\n})\nexport class PlanejamentoListObjetivosEntregasComponent extends PageListBase<PlanejamentoObjetivo, PlanejamentoObjetivoDaoService> {\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\n  \n  public planejamentoDao: PlanejamentoDaoService;\n  public planejamentoObjetivoDao: PlanejamentoObjetivoDaoService;\n  public buttons: ToolbarButton[] = [];\n  \n  constructor(public injector: Injector) {\n    super(injector, PlanejamentoObjetivo, PlanejamentoObjetivoDaoService);\n    this.join = ['objetivos']\n    this.planejamentoDao = injector.get<PlanejamentoDaoService>(PlanejamentoDaoService);\n    this.planejamentoObjetivoDao = injector.get<PlanejamentoObjetivoDaoService>(PlanejamentoObjetivoDaoService);\n    this.title = this.lex.translate(\"Objetivos\") + ' ' + this.lex.translate(\"do Planejamento Institucional\");\n    this.filter = this.fh.FormBuilder({\n      nome: { default: \"\" },\n      planejamento_id: { default: null}\n    });\n    this.OPTION_INFORMACOES.onClick = (objetivo: PlanejamentoObjetivo) => this.go.navigate({ route: ['gestao', 'planejamento', 'objetivo', objetivo.id, 'consult'] }, { modal: true });\n    this.addOption(this.OPTION_INFORMACOES);\n  }\n\n  public filterClear(filter: FormGroup) {\n    super.filterClear(filter);\n    this.filter?.controls.nome.setValue(\"\");\n  }\n\n  public filterWhere = (filter: FormGroup) => {\n    let form: any = filter.value;\n    let result: any[] = [];\n    if (form.planejamento_id?.length) {\n      result.push([\"planejamento_id\", \"==\", form.planejamento_id]);\n    }\n    if (form.nome?.length) {\n      result.push([\"nome\", \"like\", \"%\" + form.nome.trim().replace(\" \", \"%\") + \"%\"]);\n    }\n    return result;\n  }\n\n  public getNome (metadata: any, row: PlanejamentoObjetivo){\n    if (!metadata.path) {\n      let paiId: string | null = row.objetivo_pai_id;\n      let niveis = \"\";\n      while (paiId) {\n        let atual = this.grid?.items.find(x => x.id == paiId);\n        niveis = (atual?.sequencia || \"\") + \".\" + niveis;\n        paiId = atual?.objetivo_pai_id || null;\n      }\n      metadata.path = niveis + row.sequencia;\n    }\n    this.grid?.items.sort((a, b) => {\n      const sa = (this.grid!.getMetadata(a)?.path || \"\").split(\".\").map((x: string) => (\"000\" + x).substr(-3)).join(\".\");\n      const sb = (this.grid!.getMetadata(b)?.path || \"\").split(\".\").map((x: string) => (\"000\" + x).substr(-3)).join(\".\");\n      return sa < sb ? -1 : sa > sb ? 1 : 0;\n    });\n    if (metadata.path.length > 2) return '- ' + row.nome;\n    else if (metadata.path.length > 4) return '-- ' + row.nome;\n    return row.nome;\n  }\n}\n","<!--  [hasAdd]=\"auth.hasPermissionTo('MOD_UND_INCL')\"\n    [hasEdit]=\"auth.hasPermissionTo('MOD_UND_EDT')\" -->\n<h3 *ngIf=\"!isModal\" class=\"my-2\">{{title}}</h3>\n<grid [dao]=\"dao\" [add]=\"add\" [orderBy]=\"orderBy\" [groupBy]=\"groupBy\" [join]=\"join\" [selectable]=\"selectable\"\n    (select)=\"onSelect($event)\">\n    <toolbar *ngIf=\"!selectable\" [buttons]=\"buttons\"></toolbar>\n    <filter [deleted]=\"this.auth.hasPermissionTo('MOD_AUDIT_DEL')\" [form]=\"filter\" [where]=\"filterWhere\" [submit]=\"filterSubmit.bind(this)\" [clear]=\"filterClear.bind(this)\"\n        [collapseChange]=\"filterCollapseChange.bind(this)\" [collapsed]=\"!selectable && filterCollapsed\">\n        <div class=\"row\">\n            <input-text [size]=\"12\" label=\"Nome\" controlName=\"nome\" [control]=\"filter!.controls.nome\"\n                placeholder=\"Nome\" [attr.maxlength]=250></input-text>\n        </div>\n    </filter>\n    <columns>\n        <column title=\"Nome\" [template]=\"columnNome\" orderBy=\"nome\">\n            <ng-template let-row=\"row\" let-metadata=\"metadata\" #columnNome>\n                <span class=\"d-block\">{{getNome(metadata, row)}}</span>\n            </ng-template>\n        </column>\n        <column title=\"Fundamentao\" field=\"fundamentacao\"></column>\n        <column type=\"options\" [onEdit]=\"edit\" [options]=\"options\"></column>\n    </columns>\n    <pagination [rows]=\"rowsLimit\"></pagination>\n</grid>","import { Component, Injector, ViewChild } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { InputSearchComponent} from 'src/app/components/input/input-search/input-search.component';\r\nimport { PlanejamentoDaoService } from 'src/app/dao/planejamento-dao.service';\r\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\r\nimport { Planejamento } from 'src/app/models/planejamento.model';\r\nimport { PageListBase } from 'src/app/modules/base/page-list-base';\r\nimport { EixoTematico } from 'src/app/models/eixo-tematico.model';\r\nimport { LookupItem } from 'src/app/services/lookup.service';\r\nimport { TabsComponent } from 'src/app/components/tabs/tabs.component';\r\n\r\n@Component({\r\n  selector: 'app-planejamento-list',\r\n  templateUrl: './planejamento-list.component.html',\r\n  styleUrls: ['./planejamento-list.component.scss']\r\n})\r\nexport class PlanejamentoListComponent extends PageListBase<Planejamento, PlanejamentoDaoService> {\r\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\r\n  @ViewChild(TabsComponent, { static: false }) public tabs?: TabsComponent;\r\n  @ViewChild('unidade', { static: false }) public unidade?: InputSearchComponent;\r\n  \r\n  public unidadeDao: UnidadeDaoService;\r\n  public unidade_disabled: string | undefined;\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, Planejamento, PlanejamentoDaoService);\r\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\r\n    /* Inicializaes */\r\n    this.code = \"MOD_PLAN_INST\";\r\n    this.title = this.lex.translate('Planejamentos Institucionais');\r\n    this.filter = this.fh.FormBuilder({\r\n      data_inicio: {default: null},\r\n      data_fim: {default: null},\r\n      nome: {default: \"\"},\r\n      unidade_id: {default: null},\r\n      so_entidade: { default: false },\r\n      agrupar: { default: true },\r\n     });\r\n    this.join = [\r\n      'unidade:id,nome,sigla',\r\n      'objetivos',\r\n      'objetivos.eixo_tematico:id,nome',\r\n      'objetivos.objetivo_superior:id,nome',\r\n      'planejamento_superior:id,nome',\r\n      'planejamento_superior.objetivos'\r\n    ];\r\n    // Testa se o usurio possui permisso para exibir planejamentos institucionais\r\n    if (this.auth.hasPermissionTo(\"MOD_PLAN_INST\")) {\r\n      this.options.push({\r\n        icon: \"bi bi-info-circle\",\r\n        label: \"Informaes\",\r\n        onClick: this.consult.bind(this)\r\n      });\r\n    }\r\n    // Testa se o usurio possui permisso para excluir planejamentos institucionais\r\n    if (this.auth.hasPermissionTo(\"MOD_PLAN_INST_EXCL\")) {\r\n      this.options.push({\r\n        icon: \"bi bi-trash\",\r\n        label: \"Excluir\",\r\n        onClick: this.delete.bind(this)\r\n      });\r\n    }\r\n    this.addOption(this.OPTION_LOGS, \"MOD_AUDIT_LOG\");\r\n  }  \r\n\r\n  ngAfterViewInit(): void {\r\n    super.ngAfterViewInit();\r\n    this.tabs!.active = [\"TABELA\", \"MAPA\", \"OKR\"].includes(this.usuarioConfig.active_tab) ? this.usuarioConfig.active_tab : \"TABELA\";\r\n  }\r\n\r\n  /* override */\r\n  public onLoad() {}\r\n\r\n  public initGrid(grid: GridComponent) {\r\n    grid.queryInit();\r\n  }\r\n\r\n  public async onSelectTab(tab: LookupItem) {\r\n    //if(tab.key == \"TABELA\") this.onLoad();\r\n    if(this.viewInit) this.saveUsuarioConfig({active_tab: tab.key});\r\n  }\r\n\r\n  public filterClear(filter: FormGroup) {\r\n    filter.controls.nome.setValue(\"\");\r\n    filter.controls.data_inicio.setValue(null);\r\n    filter.controls.data_fim.setValue(null);\r\n    filter.controls.unidade_id.setValue(null);\r\n    filter.controls.so_entidade.setValue(false);\r\n    super.filterClear(filter);\r\n  }\r\n\r\n  public filterWhere = (filter: FormGroup) => {\r\n    let result: any[] = [];\r\n    let form: any = filter.value;\r\n\r\n    if (form.so_entidade) {\r\n      filter.controls.unidade_id.setValue(null);\r\n      result.push([\"unidade_id\", \"==\", null]);\r\n    } else {\r\n      if(form.unidade_id) result.push([\"unidade_id\", \"==\", form.unidade_id]);\r\n    }\r\n    if(form.nome?.length) {\r\n      result.push([\"nome\", \"like\", \"%\" + form.nome.trim().replace(\" \", \"%\") + \"%\"]);\r\n    }\r\n    if(form.data_inicio) {\r\n      result.push([\"data_inicio\", \">=\", form.data_inicio]);\r\n    }\r\n    if(form.data_fim) {\r\n      result.push([\"data_fim\", \"<=\", form.data_fim]);\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public onSoEntidadeChange(event: Event) {\r\n    if (this.filter!.controls.so_entidade.value) {\r\n      this.filter!.controls.unidade_id.setValue(null);\r\n      this.unidade_disabled = 'disabled';\r\n    } else {\r\n      this.filter!.controls.unidade_id.setValue(undefined);\r\n      this.unidade_disabled = undefined;\r\n    }\r\n  }\r\n\r\n}\r\n","<tabs right [title]=\"isModal ? '' : title\" [select]=\"onSelectTab.bind(this)\">\r\n    <tab key=\"TABELA\" icon=\"bi bi-table\" label=\"Lista\" [template]=\"lista\">\r\n        <ng-template #lista>\r\n            <grid [dao]=\"dao\" [add]=\"add\" [orderBy]=\"orderBy\" [join]=\"join\" [init]=\"initGrid.bind(this)\"\r\n                [selectable]=\"selectable\" (select)=\"onSelect($event)\" \r\n                [hasAdd]=\"auth.hasPermissionTo('MOD_PLAN_INST_INCL')\"\r\n                [hasEdit]=\"auth.hasPermissionTo('MOD_PLAN_INST_EDT')\">\r\n                <toolbar *ngIf=\"!selectable\"></toolbar>\r\n                <filter [deleted]=\"this.auth.hasPermissionTo('MOD_AUDIT_DEL')\" [form]=\"filter\" [where]=\"filterWhere\" [submit]=\"filterSubmit.bind(this)\" [clear]=\"filterClear.bind(this)\" [collapseChange]=\"filterCollapseChange.bind(this)\" [collapsed]=\"!selectable && filterCollapsed\">\r\n                    <div class=\"row\">\r\n                        <input-text [size]=\"12\" [label]=\"lex.translate('Planejamento Institucional')\" controlName=\"nome\"\r\n                            [control]=\"filter!.controls.nome\" [placeholder]=\"'Nome ' + lex.translate('Planejamento Institucional') + '...'\" [attr.maxlength]=250></input-text>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                        <input-switch [size]=\"2\" [label]=\"'S da '+ lex.translate('Entidade')\" controlName=\"so_entidade\" [control]=\"filter!.controls.so_entidade\" (change)=\"onSoEntidadeChange($event)\"></input-switch>\r\n                        <input-search #unidade [size]=\"4\" [label]=\"lex.translate('Unidade')\" [disabled]=\"unidade_disabled\" [control]=\"filter!.controls.unidade_id\" controlName=\"unidade_id\" [dao]=\"unidadeDao\"></input-search>\r\n                        <input-datetime [size]=\"3\" date label=\"Incio\" controlName=\"data_inicio\" [control]=\"filter!.controls.data_inicio\" [labelInfo]=\"'Data de incio do' +lex.translate('Planejamento Institucional')\"></input-datetime>\r\n                        <input-datetime [size]=\"3\" date label=\"Fim\" controlName=\"data_fim\" [control]=\"filter!.controls.data_fim\" [labelInfo]=\"'Data do fim do '+lex.translate('Planejamento Institucional')\"></input-datetime>\r\n                    </div>\r\n                </filter>\r\n                <columns>\r\n                    <column *ngIf=\"!selectable\" type=\"expand\" icon=\"bi bi-bullseye\" [align]=\"'center'\" [hint]=\"lex.translate('Objetivo')\" [template]=\"columnObjetivos\" [expandTemplate]=\"columnExpandedObjetivos\">\r\n                        <ng-template let-row=\"row\" #columnObjetivos>\r\n                            <span *ngIf=\"row.objetivos?.length\" class=\"badge rounded-pill bg-light text-dark\"><i class=\"bi bi-bullseye\"></i> {{row.objetivos?.length}}</span>\r\n                        </ng-template>\r\n                        <ng-template let-row=\"row\" #columnExpandedObjetivos>\r\n                            <planejamento-list-objetivo [entity]=\"row\"></planejamento-list-objetivo>\r\n                        </ng-template>\r\n                    </column>\r\n                    <column title=\"Nome\" orderBy=\"nome\" [template]=\"columnNome\">\r\n                        <ng-template let-row=\"row\" #columnNome>\r\n                            <span class=\"text-break w-100\">{{row.nome}}</span>\r\n                        </ng-template>            \r\n                    </column>\r\n                    <column title=\"Incio\" [template]=\"columnInicio\">\r\n                        <ng-template let-row=\"row\" #columnInicio>\r\n                            <span> {{dao!.getDateFormatted(row.data_inicio)}}</span>\r\n                        </ng-template>\r\n                    </column>\r\n                    <column title=\"Fim\" [template]=\"columnFim\">\r\n                        <ng-template let-row=\"row\" #columnFim>\r\n                            <span> {{dao!.getDateFormatted(row.data_fim)}}</span>\r\n                        </ng-template>\r\n                    </column>\r\n                    <column title=\"Unidade\" [template]=\"columnUnidade\">\r\n                        <ng-template let-row=\"row\" #columnUnidade>\r\n                            <span> {{row.unidade?.nome || \"\"}}</span>\r\n                        </ng-template>\r\n                    </column>\r\n                    <column type=\"options\" [onEdit]=\"edit\" [options]=\"options\"></column>\r\n                </columns>\r\n                <pagination [rows]=\"rowsLimit\"></pagination>\r\n            </grid>\r\n        </ng-template>\r\n    </tab>\r\n    <tab key=\"MAPA\" icon=\"bi bi-card-heading\" label=\"Mapa\" [template]=\"mapa\">\r\n        <ng-template #mapa>\r\n            <planejamento-mapa></planejamento-mapa>\r\n        </ng-template>\r\n    </tab>\r\n   \r\n</tabs>\r\n","import { Component, Injector, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { DndDropEvent, DropEffect } from 'ngx-drag-drop';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { InputSelectComponent } from 'src/app/components/input/input-select/input-select.component';\r\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\r\nimport { PlanejamentoDaoService } from 'src/app/dao/planejamento-dao.service';\r\nimport { PlanejamentoObjetivoDaoService } from 'src/app/dao/planejamento-objetivo-dao.service';\r\nimport { QueryContext } from 'src/app/dao/query-context';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { EixoTematico } from 'src/app/models/eixo-tematico.model';\r\nimport { PlanejamentoObjetivo } from 'src/app/models/planejamento-objetivo.model';\r\nimport { Planejamento } from 'src/app/models/planejamento.model';\r\nimport { PageFrameBase } from 'src/app/modules/base/page-frame-base';\r\nimport { LookupItem } from 'src/app/services/lookup.service';\r\n\r\nexport type EixoPlanejamento = {\r\n  id?: string,\r\n  eixo: EixoTematico,\r\n  eixo_tematico_id: string,\r\n  objetivos: PlanejamentoObjetivo[]\r\n}\r\n\r\n@Component({\r\n  selector: 'planejamento-mapa',\r\n  templateUrl: './planejamento-mapa.component.html',\r\n  styleUrls: ['./planejamento-mapa.component.scss']\r\n})\r\nexport class PlanejamentoMapaComponent extends PageFrameBase {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n  @ViewChild('planejamentoInstitucional', { static: false }) public planejamentoInstitucional?: InputSelectComponent;\r\n\r\n  public canEdit: boolean = true;\r\n  public planejamentos: LookupItem[] = [];\r\n  public planejamento?: Planejamento;\r\n  public eixos: EixoPlanejamento[] = [];\r\n  public query?: QueryContext<Planejamento>;\r\n  public objetivoDao?: PlanejamentoObjetivoDaoService;\r\n  public objetivos: PlanejamentoObjetivo[] = [];\r\n  public subObjetivosMenu: ToolbarButton = {\r\n    icon: \"bi bi-three-dots-vertical\",\r\n    color: \"transparent-black p-1 py-0\",\r\n    items: [\r\n      {\r\n        icon: \"bi bi-file-earmark-bar-graph\",\r\n        label: \"Entregas\",\r\n        onClick: this.onObjetivoClick.bind(this)\r\n      },\r\n      {\r\n        icon: \"bi bi-pencil-square\",\r\n        label: \"Alterar\",\r\n        onClick: this.onObjetivoEditClick.bind(this) \r\n      },\r\n      {\r\n        icon: \"bi bi-trash\",\r\n        label: \"Excluir\",\r\n        onClick: this.onObjetivoDeleteClick.bind(this)\r\n      }\r\n    ]\r\n  };\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector);\r\n    this.dao = injector.get<PlanejamentoDaoService>(PlanejamentoDaoService);\r\n    this.objetivoDao = injector.get<PlanejamentoObjetivoDaoService>(PlanejamentoObjetivoDaoService);\r\n    this.join = ['objetivos'];\r\n    this.title = this.lex.translate(\"Objetivos\") + ' ' + this.lex.translate('do Planejamento Institucional');\r\n    this.form = this.fh.FormBuilder({\r\n      planejamento_id: {default: null},\r\n      todos: {default: false}\r\n    }, this.cdRef, this.validate);\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    super.ngAfterViewInit();\r\n    this.loadData(this.entity);\r\n  }\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n    return result;\r\n  }\r\n\r\n  public async loadData(entity: IIndexable, form?: FormGroup) {\r\n    this.query = this.dao!.query({ where: [[\"data_arquivamento\", \"==\", null]], orderBy: [[\"data_inicio\", \"desc\"]] }) as QueryContext<Planejamento>;\r\n    this.query!.asPromise().then(planejamentos => {\r\n      this.planejamentos = planejamentos.map(x => Object.assign({} as LookupItem, {\r\n        key: x.id,\r\n        value: x.nome,\r\n        data: x\r\n      }));\r\n      this.cdRef.detectChanges();\r\n      this.form!.controls.planejamento_id.setValue(this.planejamentos.length ? this.planejamentos[0].key : null);\r\n    });\r\n  }\r\n\r\n  public objetivosPai(filhoId: string) {\r\n    let items: PlanejamentoObjetivo[] = [];\r\n    let addItens = (list: PlanejamentoObjetivo[]) => {\r\n      for(let item of list) {\r\n        if(item.id != filhoId) {\r\n          items.push(item);\r\n          addItens(this.objetivos.filter(x => x.objetivo_pai_id == item.id).sort((a,b) => a.sequencia - b.sequencia));\r\n        }\r\n      }\r\n    }\r\n    addItens(this.objetivos.filter(x => !x.objetivo_pai_id).sort((a,b) => a.sequencia - b.sequencia));\r\n    return items;\r\n  }\r\n\r\n  public marcador(row: PlanejamentoObjetivo): string {\r\n    let level = row._metadata?.level || 0;\r\n    return level < 1 ? \"\" : (level < 2 ? \" \" : (level < 3 ? \"- \" : \"+ \"));\r\n  }\r\n\r\n  public objetivosEixo(eixoId: string) {\r\n    let objetivos = this.planejamento?.objetivos?.filter(y => y.eixo_tematico_id == eixoId && !y.objetivo_pai_id).sort((a, b) => a.sequencia - b.sequencia) || [];\r\n    let recursivo = (list: PlanejamentoObjetivo[], level: number) => {\r\n      for(let item of list) {\r\n        item.objetivos = this.planejamento?.objetivos?.filter(y => y.objetivo_pai_id == item.id).sort((a, b) => a.sequencia - b.sequencia) || [];\r\n        item._metadata = Object.assign(item._metadata || {}, { level })\r\n        recursivo(item.objetivos, level + 1);\r\n      }\r\n    }\r\n    recursivo(objetivos, 0);\r\n    return objetivos;\r\n  }\r\n\r\n  public onPlanejamentoChange() {\r\n    if(this.planejamentoInstitucional!.selectedItem) {\r\n      this.dao!.getById(this.planejamentoInstitucional!.selectedItem?.key, this.join).then(planejamento => {\r\n        this.planejamento = planejamento as Planejamento;\r\n        this.objetivos = this.planejamento.objetivos || [];\r\n        this.eixos = this.query!.extra?.eixos?.filter((x: EixoTematico) => this.form?.controls.todos.value || this.planejamento?.objetivos?.find(y => y.eixo_tematico_id == x.id)).map((x: EixoTematico) => Object.assign({} as EixoPlanejamento, {\r\n          eixo: x,\r\n          eixo_tematico_id: x.id,\r\n          objetivos: this.objetivosEixo(x.id)\r\n        })) || [];\r\n        this.cdRef.detectChanges();\r\n      });\r\n    }\r\n  }\r\n\r\n  public onTodosChange() {\r\n    this.onPlanejamentoChange();\r\n  }\r\n\r\n  public onObjetivoClick(data: any) {\r\n    let objetivo = data as PlanejamentoObjetivo;\r\n    this.go.navigate({route: ['gestao', 'plano-entrega', 'entrega', 'objetivos', objetivo.id]});\r\n  }\r\n\r\n  public onObjetivoAddClick(data: any) {\r\n    let eixo = this.eixos.find(x => x.eixo.id == data.id);   \r\n    let objetivo = new PlanejamentoObjetivo({\r\n      _status: \"ADD\",\r\n      id: this.dao!.generateUuid(),\r\n      planejamento_id: this.planejamento?.id,\r\n      eixo_tematico_id: data.eixo.id,\r\n      eixo_tematico: data.eixo,\r\n      sequencia: eixo?.objetivos.length ? eixo?.objetivos[0].sequencia : 0\r\n    });\r\n    this.go.navigate({ route: ['gestao', 'planejamento', 'objetivo'] }, {\r\n      metadata: { \r\n        planejamento: this.planejamento!, \r\n        objetivo: objetivo,\r\n        objetivos: this.objetivosPai(objetivo.id) \r\n      },\r\n      modalClose: async (modalResult) => {\r\n        if (modalResult) this.objetivoDao!.save(modalResult).then(objetivo => this.onPlanejamentoChange());\r\n      }\r\n    });\r\n  }\r\n\r\n  public onObjetivoDeleteClick(data: any) {\r\n    let objetivo = data as PlanejamentoObjetivo;\r\n    this.dialog.confirm(\"Exclui ?\", \"Deseja realmente excluir?\").then(confirm => {\r\n      if (confirm) this.objetivoDao!.delete(objetivo).then(result => this.onPlanejamentoChange());\r\n    });\r\n  }\r\n\r\n  public onObjetivoEditClick(data: any) {\r\n    let objetivo = data as PlanejamentoObjetivo;\r\n    this.go.navigate({ route: ['gestao', 'planejamento', 'objetivo'] }, {\r\n      metadata: { planejamento: this.planejamento!, objetivo: objetivo }, modalClose: async (modalResult) => {\r\n        if (modalResult) this.objetivoDao?.save(modalResult).then(planejamento => this.onPlanejamentoChange());\r\n      }\r\n    });\r\n  }\r\n\r\n  /* Drag & Drop */\r\n  onObjetivoDrop(event: DndDropEvent, dropped: EixoPlanejamento | PlanejamentoObjetivo) {\r\n    console.log(\"Drop\", event);\r\n    dropped.objetivos = dropped.objetivos || [];\r\n    let objetivo = event.data as PlanejamentoObjetivo; \r\n    let index = typeof event.index === 'undefined' ? dropped.objetivos.length : event.index;\r\n    let neighborhood = index ? (dropped.objetivos[index] || dropped.objetivos[index-1] || undefined) : undefined;\r\n    dropped.objetivos.splice(index, 0, objetivo);\r\n    this.loading = true;\r\n    this.objetivoDao?.update(objetivo.id, {\r\n      eixo_tematico_id: dropped.eixo_tematico_id,\r\n      objetivo_pai_id: dropped.id || null,\r\n      sequencia: neighborhood?.sequencia || 0\r\n    }).then(result => this.onPlanejamentoChange()).finally(() => this.loading = false);\r\n  }\r\n\r\n  onObjetivoDragEnd(event: DragEvent) {\r\n    console.log(\"DragEnd\", event);\r\n  }\r\n\r\n  onObjetivoDragged(item: any, dragged: EixoPlanejamento | PlanejamentoObjetivo, effect: DropEffect) {\r\n    console.log(\"Dragged\", item, dragged.objetivos);\r\n    dragged.objetivos = dragged.objetivos || [];\r\n    dragged.objetivos.splice(dragged.objetivos.indexOf(item), 1);\r\n  }\r\n\r\n  onObjetivoDragStart(event: DragEvent) {\r\n    console.log(\"DragStart\", event);\r\n  }\r\n\r\n}","<!-- Seleo do planejamento -->\n<editable-form [form]=\"form!\" noButtons>\n    <div class=\"row mt-2\">\n        <input-select #planejamentoInstitucional [size]=\"12\" controlName=\"planejamento_id\"\n            [control]=\"form!.controls.planejamento_id\" [items]=\"planejamentos\"\n            (change)=\"onPlanejamentoChange()\"></input-select>\n    </div>\n    <!-- Cabealho -->\n    <separator transparent collapse title=\"Misso, viso, resultados e valores\">\n        <planejamento-show [planejamento]=\"planejamento\" *ngIf=\"planejamento\"></planejamento-show>\n    </separator>\n    <!-- Eixos -->\n    <div class=\"row my-2\">\n        <input-switch [size]=\"12\" labelPosition=\"left\" label=\"Todos os eixos\" controlName=\"todos\"\n            [control]=\"form!.controls.todos\" (change)=\"onTodosChange()\"></input-switch>\n    </div>\n    <div *ngFor=\"let eixo of eixos\" class=\"eixo\" [style.background-color]=\"eixo.eixo.cor\">\n        <action-button icon=\"bi bi-plus-circle\" color=\"transparent-black\" [data]=\"eixo\"\n            [onClick]=\"onObjetivoAddClick.bind(this)\"></action-button>\n        <div class=\"d-flex align-items-center align-content-stretch p-3\">\n            <div class=\"descricao\">\n                <h4>{{eixo.eixo.nome}}</h4>\n            </div>\n            <div class=\"objetivos w-100 row\" [dndDropzone]=\"['objetivo']\" (dndDrop)=\"onObjetivoDrop($event, eixo)\">\n                <!-- Placehold -->\n                <div class=\"col-md-4\" dndPlaceholderRef>\n                    <div class=\"objetivo shadow-sm d-flex flex-column align-content-between\">\n                        <p class=\"placeholder-glow\">\n                            <span class=\"placeholder col-2\"></span>\n                            <span class=\"placeholder col-3\"></span>\n                            <span class=\"placeholder col-1\"></span>\n                            <span class=\"placeholder col-6\"></span>\n                        </p>\n                        <div class=\"buttons w-100 d-flex justify-content-end px-1\">\n                            <action-button placeholder icon=\"bi bi-question\" color=\"transparent-black p-0\"></action-button>\n                            <action-button placeholder icon=\"bi bi-question\" color=\"transparent-black p-0\"></action-button>\n                            <action-button placeholder icon=\"bi bi-question\" color=\"transparent-black p-0\"></action-button>\n                        </div>\n                    </div>\n                </div>\n                <!-- Objetivos -->\n                <div *ngFor=\"let objetivo of eixo.objetivos\" class=\"col-md-4\" [dndDisableIf]=\"!canEdit\"\n                    [dndDraggable]=\"objetivo\" (dndEnd)=\"onObjetivoDragEnd($event)\"\n                    (dndMoved)=\"onObjetivoDragged(objetivo, eixo, 'move')\" (dndStart)=\"onObjetivoDragStart($event)\"\n                    dndType=\"objetivo\" dndEffectAllowed=\"move\">\n                    <div class=\"objetivo shadow-sm d-flex flex-column align-content-between\">\n                        <div class=\"m-2\">\n                            <div dndHandle class=\"card-text text-break w-100\">{{objetivo.nome}}</div>\n                            <div class=\"subobjetivo\" [dndDropzone]=\"['objetivo']\"\n                                (dndDrop)=\"onObjetivoDrop($event, objetivo)\">\n                                <!-- Placehold -->\n                                <div class=\"border mt-3 p-2\" dndPlaceholderRef><span class=\"placeholder w-75\"></span></div>\n                                <ng-container *ngFor=\"let subobjetivo of objetivo.objetivos\"\n                                    [ngTemplateOutlet]=\"subobjetivos\"\n                                    [ngTemplateOutletContext]=\"{objetivo: subobjetivo, pai: objetivo}\"></ng-container>\n                            </div>\n                        </div>\n                        <ng-template #subobjetivos let-objetivo=\"objetivo\" let-pai=\"pai\">\n                            <div class=\"border mt-3 p-2\" [dndDisableIf]=\"!canEdit\" [dndDraggable]=\"objetivo\"\n                                (dndEnd)=\"onObjetivoDragEnd($event)\" (dndMoved)=\"onObjetivoDragged(objetivo, pai, 'move')\"\n                                (dndStart)=\"onObjetivoDragStart($event)\" dndType=\"objetivo\" dndEffectAllowed=\"move\">\n                                <div class=\"d-flex justify-content-between\">\n                                    <div class=\"me-2 card-text text-break w-100\">{{objetivo.nome}}</div>\n                                    <action-button noArrow [button]=\"subObjetivosMenu\" [data]=\"objetivo\"></action-button>\n                                </div>\n                                <div class=\"subobjetivo\" [dndDropzone]=\"['objetivo']\"\n                                    (dndDrop)=\"onObjetivoDrop($event, objetivo)\">\n                                    <!-- Placehold -->\n                                    <div class=\"border mt-3 p-2\" dndPlaceholderRef><span class=\"placeholder w-75\"></span>\n                                    </div>\n                                    <ng-container *ngFor=\"let subobjetivo of objetivo.objetivos\"\n                                        [ngTemplateOutlet]=\"subobjetivos\"\n                                        [ngTemplateOutletContext]=\"{objetivo: subobjetivo, pai: objetivo}\"></ng-container>\n                                </div>\n                            </div>\n                        </ng-template>\n                        <div class=\"buttons w-100 d-flex justify-content-end px-1\">\n                            <action-button icon=\"bi bi-file-earmark-bar-graph\" [data]=\"objetivo\"\n                                [onClick]=\"this.onObjetivoClick.bind(this)\" color=\"transparent-black px-1\"></action-button>\n                            <action-button icon=\"bi bi-pencil-square\" [data]=\"objetivo\"\n                                [onClick]=\"this.onObjetivoEditClick.bind(this)\"\n                                color=\"transparent-black px-1\"></action-button>\n                            <action-button icon=\"bi bi-trash\" [data]=\"objetivo\"\n                                [onClick]=\"this.onObjetivoDeleteClick.bind(this)\"\n                                color=\"transparent-black px-1\"></action-button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <!-- Espao -->\n    <div class=\"row my-2\"></div>\n</editable-form>","import {\n  Component,\n  ElementRef,\n  Injector,\n  TemplateRef,\n  ViewChild,\n} from '@angular/core';\nimport { AbstractControl, FormGroup } from '@angular/forms';\nimport { InputSelectComponent } from 'src/app/components/input/input-select/input-select.component';\nimport { PlanejamentoDaoService } from 'src/app/dao/planejamento-dao.service';\nimport { PlanejamentoObjetivoDaoService } from 'src/app/dao/planejamento-objetivo-dao.service';\nimport { PlanoEntregaEntregaDaoService } from 'src/app/dao/plano-entrega-entrega-dao.service';\nimport { QueryContext } from 'src/app/dao/query-context';\nimport { IIndexable } from 'src/app/models/base.model';\nimport { PlanejamentoOkr } from 'src/app/models/planejamento-okr.model';\nimport { Planejamento } from 'src/app/models/planejamento.model';\nimport { PlanoEntregaEntregaObjetivo } from 'src/app/models/plano-entrega-entrega-objetivo.model';\nimport { PageFrameBase } from 'src/app/modules/base/page-frame-base';\nimport { LookupItem } from 'src/app/services/lookup.service';\nimport { PlanoEntregaService } from '../../plano-entrega/plano-entrega.service';\nimport { AtividadeDaoService } from 'src/app/dao/atividade-dao.service';\nimport { PlanoTrabalhoEntrega } from 'src/app/models/plano-trabalho-entrega.model';\nimport { Entrega } from 'src/app/models/entrega.model';\nimport { AtividadeService } from '../../atividade/atividade.service';\n\n@Component({\n  selector: 'planejamento-okr',\n  templateUrl: './planejamento-okr.component.html',\n  styleUrls: ['./planejamento-okr.component.scss'],\n})\nexport class PlanejamentoOkrComponent extends PageFrameBase {\n  @ViewChild('planejamentoInstitucional', { static: false })\n  public planejamentoInstitucional?: InputSelectComponent;\n\n  public planejamentos: LookupItem[] = [];\n  public planejamento?: Planejamento;\n  public objetivos: PlanejamentoOkr[] = [];\n  public objetivo_entregas: PlanoEntregaEntregaObjetivo[] = [];\n\n  public query?: QueryContext<Planejamento>;\n  public objetivoDao?: PlanejamentoObjetivoDaoService;\n  public atividadeDao: AtividadeDaoService;\n\n  public planoEntregaService: PlanoEntregaService;\n  public atividadeService: AtividadeService;\n\n  constructor(public injector: Injector) {\n    super(injector);\n    this.dao = injector.get<PlanejamentoDaoService>(PlanejamentoDaoService);\n    this.objetivoDao = injector.get<PlanejamentoObjetivoDaoService>(\n      PlanejamentoObjetivoDaoService\n    );\n    this.planoEntregaService =\n      injector.get<PlanoEntregaService>(PlanoEntregaService);\n    this.atividadeDao = injector.get<AtividadeDaoService>(AtividadeDaoService);\n    this.atividadeService = injector.get<AtividadeService>(AtividadeService);\n    this.join = ['objetivos_okr'];\n    this.title =\n      this.lex.translate('Objetivos') +\n      ' ' +\n      this.lex.translate('do Planejamento Institucional');\n    this.form = this.fh.FormBuilder(\n      {\n        planejamento_id: { default: null },\n        todos: { default: false },\n      },\n      this.cdRef,\n      this.validate\n    );\n  }\n\n  ngAfterViewInit(): void {\n    super.ngAfterViewInit();\n    this.loadData(this.entity);\n  }\n\n  public validate = (control: AbstractControl, controlName: string) => {\n    let result = null;\n    return result;\n  };\n\n  public async loadData(entity: IIndexable, form?: FormGroup) {\n    this.query = this.dao!.query({\n      where: [['data_arquivamento', '==', null]],\n      orderBy: [['data_inicio', 'desc']],\n    }) as QueryContext<Planejamento>;\n    this.query!.asPromise().then((planejamentos) => {\n      this.planejamentos = planejamentos.map((x) =>\n        Object.assign({} as LookupItem, {\n          key: x.id,\n          value: x.nome,\n          data: x,\n        })\n      );\n      this.cdRef.detectChanges();\n      this.form!.controls.planejamento_id.setValue(\n        this.planejamentos.length ? this.planejamentos[0].key : null\n      );\n    });\n  }\n\n  carregaEntregas(objetivoId: string) {\n    this.objetivoDao\n      ?.getById(objetivoId, [\n        'objetivos_entrega.entrega.entrega',\n        'objetivos_entrega.entrega.entregas_plano_trabalho',\n        'objetivos_entrega.entrega.unidade:id,nome',\n      ])\n      .then((resultado) => {\n        if (resultado && resultado.objetivos_entrega) {\n          this.objetivo_entregas = resultado.objetivos_entrega;\n          const entregasPorUnidade: any = {};\n\n          this.objetivo_entregas.forEach((entrega) => {\n            const unidade = entrega.entrega?.unidade;\n            entrega._metadata = Object.assign(entrega._metadata || {}, { corBorda: this.util.getRandomColor() });\n\n            if (unidade) {\n              unidade._metadata = Object.assign(unidade._metadata || {}, { corBorda: this.util.getRandomColor() });\n              const unidadeId = unidade.id;\n              if (!entregasPorUnidade[unidadeId]) {\n                entregasPorUnidade[unidadeId] = { unidade, entregas: [] };\n              }\n              entregasPorUnidade[unidadeId].entregas.push(entrega);\n            }\n          });\n\n          const objetivo = this.objetivos.find((o) => o.id == objetivoId);\n          if (objetivo) {\n            objetivo.unidadesComEntregas = Object.values(entregasPorUnidade);\n          }\n        }\n      });\n  }\n\n  async carregaAtividades(\n    entregasPlanoTrabalho: PlanoTrabalhoEntrega[],\n    entrega: Entrega,\n    event: Event\n  ) {\n    const entregasPlanoTrabalhoIds = entregasPlanoTrabalho.map((e) => e.id);\n    entrega!.atividades = await this.atividadeDao\n      .query({\n        where: [['plano_trabalho_entrega_id', 'in', entregasPlanoTrabalhoIds]],\n        join: ['usuario:id,nome'],\n      })\n      .asPromise();\n\n    const divPai = (event.target as HTMLElement).closest('.entrega-geral');\n    const divAtividades = divPai?.getElementsByClassName('atividades');\n    if (divAtividades?.length) {\n      divAtividades[0].setAttribute('class', 'atividades atividadesVisivel');\n      if (!entrega.atividades.length) {\n        divAtividades[0].innerHTML = `Essa entrega no tem ${this.lex.translate(\n          'Atividades'\n        )} cadastradas`;\n      }\n    }\n\n    this.cdRef.detectChanges();\n  }\n\n  public onPlanejamentoChange() {\n    if (this.planejamentoInstitucional!.selectedItem) {\n      this.dao!.getById(\n        this.planejamentoInstitucional!.selectedItem?.key,\n        this.join\n      ).then((planejamento) => {\n        this.planejamento = planejamento as Planejamento;\n        this.objetivos = this.planejamento.objetivos_okr || [];\n        this.objetivos.forEach(objetivo => {\n          objetivo._metadata = Object.assign(objetivo._metadata || {}, { corBorda: this.util.getRandomColor() });\n        });\n        this.cdRef.detectChanges();\n      });\n    }\n  }\n}\n","<editable-form [form]=\"form!\" noButtons>\n  <div class=\"row mt-2\">\n    <input-select #planejamentoInstitucional [size]=\"12\" controlName=\"planejamento_id\"\n      [control]=\"form!.controls.planejamento_id\" [items]=\"planejamentos\"\n      (change)=\"onPlanejamentoChange()\"></input-select>\n  </div>\n  <ng-scrollbar autoHeightDisabled=\"false\" track=\"all\">\n    <div class=\"d-flex justify-content-between mt-4\">\n      <div class=\"okr_header\">\n        <h1>O</h1>\n        <h6>Objetivos</h6>\n      </div>\n      <div class=\"header_unidades\">\n        \n        <div class=\"d-flex\">\n          <div class=\"okr_header header_unidade w-25\">\n            <h6>{{lex.translate('Unidades')}}</h6>\n          </div>\n          <div class=\"flex-fill\">\n            <div class=\"d-flex justify-content-between\">\n              <div class=\"okr_header header_resultados w-100\">\n                <h1>K.R</h1>\n                <h6>Resultados chaves</h6>\n              </div>\n\n              <div class=\"okr_header\">\n                <h6>{{lex.translate('Atividades')}}</h6>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"d-flex flex-column justify-content-between mt-4\">\n      <div class=\"mb-2\" *ngFor=\"let objetivo of objetivos; let i = index\">\n        <div class=\"d-flex justify-content-start\">\n          <ng-container [ngTemplateOutlet]=\"objetivoTmpl\"\n            [ngTemplateOutletContext]=\"{objetivo: objetivo, i: i}\"></ng-container>\n          <div class=\"unidades\">\n            <div *ngFor=\"let unidade_entrega of objetivo.unidadesComEntregas; let u = index\">\n              <div class=\"d-flex mb-1 align-items-stretch\">\n                <div class=\"unidade w-25\" [style.border-color]=\"unidade_entrega.unidade._metadata.corBorda\">\n                  {{unidade_entrega.unidade.nome}}\n                </div>\n                <div class=\"entregas flex-fill\">\n                  <div class=\"d-flex flex-column\">\n                    <ng-container *ngFor=\"let objetivo_entrega of unidade_entrega.entregas; let i = index\">\n                      <ng-container [ngTemplateOutlet]=\"entregaTmpl\"\n                        [ngTemplateOutletContext]=\"{objetivo_entrega: objetivo_entrega, i: i}\"></ng-container>\n                    </ng-container>\n                  </div>\n                </div>\n\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </ng-scrollbar>\n\n</editable-form>\n\n\n<ng-template #objetivoTmpl let-objetivo=\"objetivo\" let-i=\"i\">\n  <div class=\"objetivo\" [style.border-color]=\"objetivo._metadata.corBorda\">\n    <div class=\"d-flex justify-content-between align-items-center\">\n      <span>{{objetivo.nome}}</span>\n      <button class=\"btn\" (click)=\"carregaEntregas(objetivo.id)\"><i class=\"bi bi-chevron-right\"></i></button>\n    </div>\n  </div>\n</ng-template>\n\n\n<ng-template #entregaTmpl let-objetivo_entrega=\"objetivo_entrega\" let-i=\"i\">\n  <div>\n    <div class=\"d-flex justify-content-between align-items-stretch entrega-geral\">\n      <div class=\"entrega flex-fill\" [style.border-color]=\"objetivo_entrega._metadata.corBorda\">\n        <span class=\"d-flex justify-content-between align-items-center\">\n          {{objetivo_entrega.entrega.descricao}}\n          <button class=\"btn\"\n            (click)=\"carregaAtividades(objetivo_entrega.entrega.entregas_plano_trabalho, objetivo_entrega.entrega.entrega, $event)\"><i\n              class=\"bi bi-chevron-right\"></i></button>\n        </span>\n        <div class=\"d-flex align-items-center\">\n          <div class=\" w-100\">\n            <progress-bar [value]=\"objetivo_entrega.entrega.progresso_realizado\"\n              [goal]=\"objetivo_entrega.entrega.progresso_esperado\" color=\"success\"></progress-bar>\n          </div>\n          <div class=\"ms-2\">\n            <badge icon=\"bi bi-graph-up-arrow\" [textValue]=\"planoEntregaService.getValorMeta(objetivo_entrega.entrega)\"\n              color=\"light\" hint=\"Planejada\"></badge><br>\n            <badge icon=\"bi bi-check-lg\" [textValue]=\"planoEntregaService.getValorRealizado(objetivo_entrega.entrega)\"\n              color=\"light\" hint=\"Realizada\"></badge>\n          </div>\n        </div>\n      </div>\n      <div class=\"atividades\">\n        <div class=\"d-flex flex-column\">\n          <ng-container *ngFor=\"let atividade of objetivo_entrega.entrega.entrega.atividades\">\n            <div class=\"atividade\">\n              <div class=\"d-flex justify-content-between\">\n                <div>\n                  <p class=\"m-0\">{{atividade.descricao}}</p>\n                  <small>{{atividade.usuario.nome}}</small>\n                </div>\n\n                <div>\n                  <badge *ngFor=\"let status of atividadeService.getStatus(atividade)\" [data]=\"status\"\n                    [color]=\"status.color\" [icon]=\"status.icon\" [label]=\"status.label\"></badge>\n                </div>\n              </div>\n            </div>\n          </ng-container>\n        </div>\n      </div>\n    </div>\n  </div>\n\n</ng-template>","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { AuthGuard } from 'src/app/guards/auth.guard';\r\nimport { ConfigResolver } from 'src/app/resolvies/config.resolver';\r\nimport { PlanejamentoFormComponent } from './planejamento-form/planejamento-form.component';\r\nimport { PlanejamentoListComponent } from './planejamento-list/planejamento-list.component';\r\nimport { PlanejamentoFormObjetivoComponent } from './planejamento-form-objetivo/planejamento-form-objetivo.component';\r\nimport { PlanejamentoListObjetivosEntregasComponent } from './planejamento-list-objetivos-entregas/planejamento-list-objetivos-entregas.component';\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: PlanejamentoListComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Planejamentos Institucionais\" } },\r\n  { path: 'new', component: PlanejamentoFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Incluso de Planejamento Institucional\", modal: true } },\r\n  { path: ':id/edit', component: PlanejamentoFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Edio de Planejamento Institucional\", modal: true } },\r\n  { path: ':id/consult', component: PlanejamentoFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Consulta a Planejamento Institucional\", modal: true } },\r\n  { path: 'objetivo', component: PlanejamentoFormObjetivoComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Incluso de Objetivo de Planejamento Institucional\", modal: true } },\r\n  { path: 'objetivoList', component: PlanejamentoListObjetivosEntregasComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Objetivos de Planejamento Institucional\", modal: true } },\r\n  { path: 'objetivo/:id/consult', component: PlanejamentoFormObjetivoComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Consulta a Objetivo de Planejamento Institucional\", modal: true } },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class PlanejamentoRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ComponentsModule } from 'src/app/components/components.module';\r\nimport { PlanejamentoListComponent } from './planejamento-list/planejamento-list.component';\r\nimport { PlanejamentoFormComponent } from './planejamento-form/planejamento-form.component';\r\nimport { PlanejamentoRoutingModule } from './planejamento-routing.module';\r\nimport { PlanejamentoListObjetivoComponent } from './planejamento-list-objetivo/planejamento-list-objetivo.component';\r\nimport { PlanejamentoFormObjetivoComponent } from './planejamento-form-objetivo/planejamento-form-objetivo.component';\r\nimport { PlanejamentoMapaComponent } from './planejamento-mapa/planejamento-mapa.component';\r\nimport { DndModule } from 'ngx-drag-drop';\r\nimport { PlanejamentoListObjetivosEntregasComponent } from './planejamento-list-objetivos-entregas/planejamento-list-objetivos-entregas.component';\r\nimport { PlanejamentoOkrComponent } from './planejamento-okr/planejamento-okr.component';\r\nimport { NgScrollbarModule } from 'ngx-scrollbar';\r\nimport { UteisModule } from '../../uteis/uteis.module';\r\n\r\n\r\n@NgModule({\r\n  declarations: [ \r\n    PlanejamentoListComponent,\r\n    PlanejamentoFormComponent,\r\n    PlanejamentoListObjetivoComponent,\r\n    PlanejamentoFormObjetivoComponent,\r\n    PlanejamentoMapaComponent,\r\n    PlanejamentoListObjetivosEntregasComponent,\r\n    PlanejamentoOkrComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    ComponentsModule,\r\n    DndModule,\r\n    PlanejamentoRoutingModule,\r\n    NgScrollbarModule,\r\n    UteisModule\r\n  ],\r\n  exports: [\r\n    PlanejamentoListObjetivosEntregasComponent\r\n  ]\r\n})\r\nexport class PlanejamentoModule { }\r\n"],"names":["EditableFormComponent","EixoTematicoDaoService","PlanejamentoDaoService","PlanejamentoObjetivoDaoService","PlanejamentoObjetivo","PageFormBase","NavigateResult","i0","elementStart","element","listener","PlanejamentoFormObjetivoComponent_separator_9_Template_input_select_change_3_listener","$event","restoreView","_r4","ctx_r3","nextContext","resetView","onObjetivoSuperiorChange","elementEnd","property","advance","ctx_r2","entityService","getIcon","attribute","objetivos_superiores","form","controls","objetivo_superior_id","PlanejamentoFormObjetivoComponent","constructor","injector","objetivos","validate","control","controlName","result","indexOf","value","length","formValidation","planejamentoDao","get","eixoTematicoDao","fh","FormBuilder","nome","default","fundamentacao","planejamento_id","planejamento_superior_nome","eixo_tematico_id","objetivo_pai_id","integra_okr","cdRef","loadData","entity","_this","_asyncToGenerator","formValue","Object","assign","patchValue","util","fillForm","eixoTematico","loadSearch","eixo_tematico","title","_status","planejamento","metadata","planejamento_superior","setValue","map","x","key","id","data","initializeData","_this2","objetivo","saveData","_this3","Promise","_ref","resolve","reject","selectedItem","_x","_x2","apply","arguments","isPlanejamentoUNEX","unidade_id","onObjetivoPaiChange","row","objetivoPai","eixoTematicoId","find","detectChanges","idEixoTematicoObjetivoSuperior","_","directiveInject","Injector","_2","selectors","viewQuery","PlanejamentoFormObjetivoComponent_Query","rf","ctx","PlanejamentoFormObjetivoComponent_Template_editable_form_submit_0_listener","onSaveData","PlanejamentoFormObjetivoComponent_Template_editable_form_cancel_0_listener","onCancel","PlanejamentoFormObjetivoComponent_Template_input_select_change_7_listener","template","PlanejamentoFormObjetivoComponent_separator_9_Template","formDisabled","isModal","undefined","planejamento_superior_id","GridComponent","UnidadeDaoService","Planejamento","UtilService","PlanejamentoFormComponent","this","planejamentosSuperiores","hasPermissionToUNEX","joinPlanejamentoSuperior","dao","validDateTime","data_fim","data_inicio","valores","unidades","query","where","asPromise","forEach","un","intersection","start","asDate","end","titleEdit","lex","translate","unidadeDao","auth","hasPermissionTo","join","entidade_id","Date","missao","visao","valor_texto","resultados_institucionais","resultados_texto","utilizar_superior","carregaPlanejamentosSuperiores","grid","confirm","fill","items","addValorHandle","textHash","validateLookupItem","addResultadoHandle","onUnidadeChange","event","_this4","unidadeId","_this5","pls","unshift","onUtilizarSuperiorChange","_this6","unidade_superior_id","onPlanejamentoChange","_this7","filter","objetivo_superior","dialog","obj","planejamentoSuperior","loadColumns","isPlanejamentoUNINST","isPlanejamentoUNEXEC","PlanejamentoFormComponent_Query","PlanejamentoFormComponent_Template_editable_form_submit_0_listener","PlanejamentoFormComponent_Template_editable_form_cancel_0_listener","PlanejamentoFormComponent_Template_input_search_change_7_listener","PlanejamentoFormComponent_Template_input_select_change_11_listener","PlanejamentoFormComponent_Template_input_switch_change_13_listener","bind","action","PageFrameBase","tmp_0_0","getEixo","separator_r10","text","icone","tmp_1_0","cor","tmp_2_0","text","styleProp","row_r11","_metadata","level","textInterpolate","ctx_r4","marcador","row_r12","row_r13","row_r16","PlanejamentoListObjetivoComponent_column_14_ng_template_1_Template","templateRefExtractor","_r14","PlanejamentoListObjetivoComponent","disabled","_disabled","noPersist","gridControl","minHeight","options","eixos","objetivoDao","eixoDao","groupBy","field","label","OPTION_INFORMACOES","onClick","go","navigate","route","modal","OPTION_EXCLUIR","removeObjetivo","addOption","ngOnInit","carregaEixos","sortObjetivos","dynamicButtons","push","hint","icon","color","editObjetivo","addObjetivo","generateUuid","objetivosPai","modalClose","modalResult","isNoPersist","save","error","message","filhoId","addItens","list","item","sort","a","b","sequencia","index","_ref2","delete","splice","getAll","then","PlanejamentoListObjetivoComponent_Query","PlanejamentoListObjetivoComponent_ng_template_2_Template","PlanejamentoListObjetivoComponent_ng_template_6_Template","PlanejamentoListObjetivoComponent_ng_template_9_Template","PlanejamentoListObjetivoComponent_ng_template_12_Template","PlanejamentoListObjetivoComponent_column_14_Template","_r1","_r3","_r5","_r7","PageListBase","ctx_r0","ctx_r1","buttons","getNome","metadata_r5","row_r4","PlanejamentoListObjetivosEntregasComponent","filterWhere","trim","replace","planejamentoObjetivoDao","filterClear","path","paiId","niveis","atual","sa","getMetadata","split","substr","sb","PlanejamentoListObjetivosEntregasComponent_Query","PlanejamentoListObjetivosEntregasComponent_h3_0_Template","PlanejamentoListObjetivosEntregasComponent_Template_grid_select_1_listener","onSelect","PlanejamentoListObjetivosEntregasComponent_toolbar_2_Template","PlanejamentoListObjetivosEntregasComponent_ng_template_8_Template","add","orderBy","selectable","filterSubmit","filterCollapseChange","filterCollapsed","_r2","edit","rowsLimit","TabsComponent","textInterpolate1","row_r19","PlanejamentoListComponent_ng_template_2_column_12_ng_template_1_span_0_Template","row_r22","PlanejamentoListComponent_ng_template_2_column_12_ng_template_1_Template","PlanejamentoListComponent_ng_template_2_column_12_ng_template_3_Template","ctx_r6","_r15","_r17","row_r23","ctx_r10","getDateFormatted","row_r24","ctx_r12","row_r25","row_r26","unidade","PlanejamentoListComponent_ng_template_2_Template_grid_select_0_listener","_r28","ctx_r27","PlanejamentoListComponent_ng_template_2_toolbar_1_Template","PlanejamentoListComponent_ng_template_2_Template_input_switch_change_6_listener","ctx_r29","onSoEntidadeChange","PlanejamentoListComponent_ng_template_2_column_12_Template","PlanejamentoListComponent_ng_template_2_ng_template_14_Template","PlanejamentoListComponent_ng_template_2_ng_template_17_Template","PlanejamentoListComponent_ng_template_2_ng_template_20_Template","PlanejamentoListComponent_ng_template_2_ng_template_23_Template","initGrid","so_entidade","unidade_disabled","_r9","_r11","_r13","PlanejamentoListComponent","code","agrupar","consult","OPTION_LOGS","ngAfterViewInit","tabs","active","includes","usuarioConfig","active_tab","onLoad","queryInit","onSelectTab","tab","viewInit","saveUsuarioConfig","PlanejamentoListComponent_Query","PlanejamentoListComponent_ng_template_2_Template","PlanejamentoListComponent_ng_template_5_Template","_r0","elementContainer","pureFunction2","_c1","subobjetivo_r9","objetivo_r5","subobjetivo_r14","objetivo_r11","PlanejamentoMapaComponent_div_8_div_18_ng_template_9_Template_div_dndEnd_0_listener","ctx_r16","onObjetivoDragEnd","PlanejamentoMapaComponent_div_8_div_18_ng_template_9_Template_div_dndMoved_0_listener","restoredCtx","pai_r12","pai","ctx_r18","onObjetivoDragged","PlanejamentoMapaComponent_div_8_div_18_ng_template_9_Template_div_dndStart_0_listener","ctx_r19","onObjetivoDragStart","PlanejamentoMapaComponent_div_8_div_18_ng_template_9_Template_div_dndDrop_5_listener","ctx_r20","onObjetivoDrop","PlanejamentoMapaComponent_div_8_div_18_ng_template_9_ng_container_8_Template","ctx_r8","canEdit","subObjetivosMenu","pureFunction0","_c2","PlanejamentoMapaComponent_div_8_div_18_Template_div_dndEnd_0_listener","_r22","ctx_r21","PlanejamentoMapaComponent_div_8_div_18_Template_div_dndMoved_0_listener","$implicit","eixo_r3","ctx_r23","PlanejamentoMapaComponent_div_8_div_18_Template_div_dndStart_0_listener","ctx_r25","PlanejamentoMapaComponent_div_8_div_18_Template_div_dndDrop_5_listener","ctx_r26","PlanejamentoMapaComponent_div_8_div_18_ng_container_8_Template","PlanejamentoMapaComponent_div_8_div_18_ng_template_9_Template","onObjetivoClick","onObjetivoEditClick","onObjetivoDeleteClick","PlanejamentoMapaComponent_div_8_Template_div_dndDrop_6_listener","PlanejamentoMapaComponent_div_8_div_18_Template","eixo","onObjetivoAddClick","PlanejamentoMapaComponent","planejamentos","todos","objetivosEixo","eixoId","y","recursivo","planejamentoInstitucional","getById","extra","onTodosChange","dropped","console","log","neighborhood","loading","update","finally","dragged","effect","PlanejamentoMapaComponent_Query","PlanejamentoMapaComponent_Template_input_select_change_2_listener","PlanejamentoMapaComponent_planejamento_show_5_Template","PlanejamentoMapaComponent_Template_input_switch_change_7_listener","PlanejamentoMapaComponent_div_8_Template","PlanoEntregaService","AtividadeDaoService","AtividadeService","elementContainerStart","elementContainerEnd","objetivo_entrega_r12","i_r13","PlanejamentoOkrComponent_div_27_div_4_ng_container_6_Template","unidade_entrega_r9","corBorda","entregas","PlanejamentoOkrComponent_div_27_div_4_Template","objetivo_r6","i_r7","unidadesComEntregas","PlanejamentoOkrComponent_ng_template_28_Template_button_click_4_listener","objetivo_r14","carregaEntregas","status_r23","PlanejamentoOkrComponent_ng_template_30_ng_container_16_badge_9_Template","atividade_r21","descricao","usuario","atividadeService","getStatus","PlanejamentoOkrComponent_ng_template_30_Template_button_click_5_listener","_r25","objetivo_entrega_r18","objetivo_entrega","ctx_r24","carregaAtividades","entrega","entregas_plano_trabalho","PlanejamentoOkrComponent_ng_template_30_ng_container_16_Template","progresso_realizado","progresso_esperado","ctx_r5","planoEntregaService","getValorMeta","getValorRealizado","atividades","PlanejamentoOkrComponent","objetivo_entregas","atividadeDao","objetivoId","resultado","objetivos_entrega","entregasPorUnidade","getRandomColor","o","values","entregasPlanoTrabalho","entregasPlanoTrabalhoIds","e","divPai","target","closest","divAtividades","getElementsByClassName","setAttribute","innerHTML","objetivos_okr","PlanejamentoOkrComponent_Query","PlanejamentoOkrComponent_Template_input_select_change_2_listener","PlanejamentoOkrComponent_div_27_Template","PlanejamentoOkrComponent_ng_template_28_Template","PlanejamentoOkrComponent_ng_template_30_Template","RouterModule","AuthGuard","ConfigResolver","routes","component","canActivate","config","runGuardsAndResolvers","PlanejamentoRoutingModule","_3","forChild","imports","i1","exports","CommonModule","ComponentsModule","DndModule","NgScrollbarModule","UteisModule","PlanejamentoModule","declarations"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}
=======
{"version":3,"file":"1685.js","mappings":"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","sources":["./src/app/modules/gestao/planejamento-institucional/planejamento-form-objetivo/planejamento-form-objetivo.component.ts","./src/app/modules/gestao/planejamento-institucional/planejamento-form-objetivo/planejamento-form-objetivo.component.html","./src/app/modules/gestao/planejamento-institucional/planejamento-form/planejamento-form.component.ts","./src/app/modules/gestao/planejamento-institucional/planejamento-form/planejamento-form.component.html","./src/app/modules/gestao/planejamento-institucional/planejamento-list-objetivo/planejamento-list-objetivo.component.ts","./src/app/modules/gestao/planejamento-institucional/planejamento-list-objetivo/planejamento-list-objetivo.component.html","./src/app/modules/gestao/planejamento-institucional/planejamento-list-objetivos-entregas/planejamento-list-objetivos-entregas.component.ts","./src/app/modules/gestao/planejamento-institucional/planejamento-list-objetivos-entregas/planejamento-list-objetivos-entregas.component.html","./src/app/modules/gestao/planejamento-institucional/planejamento-list/planejamento-list.component.ts","./src/app/modules/gestao/planejamento-institucional/planejamento-list/planejamento-list.component.html","./src/app/modules/gestao/planejamento-institucional/planejamento-mapa/planejamento-mapa.component.ts","./src/app/modules/gestao/planejamento-institucional/planejamento-mapa/planejamento-mapa.component.html","./src/app/modules/gestao/planejamento-institucional/planejamento-okr/planejamento-okr.component.ts","./src/app/modules/gestao/planejamento-institucional/planejamento-okr/planejamento-okr.component.html","./src/app/modules/gestao/planejamento-institucional/planejamento-routing.module.ts","./src/app/modules/gestao/planejamento-institucional/planejamento.module.ts"],"sourcesContent":["import { Component, Injector, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { InputSearchComponent } from 'src/app/components/input/input-search/input-search.component';\r\nimport { InputSelectComponent } from 'src/app/components/input/input-select/input-select.component';\r\nimport { InputTextComponent } from 'src/app/components/input/input-text/input-text.component';\r\nimport { EixoTematicoDaoService } from 'src/app/dao/eixo-tematico-dao.service';\r\nimport { PlanejamentoDaoService } from 'src/app/dao/planejamento-dao.service';\r\nimport { PlanejamentoObjetivoDaoService } from 'src/app/dao/planejamento-objetivo-dao.service';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { PlanejamentoObjetivo } from 'src/app/models/planejamento-objetivo.model';\r\nimport { Planejamento } from 'src/app/models/planejamento.model';\r\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\r\nimport { LookupItem } from 'src/app/services/lookup.service';\r\nimport { NavigateResult } from 'src/app/services/navigate.service';\r\n\r\n@Component({\r\n  selector: 'app-planejamento-form-objetivo',\r\n  templateUrl: './planejamento-form-objetivo.component.html',\r\n  styleUrls: ['./planejamento-form-objetivo.component.scss']\r\n})\r\nexport class PlanejamentoFormObjetivoComponent extends PageFormBase<PlanejamentoObjetivo, PlanejamentoObjetivoDaoService> {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n  @ViewChild('planejamentoSuperiorNome', {static: false}) public planejamentoSuperiorNome?: InputTextComponent;\r\n  @ViewChild('eixoTematico', {static: false}) public eixoTematico?: InputSearchComponent;\r\n\r\n  public planejamento?: Planejamento;\r\n  public objetivos: LookupItem[] = [];\r\n  public objetivos_superiores: LookupItem[] = [];\r\n  public planejamentoDao?: PlanejamentoDaoService;\r\n  public eixoTematicoDao?: EixoTematicoDaoService;\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, PlanejamentoObjetivo, PlanejamentoObjetivoDaoService);\r\n    this.planejamentoDao = injector.get<PlanejamentoDaoService>(PlanejamentoDaoService);\r\n    this.eixoTematicoDao = injector.get<EixoTematicoDaoService>(EixoTematicoDaoService);\r\n    this.form = this.fh.FormBuilder({\r\n      nome: {default: \"\"},\r\n      fundamentacao: {default: \"\"},\r\n      planejamento_id: {default: null},\r\n      planejamento_superior_nome: {default: \"\"},\r\n      eixo_tematico_id: {default: null},\r\n      objetivo_superior_id: {default: null},\r\n      objetivo_pai_id: {default: null},\r\n      integra_okr: {default: true},\r\n    }, this.cdRef, this.validate);\r\n  }\r\n\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n    if(['nome','fundamentacao'].indexOf(controlName) >= 0 && !control.value?.length) result = \"Obrigatrio\";\r\n    if(['eixo_tematico_id'].indexOf(controlName) >= 0 && !control.value?.length) result = \"Obrigatrio\";\r\n    return result;\r\n  }\r\n\r\n  public formValidation = (form?: FormGroup) =>{\r\n    let result = null;\r\n    /*  Regra est sendo discutida\r\n        (RN_PLAN_INST_OBJ_A)\r\n        Quando o Planejamento  de uma Unidade Executora  obrigatrio associar cada um dos seus objetivos a um objetivo do Planejamento Institucional superior\r\n    */\r\n/*     if(this.isPlanejamentoUNEX() && !this.form?.controls.objetivo_superior_id.value){\r\n      result = \"Quando o Planejamento  de uma Unidade Executora  obrigatrio associar cada um dos seus objetivos a um objetivo do Planejamento Institucional superior!\";\r\n    } */\r\n    return result;\r\n  }\r\n\r\n  public async loadData(entity: PlanejamentoObjetivo, form: FormGroup) {\r\n    let formValue = Object.assign({}, form.value);\r\n    form.patchValue(this.util.fillForm(formValue, entity));\r\n    await this.eixoTematico?.loadSearch(entity.eixo_tematico || entity.eixo_tematico_id);\r\n    this.title = entity._status == 'ADD' ? 'Incluso de Objetivo' : 'Editando objetivo...';\r\n    this.planejamento = this.metadata?.planejamento as Planejamento;\r\n    if(this.metadata?.planejamento_superior) this.planejamento.planejamento_superior = this.metadata.planejamento_superior as Planejamento;\r\n    this.form?.controls.planejamento_superior_nome.setValue(this.planejamento?.planejamento_superior?.nome || '');\r\n    this.objetivos_superiores = this.planejamento?.planejamento_superior?.objetivos?.map(x => Object.assign({}, { key: x.id, value: x.nome, data: x })) || [];\r\n  }\r\n\r\n  public async initializeData(form: FormGroup) {\r\n    this.entity = this.metadata?.objetivo as PlanejamentoObjetivo;\r\n    this.objetivos = (this.metadata?.objetivos as PlanejamentoObjetivo[]).map(x => Object.assign({}, {\r\n      key: x.id,\r\n      value: x.nome,\r\n      data: x\r\n    }));\r\n    await this.loadData(this.entity!, form);\r\n  }\r\n\r\n  public saveData(form: IIndexable): Promise<NavigateResult> {\r\n    return new Promise<NavigateResult>(async (resolve, reject) => {\r\n      const objetivo = Object.assign({eixo_tematico: this.eixoTematico?.selectedItem?.entity}, this.entity!);\r\n      resolve(new NavigateResult(this.util.fillForm(objetivo, this.form!.value)));\r\n    });\r\n  }\r\n\r\n  public isPlanejamentoUNEX(): boolean {\r\n    return this.planejamento?.unidade_id != null;\r\n  }\r\n\r\n  public onObjetivoPaiChange(row: any) {\r\n    const objetivoPai = this.form!.controls.objetivo_pai_id.value;\r\n    const eixoTematicoId = this.objetivos.find(x => x.key === objetivoPai)?.data.eixo_tematico_id;\r\n    if (eixoTematicoId) this.form!.controls.eixo_tematico_id.setValue(eixoTematicoId);\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public onObjetivoSuperiorChange(row: any) {\r\n    //let objetivoSuperior = this.objetivos_superiores.find(x => x.key === this.form?.controls.objetivo_superior_id.value)?.data.eixo_tematico_id;  \r\n    let idEixoTematicoObjetivoSuperior = this.objetivos_superiores.find(x => x.key === this.form?.controls.objetivo_superior_id.value)?.data.eixo_tematico_id;  \r\n    if (!this.form!.controls.eixo_tematico_id.value) this.form!.controls.eixo_tematico_id.setValue(idEixoTematicoObjetivoSuperior);\r\n    this.cdRef.detectChanges();\r\n  }\r\n}\r\n","<editable-form [form]=\"form!\" [disabled]=\"formDisabled\" [title]=\"isModal ? '' : title\" initialFocus=\"nome\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\">\r\n    <div class=\"row\">\r\n        <div class=\"row\">\r\n            <input-text [size]=\"12\" icon=\"bi bi-textarea-t\" label=\"Nome\" controlName=\"nome\" [control]=\"form!.controls.nome\" [attr.maxlength]=250 required></input-text>\r\n        </div>\r\n        <div class=\"row\">\r\n            <input-search [size]=\"6\" #eixoTematico [disabled]=\"form?.controls?.objetivo_pai_id?.value ? 'true' : undefined\" controlName=\"eixo_tematico_id\" [dao]=\"eixoTematicoDao\" required ></input-search>\r\n            <input-select [size]=\"6\" #objetivoPai [items]=\"objetivos\" label=\"Objetivo Pai\" icon=\"fab fa-unity\" controlName=\"objetivo_pai_id\" (change)=\"onObjetivoPaiChange($event)\"></input-select>\r\n        </div>\r\n        <separator *ngIf=\"planejamento?.planejamento_superior_id\" [margin]=\"2\" title=\"Vinculo com Planejamento Superior\">\r\n            <div class=\"row\">\r\n                <input-text [size]=\"6\" disabled label=\"Planejamento Superior vinculado\" [icon]=\"entityService.getIcon('Planejamento')\" controlName=\"planejamento_superior_nome\" [attr.maxlength]=250></input-text>\r\n                <input-select [items]=\"objetivos_superiores\" [size]=\"6\" label=\"Objetivo de Planejamento Superior (Vinculado)\" icon=\"fab fa-unity\" controlName=\"objetivo_superior_id\" [control]=\"form!.controls.objetivo_superior_id\" (change)=\"onObjetivoSuperiorChange($event)\"></input-select>\r\n            </div>\r\n        </separator>\r\n        <div class=\"row\">\r\n            <input-textarea icon=\"bi bi-textarea-t\" label=\"Fundamentao\" [size]=\"12\" [rows]=\"4\" controlName=\"fundamentacao\" [control]=\"form!.controls.fundamentacao\" required></input-textarea>\r\n        </div>\r\n    </div>\r\n</editable-form>\r\n","import { Component, Injector, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { PlanejamentoDaoService } from 'src/app/dao/planejamento-dao.service';\r\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { Planejamento } from 'src/app/models/planejamento.model';\r\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\r\nimport { LookupItem } from 'src/app/services/lookup.service';\r\nimport { PlanejamentoListObjetivoComponent } from '../planejamento-list-objetivo/planejamento-list-objetivo.component';\r\nimport { InputSelectComponent } from 'src/app/components/input/input-select/input-select.component';\r\nimport { UtilService } from \"src/app/services/util.service\";\r\n\r\n@Component({\r\n  selector: 'app-planejamento-form',\r\n  templateUrl: './planejamento-form.component.html',\r\n  styleUrls: ['./planejamento-form.component.scss']\r\n})\r\nexport class PlanejamentoFormComponent extends PageFormBase<Planejamento, PlanejamentoDaoService> {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n  @ViewChild(GridComponent, { static: true }) public grid?: GridComponent;\r\n  @ViewChild('planejamentoSuperior', { static: false }) public planejamentoSuperior?: InputSelectComponent;\r\n  @ViewChild('objetivos', { static: false }) public objetivos?: PlanejamentoListObjetivoComponent;\r\n\r\n  public unidadeDao: UnidadeDaoService;\r\n  public planejamentosSuperiores: LookupItem[] = [];\r\n  public hasPermissionToUNEX: boolean = false;\r\n  public form: FormGroup;\r\n  public util: UtilService;\r\n  public joinPlanejamentoSuperior: string[] = [];\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, Planejamento, PlanejamentoDaoService);\r\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\r\n    this.hasPermissionToUNEX = this.auth.hasPermissionTo('MOD_PLAN_INST_INCL_UNEX_LOTPRI') || this.auth.hasPermissionTo('MOD_PLAN_INST_INCL_UNEX_QQLOT') || this.auth.hasPermissionTo('MOD_PLAN_INST_INCL_UNEX_SUBORD') || this.auth.hasPermissionTo('MOD_PLAN_INST_INCL_UNEX_QUALQUER');\r\n    this.join = [\r\n      'objetivos',\r\n      'objetivos.objetivo_pai:id,nome',\r\n      'objetivos.objetivo_superior:id,planejamento_id',\r\n      'objetivos.eixo_tematico:id,nome',\r\n      'planejamento_superior:id,nome',\r\n      'planejamento_superior.objetivos'\r\n    ];\r\n    this.joinPlanejamentoSuperior = [\r\n      \"objetivos\"\r\n    ];\r\n    this.form = this.fh.FormBuilder({\r\n      nome: { default: \"\" },\r\n      unidade_id: { default: null },\r\n      entidade_id: { default: null },\r\n      planejamento_superior_id: { default: null },\r\n      data_inicio: { default: new Date() },\r\n      data_fim: { default: null },\r\n      missao: { default: \"\" },\r\n      visao: { default: \"\" },\r\n      valores: { default: [] },\r\n      valor_texto: { default: \"\" },\r\n      resultados_institucionais: { default: [] },\r\n      resultados_texto: { default: \"\" },\r\n      utilizar_superior: {default: false}\r\n    }, this.cdRef, this.validate);\r\n    this.util = injector.get<UtilService>(UtilService);\r\n  }\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n    /*  (RN_PLAN_INST_A) \r\n        Para a criao de um planejamento institucional so informaes obrigatrias: nome, misso, viso, data de incio, unidade responsvel e ao menos um dos valores institucionais.\r\n    */\r\n    if (['nome', 'unidade_id', 'missao', 'visao'].indexOf(controlName) >= 0 && !control.value?.length) {\r\n      result = \"Obrigatrio\";\r\n    }\r\n    if (controlName == 'data_inicio' && !this.dao?.validDateTime(control.value)) {\r\n      result = \"Invlido\";\r\n    }\r\n    if (controlName == 'data_fim' && control.value && !this.dao?.validDateTime(control.value)) {\r\n      result = \"Invlido\";\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public formValidation = async (form?: FormGroup) => {\r\n    /* (RN_PLAN_INST_A) Para a criao de um planejamento institucional so informaes obrigatrias: nome, misso, viso, data de incio, unidade responsvel e ao menos um dos valores institucionais. */\r\n    let result = undefined;\r\n    if (this.form!.controls.data_fim.value && this.form!.controls.data_inicio.value > this.form!.controls.data_fim.value) return \"A data do incio no pode ser maior que a data do fim! [RN_PLAN_INST_A]\";\r\n    if (this.form!.controls.valores.value.length == 0) return \" obrigatria a incluso de ao menos um valor institucional! [RN_PLAN_INST_A]\";\r\n    /* (RN_PLAN_INST_B) No pode existir mais de um planejamento institucional para uma mesma unidade em um mesmo perodo de tempo. */\r\n    let unidades = await this.dao?.query({ where: [['unidade_id', '==', this.form!.controls.unidade_id.value]] }).asPromise();\r\n    (unidades || []).forEach(un => {\r\n      if (un.id != this.entity!.id && this.util.intersection([{ start: this.util.asDate(un.data_inicio)!, end: this.util.asDate(un.data_fim)! },\r\n      { start: this.util.asDate(this.form!.controls.data_inicio.value)!, end: this.util.asDate(this.form!.controls.data_fim.value)! }])) {\r\n        result = \"Sobreposio de planejamento para o perodo de datas selecionadas [RN_PLAN_INST_B]\";\r\n      }\r\n    });\r\n    return result;\r\n  }\r\n\r\n  public async loadData(entity: Planejamento, form: FormGroup) {\r\n    let formValue = Object.assign({}, form.value);\r\n    await this.carregaPlanejamentosSuperiores(entity.unidade_id);\r\n    form.patchValue(this.util.fillForm(formValue, entity));\r\n    this.form.controls.planejamento_superior_id.setValue(entity.planejamento_superior_id);\r\n  }\r\n\r\n  public initializeData(form: FormGroup) {\r\n    this.entity = new Planejamento();\r\n    this.loadData(this.entity, form);\r\n  }\r\n\r\n  public async saveData(form: IIndexable): Promise<Planejamento> {\r\n    return new Promise<Planejamento>((resolve, reject) => {\r\n      this.objetivos!.grid!.confirm();\r\n      let planejamento = this.util.fill(new Planejamento(), this.entity!);\r\n      planejamento = this.util.fillForm(planejamento, this.form!.value);\r\n      planejamento.objetivos = this.objetivos!.items;\r\n      resolve(planejamento);\r\n    });\r\n  }\r\n\r\n  public titleEdit = (entity: Planejamento): string => {\r\n    return \"Editando \" + this.lex.translate(\"Planejamento Institucional\") + ': ' + (entity?.nome || \"\");\r\n  }\r\n\r\n  public addValorHandle(): LookupItem | undefined {\r\n    let result = undefined;\r\n    const value = this.form.controls.valor_texto.value;\r\n    const key = this.util.textHash(value);\r\n    if (value?.length && this.util.validateLookupItem(this.form.controls.valores.value, key)) {\r\n      result = {\r\n        key: key,\r\n        value: this.form.controls.valor_texto.value\r\n      };\r\n      this.form.controls.valor_texto.setValue(\"\");\r\n    }\r\n    return result;\r\n  };\r\n\r\n  public addResultadoHandle(): LookupItem | undefined {\r\n    let result = undefined;\r\n    const value = this.form.controls.resultados_texto.value;\r\n    const key = this.util.textHash(value);\r\n    if (value?.length && this.util.validateLookupItem(this.form.controls.resultados_institucionais.value, key)) {\r\n      result = {\r\n        key: key,\r\n        value: this.form.controls.resultados_texto.value\r\n      };\r\n      this.form.controls.resultados_texto.setValue(\"\");\r\n    }    \r\n    return result;\r\n  };\r\n\r\n  public async onUnidadeChange(event: Event) {\r\n    if (this.entity!.unidade_id != this.form.controls.unidade_id.value) await this.carregaPlanejamentosSuperiores(this.form.controls.unidade_id.value);\r\n  }\r\n\r\n  public async carregaPlanejamentosSuperiores(unidadeId?: string | null) {\r\n    if (unidadeId?.length) {\r\n      let pls = await this.dao?.query({ where: [['unidade_id', '==', unidadeId], ['manut_planej_unidades_executoras', '==', true]], join: this.joinPlanejamentoSuperior }).asPromise();\r\n      this.planejamentosSuperiores = (pls || []).map(x => Object.assign({}, { key: x.id, value: x.nome, data: x }) as LookupItem);\r\n      this.planejamentosSuperiores.unshift({ key: null, value: 'Escolha um Planejamento superior...' });\r\n      this.objetivos!.loadData(this.entity!, this.form!);\r\n      this.cdRef.detectChanges();\r\n    }\r\n  }\r\n\r\n  public async onUtilizarSuperiorChange(event: Event) {\r\n    let unidade_superior_id = this.form.controls.planejamento_superior_id.value;\r\n    if (this.form.controls.utilizar_superior.value && unidade_superior_id?.length) {\r\n      let pls = await this.dao?.query({ where: [['id', '==', unidade_superior_id]]}).asPromise();\r\n      this.form.controls.missao.setValue(pls![0].missao);\r\n      this.form.controls.visao.setValue(pls![0].visao);\r\n      this.form.controls.valores.setValue(pls![0].valores);\r\n      this.form.controls.resultados_institucionais.setValue(pls![0].resultados_institucionais);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @param event \r\n   * Se o planejamento superior for alterado, e j houver objetivos na lista vinculados a objetivos dele, avisar que eles perdero esses vnculos.\r\n   */\r\n  public async onPlanejamentoChange(event: Event) {\r\n    if (this.form.controls.planejamento_superior_id.value != this.entity?.planejamento_superior_id && this.entity?.objetivos?.length && this.entity?.objetivos.filter(x => x.objetivo_superior && x.objetivo_superior!.planejamento_id == this.entity?.planejamento_superior_id).length) {\r\n      let confirm = await this.dialog.confirm(\"Alterao de Planejamento Superior\", \"Como j existe(m) objetivo(s) neste Planejamento, vinculado(s) a objetivo(s) do Planejamento Superior anterior, seus vnculos sero perdidos! Deseja continuar?\");\r\n      if (confirm) {\r\n        this.entity?.objetivos?.forEach(obj => obj.objetivo_superior_id = null);\r\n        //atualizar a lista de objetivos superiores\r\n      } else {\r\n        this.form.controls.planejamento_superior_id.setValue(this.entity?.planejamento_superior_id);\r\n      };\r\n    };\r\n    this.entity!.planejamento_superior_id = this.form.controls.planejamento_superior_id.value;\r\n    this.entity!.planejamento_superior = this.planejamentoSuperior!.selectedItem?.data;\r\n    this.objetivos!.planejamento_superior_id = this.form.controls.planejamento_superior_id.value;\r\n    this.objetivos?.grid?.loadColumns();\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @returns boolean Informa se o planejamento  da Unidade Instituidora ou no.\r\n   */\r\n  public isPlanejamentoUNINST(): boolean {\r\n    return !this.form.controls.unidade_id.value?.length\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @returns boolean Informa se o planejamento  da Unidade Executora ou no.\r\n   */\r\n  public isPlanejamentoUNEXEC(): boolean {\r\n    return !this.isPlanejamentoUNINST();\r\n  }\r\n}\r\n","<editable-form [form]=\"form!\" [disabled]=\"formDisabled\" [title]=\"isModal ? '' : title\" initialFocus=\"nome\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\">\r\n    <tabs display right>\r\n        <tab key=\"DADOS\" label=\"Dados\">\r\n            <div class=\"row\">\r\n                <div class=\"row\">\r\n                    <input-text [size]=\"12\" [label]=\"'Nome do ' + lex.translate('Planejamento Institucional')\" [icon]=\"entityService.getIcon('Planejamento')\" controlName=\"nome\" [control]=\"form!.controls.nome\" [attr.maxlength]=250 required></input-text>\r\n                </div>\r\n                <div class=\"row\">\r\n                    <!-- <input-search [size]=\"6\" [disabled]=\"hasPermissionToUNEX ? undefined : 'true'\" controlName=\"unidade_id\" [control]=\"form!.controls.unidade_id\" [dao]=\"unidadeDao\" [selectParams]=\"{filter: {instituidora: true}}\" (change)=\"onUnidadeChange($event)\" labelInfo=\"Unidade responsvel pelo planejamento, caso vazio ser considerado a Entidade\"></input-search> -->\r\n                    <input-search [size]=\"6\" controlName=\"unidade_id\" [control]=\"form!.controls.unidade_id\" [dao]=\"unidadeDao\" (change)=\"onUnidadeChange($event)\" labelInfo=\"Unidade  qual se refere o planejamento\" required></input-search>\r\n                    <input-datetime date [size]=\"3\" label=\"Incio\" icon=\"bi bi-calendar-date\" controlName=\"data_inicio\" [control]=\"form!.controls.data_inicio\" labelInfo=\"Incio do Planejamento Institucional\" required></input-datetime>\r\n                    <input-datetime date [size]=\"3\" label=\"Fim\" icon=\"bi bi-calendar-date\" controlName=\"data_fim\" [control]=\"form!.controls.data_fim\" labelInfo=\"Fim do Planejamento Institucional\" required></input-datetime>\r\n                </div>\r\n                <div class=\"row\">\r\n                    <input-select [size]=\"12\" #planejamentoSuperior [items]=\"planejamentosSuperiores\" label=\"Planejamento Institucional Superior\" controlName=\"planejamento_superior_id\" [control]=\"form!.controls.planejamento_superior_id\" (change)=\"onPlanejamentoChange($event)\" [icon]=\"entityService.getIcon('Planejamento')\"></input-select>\r\n                    <input-switch [size]=\"12\" scale=\"small\" labelPosition=\"right\" controlName=\"utilizar_superior\" (change)=\"onUtilizarSuperiorChange($event)\" label=\"Utilizar misso, viso, resultados e valores da instituio superior?\"></input-switch>\r\n                </div>                \r\n                <div class=\"row\">\r\n                    <div class=\"col-md-6\">\r\n                        <input-textarea [size]=\"12\" label=\"Misso\" [rows]=\"3\" controlName=\"missao\" [control]=\"form!.controls.missao\" required></input-textarea>\r\n                    </div>\r\n                    <div class=\"col-md-6\">\r\n                        <input-textarea [size]=\"12\" label=\"Viso\" [rows]=\"3\" controlName=\"visao\" [control]=\"form!.controls.visao\" required></input-textarea>\r\n                    </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                    <div class=\"col-md-6\">\r\n                            <input-multiselect [size]=\"12\" [label]=\"lex.translate('Resultados Institucionais')\" controlName=\"resultados_institucionais\" [addItemHandle]=\"addResultadoHandle.bind(this)\">\r\n                                <input-text [label]=\"lex.translate('Resultados Institucionais')\" icon=\"far fa-edit\" controlName=\"resultados_texto\" [control]=\"form!.controls.resultados_texto\" [attr.maxlength]=250></input-text>\r\n                            </input-multiselect>\r\n                    </div>\r\n                    <div class=\"col-md-6\">\r\n                            <input-multiselect [size]=\"12\" label=\"Valores\" controlName=\"valores\" [addItemHandle]=\"addValorHandle.bind(this)\">\r\n                                <input-text label=\"Valor Institucional\" icon=\"far fa-edit\" controlName=\"valor_texto\" [control]=\"form!.controls.valor_texto\" [attr.maxlength]=250></input-text>\r\n                            </input-multiselect>        \r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </tab>\r\n        <tab key=\"OBJETIVOS\" label=\"Objetivos\">\r\n            <planejamento-list-objetivo #objetivos noPersist [entity]=\"entity\" [disabled]=\"action == 'consult'\" [planejamento_superior_id]=\"form.controls.planejamento_superior_id.value\"></planejamento-list-objetivo>\r\n        </tab>\r\n    </tabs>\r\n</editable-form>\r\n\r\n","import { Component, Injector, Input, ViewChild } from '@angular/core';\r\nimport { AbstractControl } from '@angular/forms';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\r\nimport { PlanejamentoDaoService } from 'src/app/dao/planejamento-dao.service';\r\nimport { PlanejamentoObjetivo } from 'src/app/models/planejamento-objetivo.model';\r\nimport { Planejamento } from 'src/app/models/planejamento.model';\r\nimport { PageFrameBase } from 'src/app/modules/base/page-frame-base';\r\nimport { EixoTematico } from 'src/app/models/eixo-tematico.model';\r\nimport { PlanejamentoObjetivoDaoService } from 'src/app/dao/planejamento-objetivo-dao.service';\r\nimport { EixoTematicoDaoService } from 'src/app/dao/eixo-tematico-dao.service';\r\n\r\n@Component({\r\n  selector: 'planejamento-list-objetivo',\r\n  templateUrl: './planejamento-list-objetivo.component.html',\r\n  styleUrls: ['./planejamento-list-objetivo.component.scss']\r\n})\r\nexport class PlanejamentoListObjetivoComponent extends PageFrameBase {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\r\n  @Input() public planejamento_superior_id?: string;\r\n  @Input() set control(value: AbstractControl | undefined) { super.control = value; } get control(): AbstractControl | undefined { return super.control; }\r\n  @Input() set entity(value: Planejamento | undefined) { super.entity = value; } get entity(): Planejamento | undefined { return super.entity; }\r\n  @Input() set disabled(value: boolean) { if (this._disabled != value) this._disabled = value; } get disabled(): boolean { return this._disabled; }\r\n  @Input() set noPersist(value: string | undefined) { super.noPersist = value; } get noPersist(): string | undefined { return super.noPersist; }\r\n\r\n  public get items(): PlanejamentoObjetivo[] {\r\n    if (!this.gridControl.value) this.gridControl.setValue(new Planejamento());\r\n    if (!this.gridControl.value.objetivos) this.gridControl.value.objetivos = [];\r\n    return this.gridControl.value.objetivos;\r\n  }\r\n  public minHeight: number = 350;\r\n  public options: ToolbarButton[] = [];\r\n  public objetivoDao?: PlanejamentoObjetivoDaoService;\r\n  public eixoDao?: EixoTematicoDaoService;\r\n  private _disabled: boolean = false;\r\n  public eixos: EixoTematico[] = [];\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector);\r\n    this.dao = injector.get<PlanejamentoDaoService>(PlanejamentoDaoService);\r\n    this.objetivoDao = injector.get<PlanejamentoObjetivoDaoService>(PlanejamentoObjetivoDaoService);\r\n    this.eixoDao = injector.get<EixoTematicoDaoService>(EixoTematicoDaoService);\r\n    this.groupBy = [{ field: \"eixo_tematico_id\", label: \"Eixo Temtico\" }];\r\n    this.form = this.fh.FormBuilder({\r\n      nome: { default: \"\" },\r\n      fundamentacao: { default: \"\" },\r\n      planejamento_id: { default: null },\r\n      eixo_tematico_id: { default: null },\r\n      objetivo_superior_id: { default: null }\r\n    }, this.cdRef);\r\n    this.OPTION_INFORMACOES.onClick = (objetivo: PlanejamentoObjetivo) => this.go.navigate({ route: ['gestao', 'planejamento', 'objetivo', objetivo.id, 'consult'] }, { modal: true });\r\n    this.OPTION_EXCLUIR.onClick = (objetivo: PlanejamentoObjetivo) => { this.removeObjetivo(objetivo); };\r\n    this.addOption(this.OPTION_INFORMACOES);\r\n    this.addOption(this.OPTION_EXCLUIR,'MOD_PLAN_INST_EXCL');\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    super.ngOnInit();\r\n    this.entity = this.metadata?.entity || this.entity;\r\n    this.carregaEixos();\r\n    this.sortObjetivos();\r\n  }\r\n\r\n  public dynamicButtons(row: any): ToolbarButton[] {\r\n    let result: ToolbarButton[] = [];\r\n    let objetivo: PlanejamentoObjetivo = row as PlanejamentoObjetivo;\r\n    if (this.auth.hasPermissionTo('MOD_PLAN_INST_EDT') && !this.disabled) {\r\n      result.push({ hint: \"Alterar\", icon: \"bi bi-pencil-square\", color: \"btn-outline-info\", onClick: (objetivo: PlanejamentoObjetivo) => { this.editObjetivo(objetivo); } });\r\n    }\r\n    result.push({ hint: \"Entregas\", icon: \"bi bi-file-earmark-bar-graph\", onClick: (objetivo: PlanejamentoObjetivo) => this.go.navigate({route: ['gestao', 'plano-entrega', 'entrega', 'objetivos', objetivo.id]}, { modal: true })});\r\n    return result;\r\n  }\r\n\r\n  public marcador(row: PlanejamentoObjetivo): string {\r\n    let level = row._metadata?.level || 0;\r\n    return level < 1 ? \"\" : (level < 2 ? \" \" : (level < 3 ? \"- \" : \"+ \"));\r\n  }\r\n\r\n  public async addObjetivo() {\r\n    // ************ \r\n    // se for adicionar um objetivo num grid no persistente  necessrio checar se o planejamento  da entidade ou da unidade, pois\r\n    // se for de uma unidade ser obrigatrio j ter escolhido o planejamento superior\r\n    let objetivo = new PlanejamentoObjetivo({ \r\n      _status: \"ADD\", \r\n      id: this.dao!.generateUuid(),\r\n      planejamento_id: this.entity?.id\r\n    });\r\n    this.go.navigate({ route: ['gestao', 'planejamento', 'objetivo'] }, {\r\n      metadata: { \r\n        planejamento: this.entity!, \r\n        objetivo: objetivo,\r\n        objetivos: this.objetivosPai(objetivo.id) \r\n      },\r\n      modalClose: async (modalResult) => {\r\n        if (modalResult) {\r\n          try {\r\n            this.carregaEixos();\r\n            this.isNoPersist ? this.items.push(modalResult) : this.items.push(await this.objetivoDao!.save(modalResult)); \r\n            this.sortObjetivos();\r\n          } catch (error: any) {\r\n            this.error(error?.error || error?.message || error);            \r\n          }\r\n        };\r\n      }\r\n    });\r\n  }\r\n\r\n  public objetivosPai(filhoId: string) {\r\n    let items: PlanejamentoObjetivo[] = [];\r\n    let addItens = (list: PlanejamentoObjetivo[]) => {\r\n      for(let item of list) {\r\n        if(item.id != filhoId) {\r\n          items.push(item);\r\n          addItens(this.items.filter(x => x.objetivo_pai_id == item.id).sort((a,b) => a.sequencia - b.sequencia));\r\n        }\r\n      }\r\n    }\r\n    addItens(this.items.filter(x => !x.objetivo_pai_id).sort((a,b) => a.sequencia - b.sequencia));\r\n    return items;\r\n  }\r\n\r\n  public sortObjetivos() {\r\n    let items: PlanejamentoObjetivo[] = [];\r\n    let addItens = (list: PlanejamentoObjetivo[], level: number) => {\r\n      for(let item of list) {\r\n        item._metadata = Object.assign(item._metadata || {}, { level });\r\n        items.push(item);\r\n        if(item._status != \"DELETE\") addItens(this.items.filter(x => x.objetivo_pai_id == item.id).sort((a,b) => a.sequencia - b.sequencia), level + 1);\r\n      }\r\n    }\r\n    addItens(this.items.filter(x => !x.objetivo_pai_id).sort((a,b) => a.sequencia - b.sequencia), 0);\r\n    this.items.length = 0;\r\n    this.items.push(...items);\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  public async editObjetivo(objetivo: PlanejamentoObjetivo) {\r\n    objetivo._status = objetivo._status == \"ADD\" ? \"ADD\" : \"EDIT\";\r\n    let index = this.items.indexOf(objetivo);\r\n    this.go.navigate({ route: ['gestao', 'planejamento', 'objetivo'] }, {\r\n      metadata: { \r\n        planejamento: this.entity!, \r\n        objetivo: objetivo,\r\n        objetivos: this.objetivosPai(objetivo.id) \r\n      },\r\n      modalClose: async (modalResult) => {\r\n        if (modalResult) {\r\n          if (!this.isNoPersist) await this.objetivoDao?.save(modalResult);\r\n          this.items[index] = modalResult;\r\n          this.carregaEixos();\r\n          this.sortObjetivos();\r\n        };\r\n      }\r\n    });\r\n  }\r\n\r\n  public async removeObjetivo(objetivo: PlanejamentoObjetivo) {\r\n    let confirm = await this.dialog.confirm(\"Exclui ?\", \"Deseja realmente excluir?\");\r\n    if (confirm) {\r\n      let index = this.items.indexOf(objetivo);\r\n      if (this.isNoPersist) {\r\n        objetivo._status = \"DELETE\";\r\n      } else {\r\n        await this.objetivoDao!.delete(objetivo);\r\n        this.grid?.items.splice(index, 1);\r\n      };\r\n      this.sortObjetivos();\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public getEixo(id: string): EixoTematico | undefined {\r\n    return this.eixos?.find(x => x.id == id);\r\n  }\r\n\r\n  public carregaEixos(){\r\n    this.eixoDao?.query().getAll().then(eixos => {\r\n      this.eixos = eixos;\r\n    });\r\n  }\r\n}\r\n\r\n\r\n","<grid [items]=\"items\" [form]=\"form!\" #gridObjetivos editable [selectable]=\"false\" [minHeight]=\"minHeight\"\n    [add]=\"addObjetivo.bind(this)\" [remove]=\"removeObjetivo.bind(this)\"\n    [hasDelete]=\"false\" [hasEdit]=\"false\" [hasAdd]=\"!disabled\" [join]=\"join\" [groupBy]=\"groupBy\" [groupTemplate]=\"groupEixoTematico\">\n    <ng-template let-separator=\"separator\" #groupEixoTematico>\n        <span class=\"text-wrap\"><badge [icon]=\"getEixo(separator?.text)?.icone || 'bi bi-gear'\" [color]=\"getEixo(separator?.text)?.cor || 'primary'\" [label]=\"getEixo(separator?.text)?.nome || 'Desconhecido'\"></badge></span>\n    </ng-template>\n    <columns>\n        <column title=\"Nome\" [template]=\"columnNome\">\n            <ng-template let-row=\"row\" #columnNome>\n                <span class=\"text-break w-100\" [style.margin-left.px]=\"(row._metadata?.level || 0) * 20\">{{ marcador(row) + row.nome }}</span>\n            </ng-template>\n        </column>\n        <column title=\"Eixo Temtico\" [template]=\"columnEixoTematico\"><ng-template let-row=\"row\" #columnEixoTematico><span>{{ row.eixo_tematico?.nome }}</span></ng-template></column>\n        <column title=\"Fundamentao\" [template]=\"columnFundamentacao\"><ng-template let-row=\"row\" #columnFundamentacao><span>{{ row.fundamentacao }}</span></ng-template></column>\n        <column *ngIf=\"planejamento_superior_id?.length\" title=\"Objetivo Superior\" [template]=\"columnObjetivoSuperior\"><ng-template let-row=\"row\" #columnObjetivoSuperior><span>{{ row.objetivo_superior?.nome  || '' }}</span></ng-template></column>\n        <column type=\"options\" [dynamicButtons]=\"dynamicButtons.bind(this)\" [options]=\"options\"></column>\n    </columns>\n</grid>\n","import { Component, Injector, ViewChild } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { GridComponent } from 'src/app/components/grid/grid.component';\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\nimport { PlanejamentoDaoService } from 'src/app/dao/planejamento-dao.service';\nimport { PlanejamentoObjetivoDaoService } from 'src/app/dao/planejamento-objetivo-dao.service';\nimport { PlanejamentoObjetivo } from 'src/app/models/planejamento-objetivo.model';\nimport { PageListBase } from 'src/app/modules/base/page-list-base';\n\n@Component({\n  selector: 'planejamento-list-objetivos-entregas',\n  templateUrl: './planejamento-list-objetivos-entregas.component.html',\n  styleUrls: ['./planejamento-list-objetivos-entregas.component.scss']\n})\nexport class PlanejamentoListObjetivosEntregasComponent extends PageListBase<PlanejamentoObjetivo, PlanejamentoObjetivoDaoService> {\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\n  \n  public planejamentoDao: PlanejamentoDaoService;\n  public planejamentoObjetivoDao: PlanejamentoObjetivoDaoService;\n  public buttons: ToolbarButton[] = [];\n  \n  constructor(public injector: Injector) {\n    super(injector, PlanejamentoObjetivo, PlanejamentoObjetivoDaoService);\n    this.join = ['objetivos']\n    this.planejamentoDao = injector.get<PlanejamentoDaoService>(PlanejamentoDaoService);\n    this.planejamentoObjetivoDao = injector.get<PlanejamentoObjetivoDaoService>(PlanejamentoObjetivoDaoService);\n    this.title = this.lex.translate(\"Objetivos\") + ' ' + this.lex.translate(\"do Planejamento Institucional\");\n    this.filter = this.fh.FormBuilder({\n      nome: { default: \"\" },\n      planejamento_id: { default: null}\n    });\n    this.OPTION_INFORMACOES.onClick = (objetivo: PlanejamentoObjetivo) => this.go.navigate({ route: ['gestao', 'planejamento', 'objetivo', objetivo.id, 'consult'] }, { modal: true });\n    this.addOption(this.OPTION_INFORMACOES);\n  }\n\n  public filterClear(filter: FormGroup) {\n    super.filterClear(filter);\n    this.filter?.controls.nome.setValue(\"\");\n  }\n\n  public filterWhere = (filter: FormGroup) => {\n    let form: any = filter.value;\n    let result: any[] = [];\n    if (form.planejamento_id?.length) {\n      result.push([\"planejamento_id\", \"==\", form.planejamento_id]);\n    }\n    if (form.nome?.length) {\n      result.push([\"nome\", \"like\", \"%\" + form.nome.trim().replace(\" \", \"%\") + \"%\"]);\n    }\n    return result;\n  }\n\n  public getNome (metadata: any, row: PlanejamentoObjetivo){\n    if (!metadata.path) {\n      let paiId: string | null = row.objetivo_pai_id;\n      let niveis = \"\";\n      while (paiId) {\n        let atual = this.grid?.items.find(x => x.id == paiId);\n        niveis = (atual?.sequencia || \"\") + \".\" + niveis;\n        paiId = atual?.objetivo_pai_id || null;\n      }\n      metadata.path = niveis + row.sequencia;\n    }\n    this.grid?.items.sort((a, b) => {\n      const sa = (this.grid!.getMetadata(a)?.path || \"\").split(\".\").map((x: string) => (\"000\" + x).substr(-3)).join(\".\");\n      const sb = (this.grid!.getMetadata(b)?.path || \"\").split(\".\").map((x: string) => (\"000\" + x).substr(-3)).join(\".\");\n      return sa < sb ? -1 : sa > sb ? 1 : 0;\n    });\n    if (metadata.path.length > 2) return '- ' + row.nome;\n    else if (metadata.path.length > 4) return '-- ' + row.nome;\n    return row.nome;\n  }\n}\n","<!--  [hasAdd]=\"auth.hasPermissionTo('MOD_UND_INCL')\"\n    [hasEdit]=\"auth.hasPermissionTo('MOD_UND_EDT')\" -->\n<h3 *ngIf=\"!isModal\" class=\"my-2\">{{title}}</h3>\n<grid [dao]=\"dao\" [add]=\"add\" [orderBy]=\"orderBy\" [groupBy]=\"groupBy\" [join]=\"join\" [selectable]=\"selectable\"\n    (select)=\"onSelect($event)\">\n    <toolbar *ngIf=\"!selectable\" [buttons]=\"buttons\"></toolbar>\n    <filter [deleted]=\"this.auth.hasPermissionTo('MOD_AUDIT_DEL')\" [form]=\"filter\" [where]=\"filterWhere\" [submit]=\"filterSubmit.bind(this)\" [clear]=\"filterClear.bind(this)\"\n        [collapseChange]=\"filterCollapseChange.bind(this)\" [collapsed]=\"!selectable && filterCollapsed\">\n        <div class=\"row\">\n            <input-text [size]=\"12\" label=\"Nome\" controlName=\"nome\" [control]=\"filter!.controls.nome\"\n                placeholder=\"Nome\" [attr.maxlength]=250></input-text>\n        </div>\n    </filter>\n    <columns>\n        <column title=\"Nome\" [template]=\"columnNome\" orderBy=\"nome\">\n            <ng-template let-row=\"row\" let-metadata=\"metadata\" #columnNome>\n                <span class=\"d-block\">{{getNome(metadata, row)}}</span>\n            </ng-template>\n        </column>\n        <column title=\"Fundamentao\" field=\"fundamentacao\"></column>\n        <column type=\"options\" [onEdit]=\"edit\" [options]=\"options\"></column>\n    </columns>\n    <pagination [rows]=\"rowsLimit\"></pagination>\n</grid>","import { Component, Injector, ViewChild } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { GridComponent } from 'src/app/components/grid/grid.component';\r\nimport { InputSearchComponent} from 'src/app/components/input/input-search/input-search.component';\r\nimport { PlanejamentoDaoService } from 'src/app/dao/planejamento-dao.service';\r\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\r\nimport { Planejamento } from 'src/app/models/planejamento.model';\r\nimport { PageListBase } from 'src/app/modules/base/page-list-base';\r\nimport { EixoTematico } from 'src/app/models/eixo-tematico.model';\r\nimport { LookupItem } from 'src/app/services/lookup.service';\r\nimport { TabsComponent } from 'src/app/components/tabs/tabs.component';\r\n\r\n@Component({\r\n  selector: 'app-planejamento-list',\r\n  templateUrl: './planejamento-list.component.html',\r\n  styleUrls: ['./planejamento-list.component.scss']\r\n})\r\nexport class PlanejamentoListComponent extends PageListBase<Planejamento, PlanejamentoDaoService> {\r\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\r\n  @ViewChild(TabsComponent, { static: false }) public tabs?: TabsComponent;\r\n  @ViewChild('unidade', { static: false }) public unidade?: InputSearchComponent;\r\n  \r\n  public unidadeDao: UnidadeDaoService;\r\n  public unidade_disabled: string | undefined;\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector, Planejamento, PlanejamentoDaoService);\r\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\r\n    /* Inicializaes */\r\n    this.code = \"MOD_PLAN_INST\";\r\n    this.title = this.lex.translate('Planejamentos Institucionais');\r\n    this.filter = this.fh.FormBuilder({\r\n      data_inicio: {default: null},\r\n      data_fim: {default: null},\r\n      nome: {default: \"\"},\r\n      unidade_id: {default: null},\r\n      so_entidade: { default: false },\r\n      agrupar: { default: true },\r\n     });\r\n    this.join = [\r\n      'unidade:id,nome,sigla',\r\n      'objetivos',\r\n      'objetivos.eixo_tematico:id,nome',\r\n      'objetivos.objetivo_superior:id,nome',\r\n      'planejamento_superior:id,nome',\r\n      'planejamento_superior.objetivos'\r\n    ];\r\n    // Testa se o usurio possui permisso para exibir planejamentos institucionais\r\n    if (this.auth.hasPermissionTo(\"MOD_PLAN_INST\")) {\r\n      this.options.push({\r\n        icon: \"bi bi-info-circle\",\r\n        label: \"Informaes\",\r\n        onClick: this.consult.bind(this)\r\n      });\r\n    }\r\n    // Testa se o usurio possui permisso para excluir planejamentos institucionais\r\n    if (this.auth.hasPermissionTo(\"MOD_PLAN_INST_EXCL\")) {\r\n      this.options.push({\r\n        icon: \"bi bi-trash\",\r\n        label: \"Excluir\",\r\n        onClick: this.delete.bind(this)\r\n      });\r\n    }\r\n    this.addOption(this.OPTION_LOGS, \"MOD_AUDIT_LOG\");\r\n  }  \r\n\r\n  ngAfterViewInit(): void {\r\n    super.ngAfterViewInit();\r\n    this.tabs!.active = [\"TABELA\", \"MAPA\", \"OKR\"].includes(this.usuarioConfig.active_tab) ? this.usuarioConfig.active_tab : \"TABELA\";\r\n  }\r\n\r\n  /* override */\r\n  public onLoad() {}\r\n\r\n  public initGrid(grid: GridComponent) {\r\n    grid.queryInit();\r\n  }\r\n\r\n  public async onSelectTab(tab: LookupItem) {\r\n    //if(tab.key == \"TABELA\") this.onLoad();\r\n    if(this.viewInit) this.saveUsuarioConfig({active_tab: tab.key});\r\n  }\r\n\r\n  public filterClear(filter: FormGroup) {\r\n    filter.controls.nome.setValue(\"\");\r\n    filter.controls.data_inicio.setValue(null);\r\n    filter.controls.data_fim.setValue(null);\r\n    filter.controls.unidade_id.setValue(null);\r\n    filter.controls.so_entidade.setValue(false);\r\n    super.filterClear(filter);\r\n  }\r\n\r\n  public filterWhere = (filter: FormGroup) => {\r\n    let result: any[] = [];\r\n    let form: any = filter.value;\r\n\r\n    if (form.so_entidade) {\r\n      filter.controls.unidade_id.setValue(null);\r\n      result.push([\"unidade_id\", \"==\", null]);\r\n    } else {\r\n      if(form.unidade_id) result.push([\"unidade_id\", \"==\", form.unidade_id]);\r\n    }\r\n    if(form.nome?.length) {\r\n      result.push([\"nome\", \"like\", \"%\" + form.nome.trim().replace(\" \", \"%\") + \"%\"]);\r\n    }\r\n    if(form.data_inicio) {\r\n      result.push([\"data_inicio\", \">=\", form.data_inicio]);\r\n    }\r\n    if(form.data_fim) {\r\n      result.push([\"data_fim\", \"<=\", form.data_fim]);\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public onSoEntidadeChange(event: Event) {\r\n    if (this.filter!.controls.so_entidade.value) {\r\n      this.filter!.controls.unidade_id.setValue(null);\r\n      this.unidade_disabled = 'disabled';\r\n    } else {\r\n      this.filter!.controls.unidade_id.setValue(undefined);\r\n      this.unidade_disabled = undefined;\r\n    }\r\n  }\r\n\r\n}\r\n","<tabs right [title]=\"isModal ? '' : title\" [select]=\"onSelectTab.bind(this)\">\r\n    <tab key=\"TABELA\" icon=\"bi bi-table\" label=\"Lista\" [template]=\"lista\">\r\n        <ng-template #lista>\r\n            <grid [dao]=\"dao\" [add]=\"add\" [orderBy]=\"orderBy\" [join]=\"join\" [init]=\"initGrid.bind(this)\"\r\n                [selectable]=\"selectable\" (select)=\"onSelect($event)\" \r\n                [hasAdd]=\"auth.hasPermissionTo('MOD_PLAN_INST_INCL')\"\r\n                [hasEdit]=\"auth.hasPermissionTo('MOD_PLAN_INST_EDT')\">\r\n                <toolbar *ngIf=\"!selectable\"></toolbar>\r\n                <filter [deleted]=\"this.auth.hasPermissionTo('MOD_AUDIT_DEL')\" [form]=\"filter\" [where]=\"filterWhere\" [submit]=\"filterSubmit.bind(this)\" [clear]=\"filterClear.bind(this)\" [collapseChange]=\"filterCollapseChange.bind(this)\" [collapsed]=\"!selectable && filterCollapsed\">\r\n                    <div class=\"row\">\r\n                        <input-text [size]=\"12\" [label]=\"lex.translate('Planejamento Institucional')\" controlName=\"nome\"\r\n                            [control]=\"filter!.controls.nome\" [placeholder]=\"'Nome ' + lex.translate('Planejamento Institucional') + '...'\" [attr.maxlength]=250></input-text>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                        <input-switch [size]=\"2\" [label]=\"'S da '+ lex.translate('Entidade')\" controlName=\"so_entidade\" [control]=\"filter!.controls.so_entidade\" (change)=\"onSoEntidadeChange($event)\"></input-switch>\r\n                        <input-search #unidade [size]=\"4\" [label]=\"lex.translate('Unidade')\" [disabled]=\"unidade_disabled\" [control]=\"filter!.controls.unidade_id\" controlName=\"unidade_id\" [dao]=\"unidadeDao\"></input-search>\r\n                        <input-datetime [size]=\"3\" date label=\"Incio\" controlName=\"data_inicio\" [control]=\"filter!.controls.data_inicio\" [labelInfo]=\"'Data de incio do' +lex.translate('Planejamento Institucional')\"></input-datetime>\r\n                        <input-datetime [size]=\"3\" date label=\"Fim\" controlName=\"data_fim\" [control]=\"filter!.controls.data_fim\" [labelInfo]=\"'Data do fim do '+lex.translate('Planejamento Institucional')\"></input-datetime>\r\n                    </div>\r\n                </filter>\r\n                <columns>\r\n                    <column *ngIf=\"!selectable\" type=\"expand\" icon=\"bi bi-bullseye\" [align]=\"'center'\" [hint]=\"lex.translate('Objetivo')\" [template]=\"columnObjetivos\" [expandTemplate]=\"columnExpandedObjetivos\">\r\n                        <ng-template let-row=\"row\" #columnObjetivos>\r\n                            <span *ngIf=\"row.objetivos?.length\" class=\"badge rounded-pill bg-light text-dark\"><i class=\"bi bi-bullseye\"></i> {{row.objetivos?.length}}</span>\r\n                        </ng-template>\r\n                        <ng-template let-row=\"row\" #columnExpandedObjetivos>\r\n                            <planejamento-list-objetivo [entity]=\"row\"></planejamento-list-objetivo>\r\n                        </ng-template>\r\n                    </column>\r\n                    <column title=\"Nome\" orderBy=\"nome\" [template]=\"columnNome\">\r\n                        <ng-template let-row=\"row\" #columnNome>\r\n                            <span class=\"text-break w-100\">{{row.nome}}</span>\r\n                        </ng-template>            \r\n                    </column>\r\n                    <column title=\"Incio\" [template]=\"columnInicio\">\r\n                        <ng-template let-row=\"row\" #columnInicio>\r\n                            <span> {{dao!.getDateFormatted(row.data_inicio)}}</span>\r\n                        </ng-template>\r\n                    </column>\r\n                    <column title=\"Fim\" [template]=\"columnFim\">\r\n                        <ng-template let-row=\"row\" #columnFim>\r\n                            <span> {{dao!.getDateFormatted(row.data_fim)}}</span>\r\n                        </ng-template>\r\n                    </column>\r\n                    <column title=\"Unidade\" [template]=\"columnUnidade\">\r\n                        <ng-template let-row=\"row\" #columnUnidade>\r\n                            <span> {{row.unidade?.nome || \"\"}}</span>\r\n                        </ng-template>\r\n                    </column>\r\n                    <column type=\"options\" [onEdit]=\"edit\" [options]=\"options\"></column>\r\n                </columns>\r\n                <pagination [rows]=\"rowsLimit\"></pagination>\r\n            </grid>\r\n        </ng-template>\r\n    </tab>\r\n    <tab key=\"MAPA\" icon=\"bi bi-card-heading\" label=\"Mapa\" [template]=\"mapa\">\r\n        <ng-template #mapa>\r\n            <planejamento-mapa></planejamento-mapa>\r\n        </ng-template>\r\n    </tab>\r\n   \r\n</tabs>\r\n","import { Component, Injector, ViewChild } from '@angular/core';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { DndDropEvent, DropEffect } from 'ngx-drag-drop';\r\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\r\nimport { InputSelectComponent } from 'src/app/components/input/input-select/input-select.component';\r\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\r\nimport { PlanejamentoDaoService } from 'src/app/dao/planejamento-dao.service';\r\nimport { PlanejamentoObjetivoDaoService } from 'src/app/dao/planejamento-objetivo-dao.service';\r\nimport { QueryContext } from 'src/app/dao/query-context';\r\nimport { IIndexable } from 'src/app/models/base.model';\r\nimport { EixoTematico } from 'src/app/models/eixo-tematico.model';\r\nimport { PlanejamentoObjetivo } from 'src/app/models/planejamento-objetivo.model';\r\nimport { Planejamento } from 'src/app/models/planejamento.model';\r\nimport { PageFrameBase } from 'src/app/modules/base/page-frame-base';\r\nimport { LookupItem } from 'src/app/services/lookup.service';\r\n\r\nexport type EixoPlanejamento = {\r\n  id?: string,\r\n  eixo: EixoTematico,\r\n  eixo_tematico_id: string,\r\n  objetivos: PlanejamentoObjetivo[]\r\n}\r\n\r\n@Component({\r\n  selector: 'planejamento-mapa',\r\n  templateUrl: './planejamento-mapa.component.html',\r\n  styleUrls: ['./planejamento-mapa.component.scss']\r\n})\r\nexport class PlanejamentoMapaComponent extends PageFrameBase {\r\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\r\n  @ViewChild('planejamentoInstitucional', { static: false }) public planejamentoInstitucional?: InputSelectComponent;\r\n\r\n  public canEdit: boolean = true;\r\n  public planejamentos: LookupItem[] = [];\r\n  public planejamento?: Planejamento;\r\n  public eixos: EixoPlanejamento[] = [];\r\n  public query?: QueryContext<Planejamento>;\r\n  public objetivoDao?: PlanejamentoObjetivoDaoService;\r\n  public objetivos: PlanejamentoObjetivo[] = [];\r\n  public subObjetivosMenu: ToolbarButton = {\r\n    icon: \"bi bi-three-dots-vertical\",\r\n    color: \"transparent-black p-1 py-0\",\r\n    items: [\r\n      {\r\n        icon: \"bi bi-file-earmark-bar-graph\",\r\n        label: \"Entregas\",\r\n        onClick: this.onObjetivoClick.bind(this)\r\n      },\r\n      {\r\n        icon: \"bi bi-pencil-square\",\r\n        label: \"Alterar\",\r\n        onClick: this.onObjetivoEditClick.bind(this) \r\n      },\r\n      {\r\n        icon: \"bi bi-trash\",\r\n        label: \"Excluir\",\r\n        onClick: this.onObjetivoDeleteClick.bind(this)\r\n      }\r\n    ]\r\n  };\r\n\r\n  constructor(public injector: Injector) {\r\n    super(injector);\r\n    this.dao = injector.get<PlanejamentoDaoService>(PlanejamentoDaoService);\r\n    this.objetivoDao = injector.get<PlanejamentoObjetivoDaoService>(PlanejamentoObjetivoDaoService);\r\n    this.join = ['objetivos'];\r\n    this.title = this.lex.translate(\"Objetivos\") + ' ' + this.lex.translate('do Planejamento Institucional');\r\n    this.form = this.fh.FormBuilder({\r\n      planejamento_id: {default: null},\r\n      todos: {default: false}\r\n    }, this.cdRef, this.validate);\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    super.ngAfterViewInit();\r\n    this.loadData(this.entity);\r\n  }\r\n\r\n  public validate = (control: AbstractControl, controlName: string) => {\r\n    let result = null;\r\n    return result;\r\n  }\r\n\r\n  public async loadData(entity: IIndexable, form?: FormGroup) {\r\n    this.query = this.dao!.query({ where: [[\"data_arquivamento\", \"==\", null]], orderBy: [[\"data_inicio\", \"desc\"]] }) as QueryContext<Planejamento>;\r\n    this.query!.asPromise().then(planejamentos => {\r\n      this.planejamentos = planejamentos.map(x => Object.assign({} as LookupItem, {\r\n        key: x.id,\r\n        value: x.nome,\r\n        data: x\r\n      }));\r\n      this.cdRef.detectChanges();\r\n      this.form!.controls.planejamento_id.setValue(this.planejamentos.length ? this.planejamentos[0].key : null);\r\n    });\r\n  }\r\n\r\n  public objetivosPai(filhoId: string) {\r\n    let items: PlanejamentoObjetivo[] = [];\r\n    let addItens = (list: PlanejamentoObjetivo[]) => {\r\n      for(let item of list) {\r\n        if(item.id != filhoId) {\r\n          items.push(item);\r\n          addItens(this.objetivos.filter(x => x.objetivo_pai_id == item.id).sort((a,b) => a.sequencia - b.sequencia));\r\n        }\r\n      }\r\n    }\r\n    addItens(this.objetivos.filter(x => !x.objetivo_pai_id).sort((a,b) => a.sequencia - b.sequencia));\r\n    return items;\r\n  }\r\n\r\n  public marcador(row: PlanejamentoObjetivo): string {\r\n    let level = row._metadata?.level || 0;\r\n    return level < 1 ? \"\" : (level < 2 ? \" \" : (level < 3 ? \"- \" : \"+ \"));\r\n  }\r\n\r\n  public objetivosEixo(eixoId: string) {\r\n    let objetivos = this.planejamento?.objetivos?.filter(y => y.eixo_tematico_id == eixoId && !y.objetivo_pai_id).sort((a, b) => a.sequencia - b.sequencia) || [];\r\n    let recursivo = (list: PlanejamentoObjetivo[], level: number) => {\r\n      for(let item of list) {\r\n        item.objetivos = this.planejamento?.objetivos?.filter(y => y.objetivo_pai_id == item.id).sort((a, b) => a.sequencia - b.sequencia) || [];\r\n        item._metadata = Object.assign(item._metadata || {}, { level })\r\n        recursivo(item.objetivos, level + 1);\r\n      }\r\n    }\r\n    recursivo(objetivos, 0);\r\n    return objetivos;\r\n  }\r\n\r\n  public onPlanejamentoChange() {\r\n    if(this.planejamentoInstitucional!.selectedItem) {\r\n      this.dao!.getById(this.planejamentoInstitucional!.selectedItem?.key, this.join).then(planejamento => {\r\n        this.planejamento = planejamento as Planejamento;\r\n        this.objetivos = this.planejamento.objetivos || [];\r\n        this.eixos = this.query!.extra?.eixos?.filter((x: EixoTematico) => this.form?.controls.todos.value || this.planejamento?.objetivos?.find(y => y.eixo_tematico_id == x.id)).map((x: EixoTematico) => Object.assign({} as EixoPlanejamento, {\r\n          eixo: x,\r\n          eixo_tematico_id: x.id,\r\n          objetivos: this.objetivosEixo(x.id)\r\n        })) || [];\r\n        this.cdRef.detectChanges();\r\n      });\r\n    }\r\n  }\r\n\r\n  public onTodosChange() {\r\n    this.onPlanejamentoChange();\r\n  }\r\n\r\n  public onObjetivoClick(data: any) {\r\n    let objetivo = data as PlanejamentoObjetivo;\r\n    this.go.navigate({route: ['gestao', 'plano-entrega', 'entrega', 'objetivos', objetivo.id]});\r\n  }\r\n\r\n  public onObjetivoAddClick(data: any) {\r\n    let eixo = this.eixos.find(x => x.eixo.id == data.id);   \r\n    let objetivo = new PlanejamentoObjetivo({\r\n      _status: \"ADD\",\r\n      id: this.dao!.generateUuid(),\r\n      planejamento_id: this.planejamento?.id,\r\n      eixo_tematico_id: data.eixo.id,\r\n      eixo_tematico: data.eixo,\r\n      sequencia: eixo?.objetivos.length ? eixo?.objetivos[0].sequencia : 0\r\n    });\r\n    this.go.navigate({ route: ['gestao', 'planejamento', 'objetivo'] }, {\r\n      metadata: { \r\n        planejamento: this.planejamento!, \r\n        objetivo: objetivo,\r\n        objetivos: this.objetivosPai(objetivo.id) \r\n      },\r\n      modalClose: async (modalResult) => {\r\n        if (modalResult) this.objetivoDao!.save(modalResult).then(objetivo => this.onPlanejamentoChange());\r\n      }\r\n    });\r\n  }\r\n\r\n  public onObjetivoDeleteClick(data: any) {\r\n    let objetivo = data as PlanejamentoObjetivo;\r\n    this.dialog.confirm(\"Exclui ?\", \"Deseja realmente excluir?\").then(confirm => {\r\n      if (confirm) this.objetivoDao!.delete(objetivo).then(result => this.onPlanejamentoChange());\r\n    });\r\n  }\r\n\r\n  public onObjetivoEditClick(data: any) {\r\n    let objetivo = data as PlanejamentoObjetivo;\r\n    this.go.navigate({ route: ['gestao', 'planejamento', 'objetivo'] }, {\r\n      metadata: { planejamento: this.planejamento!, objetivo: objetivo }, modalClose: async (modalResult) => {\r\n        if (modalResult) this.objetivoDao?.save(modalResult).then(planejamento => this.onPlanejamentoChange());\r\n      }\r\n    });\r\n  }\r\n\r\n  /* Drag & Drop */\r\n  onObjetivoDrop(event: DndDropEvent, dropped: EixoPlanejamento | PlanejamentoObjetivo) {\r\n    console.log(\"Drop\", event);\r\n    dropped.objetivos = dropped.objetivos || [];\r\n    let objetivo = event.data as PlanejamentoObjetivo; \r\n    let index = typeof event.index === 'undefined' ? dropped.objetivos.length : event.index;\r\n    let neighborhood = index ? (dropped.objetivos[index] || dropped.objetivos[index-1] || undefined) : undefined;\r\n    dropped.objetivos.splice(index, 0, objetivo);\r\n    this.loading = true;\r\n    this.objetivoDao?.update(objetivo.id, {\r\n      eixo_tematico_id: dropped.eixo_tematico_id,\r\n      objetivo_pai_id: dropped.id || null,\r\n      sequencia: neighborhood?.sequencia || 0\r\n    }).then(result => this.onPlanejamentoChange()).finally(() => this.loading = false);\r\n  }\r\n\r\n  onObjetivoDragEnd(event: DragEvent) {\r\n    console.log(\"DragEnd\", event);\r\n  }\r\n\r\n  onObjetivoDragged(item: any, dragged: EixoPlanejamento | PlanejamentoObjetivo, effect: DropEffect) {\r\n    console.log(\"Dragged\", item, dragged.objetivos);\r\n    dragged.objetivos = dragged.objetivos || [];\r\n    dragged.objetivos.splice(dragged.objetivos.indexOf(item), 1);\r\n  }\r\n\r\n  onObjetivoDragStart(event: DragEvent) {\r\n    console.log(\"DragStart\", event);\r\n  }\r\n\r\n}","<!-- Seleo do planejamento -->\n<editable-form [form]=\"form!\" noButtons>\n    <div class=\"row mt-2\">\n        <input-select #planejamentoInstitucional [size]=\"12\" controlName=\"planejamento_id\"\n            [control]=\"form!.controls.planejamento_id\" [items]=\"planejamentos\"\n            (change)=\"onPlanejamentoChange()\"></input-select>\n    </div>\n    <!-- Cabealho -->\n    <separator transparent collapse title=\"Misso, viso, resultados e valores\">\n        <planejamento-show [planejamento]=\"planejamento\" *ngIf=\"planejamento\"></planejamento-show>\n    </separator>\n    <!-- Eixos -->\n    <div class=\"row my-2\">\n        <input-switch [size]=\"12\" labelPosition=\"left\" label=\"Todos os eixos\" controlName=\"todos\"\n            [control]=\"form!.controls.todos\" (change)=\"onTodosChange()\"></input-switch>\n    </div>\n    <div *ngFor=\"let eixo of eixos\" class=\"eixo\" [style.background-color]=\"eixo.eixo.cor\">\n        <action-button icon=\"bi bi-plus-circle\" color=\"transparent-black\" [data]=\"eixo\"\n            [onClick]=\"onObjetivoAddClick.bind(this)\"></action-button>\n        <div class=\"d-flex align-items-center align-content-stretch p-3\">\n            <div class=\"descricao\">\n                <h4>{{eixo.eixo.nome}}</h4>\n            </div>\n            <div class=\"objetivos w-100 row\" [dndDropzone]=\"['objetivo']\" (dndDrop)=\"onObjetivoDrop($event, eixo)\">\n                <!-- Placehold -->\n                <div class=\"col-md-4\" dndPlaceholderRef>\n                    <div class=\"objetivo shadow-sm d-flex flex-column align-content-between\">\n                        <p class=\"placeholder-glow\">\n                            <span class=\"placeholder col-2\"></span>\n                            <span class=\"placeholder col-3\"></span>\n                            <span class=\"placeholder col-1\"></span>\n                            <span class=\"placeholder col-6\"></span>\n                        </p>\n                        <div class=\"buttons w-100 d-flex justify-content-end px-1\">\n                            <action-button placeholder icon=\"bi bi-question\" color=\"transparent-black p-0\"></action-button>\n                            <action-button placeholder icon=\"bi bi-question\" color=\"transparent-black p-0\"></action-button>\n                            <action-button placeholder icon=\"bi bi-question\" color=\"transparent-black p-0\"></action-button>\n                        </div>\n                    </div>\n                </div>\n                <!-- Objetivos -->\n                <div *ngFor=\"let objetivo of eixo.objetivos\" class=\"col-md-4\" [dndDisableIf]=\"!canEdit\"\n                    [dndDraggable]=\"objetivo\" (dndEnd)=\"onObjetivoDragEnd($event)\"\n                    (dndMoved)=\"onObjetivoDragged(objetivo, eixo, 'move')\" (dndStart)=\"onObjetivoDragStart($event)\"\n                    dndType=\"objetivo\" dndEffectAllowed=\"move\">\n                    <div class=\"objetivo shadow-sm d-flex flex-column align-content-between\">\n                        <div class=\"m-2\">\n                            <div dndHandle class=\"card-text text-break w-100\">{{objetivo.nome}}</div>\n                            <div class=\"subobjetivo\" [dndDropzone]=\"['objetivo']\"\n                                (dndDrop)=\"onObjetivoDrop($event, objetivo)\">\n                                <!-- Placehold -->\n                                <div class=\"border mt-3 p-2\" dndPlaceholderRef><span class=\"placeholder w-75\"></span></div>\n                                <ng-container *ngFor=\"let subobjetivo of objetivo.objetivos\"\n                                    [ngTemplateOutlet]=\"subobjetivos\"\n                                    [ngTemplateOutletContext]=\"{objetivo: subobjetivo, pai: objetivo}\"></ng-container>\n                            </div>\n                        </div>\n                        <ng-template #subobjetivos let-objetivo=\"objetivo\" let-pai=\"pai\">\n                            <div class=\"border mt-3 p-2\" [dndDisableIf]=\"!canEdit\" [dndDraggable]=\"objetivo\"\n                                (dndEnd)=\"onObjetivoDragEnd($event)\" (dndMoved)=\"onObjetivoDragged(objetivo, pai, 'move')\"\n                                (dndStart)=\"onObjetivoDragStart($event)\" dndType=\"objetivo\" dndEffectAllowed=\"move\">\n                                <div class=\"d-flex justify-content-between\">\n                                    <div class=\"me-2 card-text text-break w-100\">{{objetivo.nome}}</div>\n                                    <action-button noArrow [button]=\"subObjetivosMenu\" [data]=\"objetivo\"></action-button>\n                                </div>\n                                <div class=\"subobjetivo\" [dndDropzone]=\"['objetivo']\"\n                                    (dndDrop)=\"onObjetivoDrop($event, objetivo)\">\n                                    <!-- Placehold -->\n                                    <div class=\"border mt-3 p-2\" dndPlaceholderRef><span class=\"placeholder w-75\"></span>\n                                    </div>\n                                    <ng-container *ngFor=\"let subobjetivo of objetivo.objetivos\"\n                                        [ngTemplateOutlet]=\"subobjetivos\"\n                                        [ngTemplateOutletContext]=\"{objetivo: subobjetivo, pai: objetivo}\"></ng-container>\n                                </div>\n                            </div>\n                        </ng-template>\n                        <div class=\"buttons w-100 d-flex justify-content-end px-1\">\n                            <action-button icon=\"bi bi-file-earmark-bar-graph\" [data]=\"objetivo\"\n                                [onClick]=\"this.onObjetivoClick.bind(this)\" color=\"transparent-black px-1\"></action-button>\n                            <action-button icon=\"bi bi-pencil-square\" [data]=\"objetivo\"\n                                [onClick]=\"this.onObjetivoEditClick.bind(this)\"\n                                color=\"transparent-black px-1\"></action-button>\n                            <action-button icon=\"bi bi-trash\" [data]=\"objetivo\"\n                                [onClick]=\"this.onObjetivoDeleteClick.bind(this)\"\n                                color=\"transparent-black px-1\"></action-button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <!-- Espao -->\n    <div class=\"row my-2\"></div>\n</editable-form>","import {\n  Component,\n  ElementRef,\n  Injector,\n  TemplateRef,\n  ViewChild,\n} from '@angular/core';\nimport { AbstractControl, FormGroup } from '@angular/forms';\nimport { InputSelectComponent } from 'src/app/components/input/input-select/input-select.component';\nimport { PlanejamentoDaoService } from 'src/app/dao/planejamento-dao.service';\nimport { PlanejamentoObjetivoDaoService } from 'src/app/dao/planejamento-objetivo-dao.service';\nimport { PlanoEntregaEntregaDaoService } from 'src/app/dao/plano-entrega-entrega-dao.service';\nimport { QueryContext } from 'src/app/dao/query-context';\nimport { IIndexable } from 'src/app/models/base.model';\nimport { PlanejamentoOkr } from 'src/app/models/planejamento-okr.model';\nimport { Planejamento } from 'src/app/models/planejamento.model';\nimport { PlanoEntregaEntregaObjetivo } from 'src/app/models/plano-entrega-entrega-objetivo.model';\nimport { PageFrameBase } from 'src/app/modules/base/page-frame-base';\nimport { LookupItem } from 'src/app/services/lookup.service';\nimport { PlanoEntregaService } from '../../plano-entrega/plano-entrega.service';\nimport { AtividadeDaoService } from 'src/app/dao/atividade-dao.service';\nimport { PlanoTrabalhoEntrega } from 'src/app/models/plano-trabalho-entrega.model';\nimport { Entrega } from 'src/app/models/entrega.model';\nimport { AtividadeService } from '../../atividade/atividade.service';\n\n@Component({\n  selector: 'planejamento-okr',\n  templateUrl: './planejamento-okr.component.html',\n  styleUrls: ['./planejamento-okr.component.scss'],\n})\nexport class PlanejamentoOkrComponent extends PageFrameBase {\n  @ViewChild('planejamentoInstitucional', { static: false })\n  public planejamentoInstitucional?: InputSelectComponent;\n\n  public planejamentos: LookupItem[] = [];\n  public planejamento?: Planejamento;\n  public objetivos: PlanejamentoOkr[] = [];\n  public objetivo_entregas: PlanoEntregaEntregaObjetivo[] = [];\n\n  public query?: QueryContext<Planejamento>;\n  public objetivoDao?: PlanejamentoObjetivoDaoService;\n  public atividadeDao: AtividadeDaoService;\n\n  public planoEntregaService: PlanoEntregaService;\n  public atividadeService: AtividadeService;\n\n  constructor(public injector: Injector) {\n    super(injector);\n    this.dao = injector.get<PlanejamentoDaoService>(PlanejamentoDaoService);\n    this.objetivoDao = injector.get<PlanejamentoObjetivoDaoService>(\n      PlanejamentoObjetivoDaoService\n    );\n    this.planoEntregaService =\n      injector.get<PlanoEntregaService>(PlanoEntregaService);\n    this.atividadeDao = injector.get<AtividadeDaoService>(AtividadeDaoService);\n    this.atividadeService = injector.get<AtividadeService>(AtividadeService);\n    this.join = ['objetivos_okr'];\n    this.title =\n      this.lex.translate('Objetivos') +\n      ' ' +\n      this.lex.translate('do Planejamento Institucional');\n    this.form = this.fh.FormBuilder(\n      {\n        planejamento_id: { default: null },\n        todos: { default: false },\n      },\n      this.cdRef,\n      this.validate\n    );\n  }\n\n  ngAfterViewInit(): void {\n    super.ngAfterViewInit();\n    this.loadData(this.entity);\n  }\n\n  public validate = (control: AbstractControl, controlName: string) => {\n    let result = null;\n    return result;\n  };\n\n  public async loadData(entity: IIndexable, form?: FormGroup) {\n    this.query = this.dao!.query({\n      where: [['data_arquivamento', '==', null]],\n      orderBy: [['data_inicio', 'desc']],\n    }) as QueryContext<Planejamento>;\n    this.query!.asPromise().then((planejamentos) => {\n      this.planejamentos = planejamentos.map((x) =>\n        Object.assign({} as LookupItem, {\n          key: x.id,\n          value: x.nome,\n          data: x,\n        })\n      );\n      this.cdRef.detectChanges();\n      this.form!.controls.planejamento_id.setValue(\n        this.planejamentos.length ? this.planejamentos[0].key : null\n      );\n    });\n  }\n\n  carregaEntregas(objetivoId: string) {\n    this.objetivoDao\n      ?.getById(objetivoId, [\n        'objetivos_entrega.entrega.entrega',\n        'objetivos_entrega.entrega.entregas_plano_trabalho',\n        'objetivos_entrega.entrega.unidade:id,nome',\n      ])\n      .then((resultado) => {\n        if (resultado && resultado.objetivos_entrega) {\n          this.objetivo_entregas = resultado.objetivos_entrega;\n          const entregasPorUnidade: any = {};\n\n          this.objetivo_entregas.forEach((entrega) => {\n            const unidade = entrega.entrega?.unidade;\n            entrega._metadata = Object.assign(entrega._metadata || {}, { corBorda: this.util.getRandomColor() });\n\n            if (unidade) {\n              unidade._metadata = Object.assign(unidade._metadata || {}, { corBorda: this.util.getRandomColor() });\n              const unidadeId = unidade.id;\n              if (!entregasPorUnidade[unidadeId]) {\n                entregasPorUnidade[unidadeId] = { unidade, entregas: [] };\n              }\n              entregasPorUnidade[unidadeId].entregas.push(entrega);\n            }\n          });\n\n          const objetivo = this.objetivos.find((o) => o.id == objetivoId);\n          if (objetivo) {\n            objetivo.unidadesComEntregas = Object.values(entregasPorUnidade);\n          }\n        }\n      });\n  }\n\n  async carregaAtividades(\n    entregasPlanoTrabalho: PlanoTrabalhoEntrega[],\n    entrega: Entrega,\n    event: Event\n  ) {\n    const entregasPlanoTrabalhoIds = entregasPlanoTrabalho.map((e) => e.id);\n    entrega!.atividades = await this.atividadeDao\n      .query({\n        where: [['plano_trabalho_entrega_id', 'in', entregasPlanoTrabalhoIds]],\n        join: ['usuario:id,nome'],\n      })\n      .asPromise();\n\n    const divPai = (event.target as HTMLElement).closest('.entrega-geral');\n    const divAtividades = divPai?.getElementsByClassName('atividades');\n    if (divAtividades?.length) {\n      divAtividades[0].setAttribute('class', 'atividades atividadesVisivel');\n      if (!entrega.atividades.length) {\n        divAtividades[0].innerHTML = `Essa entrega no tem ${this.lex.translate(\n          'Atividades'\n        )} cadastradas`;\n      }\n    }\n\n    this.cdRef.detectChanges();\n  }\n\n  public onPlanejamentoChange() {\n    if (this.planejamentoInstitucional!.selectedItem) {\n      this.dao!.getById(\n        this.planejamentoInstitucional!.selectedItem?.key,\n        this.join\n      ).then((planejamento) => {\n        this.planejamento = planejamento as Planejamento;\n        this.objetivos = this.planejamento.objetivos_okr || [];\n        this.objetivos.forEach(objetivo => {\n          objetivo._metadata = Object.assign(objetivo._metadata || {}, { corBorda: this.util.getRandomColor() });\n        });\n        this.cdRef.detectChanges();\n      });\n    }\n  }\n}\n","<editable-form [form]=\"form!\" noButtons>\n  <div class=\"row mt-2\">\n    <input-select #planejamentoInstitucional [size]=\"12\" controlName=\"planejamento_id\"\n      [control]=\"form!.controls.planejamento_id\" [items]=\"planejamentos\"\n      (change)=\"onPlanejamentoChange()\"></input-select>\n  </div>\n  <ng-scrollbar autoHeightDisabled=\"false\" track=\"all\">\n    <div class=\"d-flex justify-content-between mt-4\">\n      <div class=\"okr_header\">\n        <h1>O</h1>\n        <h6>Objetivos</h6>\n      </div>\n      <div class=\"header_unidades\">\n        \n        <div class=\"d-flex\">\n          <div class=\"okr_header header_unidade w-25\">\n            <h6>{{lex.translate('Unidades')}}</h6>\n          </div>\n          <div class=\"flex-fill\">\n            <div class=\"d-flex justify-content-between\">\n              <div class=\"okr_header header_resultados w-100\">\n                <h1>K.R</h1>\n                <h6>Resultados chaves</h6>\n              </div>\n\n              <div class=\"okr_header\">\n                <h6>{{lex.translate('Atividades')}}</h6>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"d-flex flex-column justify-content-between mt-4\">\n      <div class=\"mb-2\" *ngFor=\"let objetivo of objetivos; let i = index\">\n        <div class=\"d-flex justify-content-start\">\n          <ng-container [ngTemplateOutlet]=\"objetivoTmpl\"\n            [ngTemplateOutletContext]=\"{objetivo: objetivo, i: i}\"></ng-container>\n          <div class=\"unidades\">\n            <div *ngFor=\"let unidade_entrega of objetivo.unidadesComEntregas; let u = index\">\n              <div class=\"d-flex mb-1 align-items-stretch\">\n                <div class=\"unidade w-25\" [style.border-color]=\"unidade_entrega.unidade._metadata.corBorda\">\n                  {{unidade_entrega.unidade.nome}}\n                </div>\n                <div class=\"entregas flex-fill\">\n                  <div class=\"d-flex flex-column\">\n                    <ng-container *ngFor=\"let objetivo_entrega of unidade_entrega.entregas; let i = index\">\n                      <ng-container [ngTemplateOutlet]=\"entregaTmpl\"\n                        [ngTemplateOutletContext]=\"{objetivo_entrega: objetivo_entrega, i: i}\"></ng-container>\n                    </ng-container>\n                  </div>\n                </div>\n\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </ng-scrollbar>\n\n</editable-form>\n\n\n<ng-template #objetivoTmpl let-objetivo=\"objetivo\" let-i=\"i\">\n  <div class=\"objetivo\" [style.border-color]=\"objetivo._metadata.corBorda\">\n    <div class=\"d-flex justify-content-between align-items-center\">\n      <span>{{objetivo.nome}}</span>\n      <button class=\"btn\" (click)=\"carregaEntregas(objetivo.id)\"><i class=\"bi bi-chevron-right\"></i></button>\n    </div>\n  </div>\n</ng-template>\n\n\n<ng-template #entregaTmpl let-objetivo_entrega=\"objetivo_entrega\" let-i=\"i\">\n  <div>\n    <div class=\"d-flex justify-content-between align-items-stretch entrega-geral\">\n      <div class=\"entrega flex-fill\" [style.border-color]=\"objetivo_entrega._metadata.corBorda\">\n        <span class=\"d-flex justify-content-between align-items-center\">\n          {{objetivo_entrega.entrega.descricao}}\n          <button class=\"btn\"\n            (click)=\"carregaAtividades(objetivo_entrega.entrega.entregas_plano_trabalho, objetivo_entrega.entrega.entrega, $event)\"><i\n              class=\"bi bi-chevron-right\"></i></button>\n        </span>\n        <div class=\"d-flex align-items-center\">\n          <div class=\" w-100\">\n            <progress-bar [value]=\"objetivo_entrega.entrega.progresso_realizado\"\n              [goal]=\"objetivo_entrega.entrega.progresso_esperado\" color=\"success\"></progress-bar>\n          </div>\n          <div class=\"ms-2\">\n            <badge icon=\"bi bi-graph-up-arrow\" [textValue]=\"planoEntregaService.getValorMeta(objetivo_entrega.entrega)\"\n              color=\"light\" hint=\"Planejada\"></badge><br>\n            <badge icon=\"bi bi-check-lg\" [textValue]=\"planoEntregaService.getValorRealizado(objetivo_entrega.entrega)\"\n              color=\"light\" hint=\"Realizada\"></badge>\n          </div>\n        </div>\n      </div>\n      <div class=\"atividades\">\n        <div class=\"d-flex flex-column\">\n          <ng-container *ngFor=\"let atividade of objetivo_entrega.entrega.entrega.atividades\">\n            <div class=\"atividade\">\n              <div class=\"d-flex justify-content-between\">\n                <div>\n                  <p class=\"m-0\">{{atividade.descricao}}</p>\n                  <small>{{atividade.usuario.nome}}</small>\n                </div>\n\n                <div>\n                  <badge *ngFor=\"let status of atividadeService.getStatus(atividade)\" [data]=\"status\"\n                    [color]=\"status.color\" [icon]=\"status.icon\" [label]=\"status.label\"></badge>\n                </div>\n              </div>\n            </div>\n          </ng-container>\n        </div>\n      </div>\n    </div>\n  </div>\n\n</ng-template>","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { AuthGuard } from 'src/app/guards/auth.guard';\r\nimport { ConfigResolver } from 'src/app/resolvies/config.resolver';\r\nimport { PlanejamentoFormComponent } from './planejamento-form/planejamento-form.component';\r\nimport { PlanejamentoListComponent } from './planejamento-list/planejamento-list.component';\r\nimport { PlanejamentoFormObjetivoComponent } from './planejamento-form-objetivo/planejamento-form-objetivo.component';\r\nimport { PlanejamentoListObjetivosEntregasComponent } from './planejamento-list-objetivos-entregas/planejamento-list-objetivos-entregas.component';\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: PlanejamentoListComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Planejamentos Institucionais\" } },\r\n  { path: 'new', component: PlanejamentoFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Incluso de Planejamento Institucional\", modal: true } },\r\n  { path: ':id/edit', component: PlanejamentoFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Edio de Planejamento Institucional\", modal: true } },\r\n  { path: ':id/consult', component: PlanejamentoFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Consulta a Planejamento Institucional\", modal: true } },\r\n  { path: 'objetivo', component: PlanejamentoFormObjetivoComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Incluso de Objetivo de Planejamento Institucional\", modal: true } },\r\n  { path: 'objetivoList', component: PlanejamentoListObjetivosEntregasComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Objetivos de Planejamento Institucional\", modal: true } },\r\n  { path: 'objetivo/:id/consult', component: PlanejamentoFormObjetivoComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, runGuardsAndResolvers: 'always', data: { title: \"Consulta a Objetivo de Planejamento Institucional\", modal: true } },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class PlanejamentoRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ComponentsModule } from 'src/app/components/components.module';\r\nimport { PlanejamentoListComponent } from './planejamento-list/planejamento-list.component';\r\nimport { PlanejamentoFormComponent } from './planejamento-form/planejamento-form.component';\r\nimport { PlanejamentoRoutingModule } from './planejamento-routing.module';\r\nimport { PlanejamentoListObjetivoComponent } from './planejamento-list-objetivo/planejamento-list-objetivo.component';\r\nimport { PlanejamentoFormObjetivoComponent } from './planejamento-form-objetivo/planejamento-form-objetivo.component';\r\nimport { PlanejamentoMapaComponent } from './planejamento-mapa/planejamento-mapa.component';\r\nimport { DndModule } from 'ngx-drag-drop';\r\nimport { PlanejamentoListObjetivosEntregasComponent } from './planejamento-list-objetivos-entregas/planejamento-list-objetivos-entregas.component';\r\nimport { PlanejamentoOkrComponent } from './planejamento-okr/planejamento-okr.component';\r\nimport { NgScrollbarModule } from 'ngx-scrollbar';\r\nimport { UteisModule } from '../../uteis/uteis.module';\r\n\r\n\r\n@NgModule({\r\n  declarations: [ \r\n    PlanejamentoListComponent,\r\n    PlanejamentoFormComponent,\r\n    PlanejamentoListObjetivoComponent,\r\n    PlanejamentoFormObjetivoComponent,\r\n    PlanejamentoMapaComponent,\r\n    PlanejamentoListObjetivosEntregasComponent,\r\n    PlanejamentoOkrComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    ComponentsModule,\r\n    DndModule,\r\n    PlanejamentoRoutingModule,\r\n    NgScrollbarModule,\r\n    UteisModule\r\n  ],\r\n  exports: [\r\n    PlanejamentoListObjetivosEntregasComponent\r\n  ]\r\n})\r\nexport class PlanejamentoModule { }\r\n"],"names":["EditableFormComponent","EixoTematicoDaoService","PlanejamentoDaoService","PlanejamentoObjetivoDaoService","PlanejamentoObjetivo","PageFormBase","NavigateResult","i0","elementStart","element","listener","PlanejamentoFormObjetivoComponent_separator_9_Template_input_select_change_3_listener","$event","restoreView","_r4","ctx_r3","nextContext","resetView","onObjetivoSuperiorChange","elementEnd","property","advance","ctx_r2","entityService","getIcon","attribute","objetivos_superiores","form","controls","objetivo_superior_id","PlanejamentoFormObjetivoComponent","constructor","injector","objetivos","validate","control","controlName","result","indexOf","value","length","formValidation","planejamentoDao","get","eixoTematicoDao","fh","FormBuilder","nome","default","fundamentacao","planejamento_id","planejamento_superior_nome","eixo_tematico_id","objetivo_pai_id","integra_okr","cdRef","loadData","entity","_this","_asyncToGenerator","formValue","Object","assign","patchValue","util","fillForm","eixoTematico","loadSearch","eixo_tematico","title","_status","planejamento","metadata","planejamento_superior","setValue","map","x","key","id","data","initializeData","_this2","objetivo","saveData","_this3","Promise","_ref","resolve","reject","selectedItem","_x","_x2","apply","arguments","isPlanejamentoUNEX","unidade_id","onObjetivoPaiChange","row","objetivoPai","eixoTematicoId","find","detectChanges","idEixoTematicoObjetivoSuperior","directiveInject","Injector","selectors","viewQuery","PlanejamentoFormObjetivoComponent_Query","rf","ctx","PlanejamentoFormObjetivoComponent_Template_editable_form_submit_0_listener","onSaveData","PlanejamentoFormObjetivoComponent_Template_editable_form_cancel_0_listener","onCancel","PlanejamentoFormObjetivoComponent_Template_input_select_change_7_listener","template","PlanejamentoFormObjetivoComponent_separator_9_Template","formDisabled","isModal","undefined","planejamento_superior_id","GridComponent","UnidadeDaoService","Planejamento","UtilService","PlanejamentoFormComponent","this","planejamentosSuperiores","hasPermissionToUNEX","joinPlanejamentoSuperior","dao","validDateTime","data_fim","data_inicio","valores","unidades","query","where","asPromise","forEach","un","intersection","start","asDate","end","titleEdit","lex","translate","unidadeDao","auth","hasPermissionTo","join","entidade_id","Date","missao","visao","valor_texto","resultados_institucionais","resultados_texto","utilizar_superior","carregaPlanejamentosSuperiores","grid","confirm","fill","items","addValorHandle","textHash","validateLookupItem","addResultadoHandle","onUnidadeChange","event","_this4","unidadeId","_this5","pls","unshift","onUtilizarSuperiorChange","_this6","unidade_superior_id","onPlanejamentoChange","_this7","filter","objetivo_superior","dialog","obj","planejamentoSuperior","loadColumns","isPlanejamentoUNINST","isPlanejamentoUNEXEC","PlanejamentoFormComponent_Query","PlanejamentoFormComponent_Template_editable_form_submit_0_listener","PlanejamentoFormComponent_Template_editable_form_cancel_0_listener","PlanejamentoFormComponent_Template_input_search_change_7_listener","PlanejamentoFormComponent_Template_input_select_change_11_listener","PlanejamentoFormComponent_Template_input_switch_change_13_listener","bind","action","PageFrameBase","tmp_0_0","getEixo","separator_r10","text","icone","tmp_1_0","cor","tmp_2_0","text","styleProp","row_r11","_metadata","level","textInterpolate","ctx_r4","marcador","row_r12","row_r13","row_r16","PlanejamentoListObjetivoComponent_column_14_ng_template_1_Template","templateRefExtractor","_r14","PlanejamentoListObjetivoComponent","disabled","_disabled","noPersist","gridControl","minHeight","options","eixos","objetivoDao","eixoDao","groupBy","field","label","OPTION_INFORMACOES","onClick","go","navigate","route","modal","OPTION_EXCLUIR","removeObjetivo","addOption","ngOnInit","carregaEixos","sortObjetivos","dynamicButtons","push","hint","icon","color","editObjetivo","addObjetivo","generateUuid","objetivosPai","modalClose","modalResult","isNoPersist","save","error","message","filhoId","addItens","list","item","sort","a","b","sequencia","index","_ref2","delete","splice","getAll","then","PlanejamentoListObjetivoComponent_Query","PlanejamentoListObjetivoComponent_ng_template_2_Template","PlanejamentoListObjetivoComponent_ng_template_6_Template","PlanejamentoListObjetivoComponent_ng_template_9_Template","PlanejamentoListObjetivoComponent_ng_template_12_Template","PlanejamentoListObjetivoComponent_column_14_Template","_r1","_r3","_r5","_r7","PageListBase","ctx_r0","ctx_r1","buttons","getNome","metadata_r5","row_r4","PlanejamentoListObjetivosEntregasComponent","filterWhere","trim","replace","planejamentoObjetivoDao","filterClear","path","paiId","niveis","atual","sa","getMetadata","split","substr","sb","PlanejamentoListObjetivosEntregasComponent_Query","PlanejamentoListObjetivosEntregasComponent_h3_0_Template","PlanejamentoListObjetivosEntregasComponent_Template_grid_select_1_listener","onSelect","PlanejamentoListObjetivosEntregasComponent_toolbar_2_Template","PlanejamentoListObjetivosEntregasComponent_ng_template_8_Template","add","orderBy","selectable","filterSubmit","filterCollapseChange","filterCollapsed","_r2","edit","rowsLimit","TabsComponent","textInterpolate1","row_r19","PlanejamentoListComponent_ng_template_2_column_12_ng_template_1_span_0_Template","row_r22","PlanejamentoListComponent_ng_template_2_column_12_ng_template_1_Template","PlanejamentoListComponent_ng_template_2_column_12_ng_template_3_Template","ctx_r6","_r15","_r17","row_r23","ctx_r10","getDateFormatted","row_r24","ctx_r12","row_r25","row_r26","unidade","PlanejamentoListComponent_ng_template_2_Template_grid_select_0_listener","_r28","ctx_r27","PlanejamentoListComponent_ng_template_2_toolbar_1_Template","PlanejamentoListComponent_ng_template_2_Template_input_switch_change_6_listener","ctx_r29","onSoEntidadeChange","PlanejamentoListComponent_ng_template_2_column_12_Template","PlanejamentoListComponent_ng_template_2_ng_template_14_Template","PlanejamentoListComponent_ng_template_2_ng_template_17_Template","PlanejamentoListComponent_ng_template_2_ng_template_20_Template","PlanejamentoListComponent_ng_template_2_ng_template_23_Template","initGrid","so_entidade","unidade_disabled","_r9","_r11","_r13","PlanejamentoListComponent","code","agrupar","consult","OPTION_LOGS","ngAfterViewInit","tabs","active","includes","usuarioConfig","active_tab","onLoad","queryInit","onSelectTab","tab","viewInit","saveUsuarioConfig","PlanejamentoListComponent_Query","PlanejamentoListComponent_ng_template_2_Template","PlanejamentoListComponent_ng_template_5_Template","_r0","elementContainer","pureFunction2","_c1","subobjetivo_r9","objetivo_r5","subobjetivo_r14","objetivo_r11","PlanejamentoMapaComponent_div_8_div_18_ng_template_9_Template_div_dndEnd_0_listener","ctx_r16","onObjetivoDragEnd","PlanejamentoMapaComponent_div_8_div_18_ng_template_9_Template_div_dndMoved_0_listener","restoredCtx","pai_r12","pai","ctx_r18","onObjetivoDragged","PlanejamentoMapaComponent_div_8_div_18_ng_template_9_Template_div_dndStart_0_listener","ctx_r19","onObjetivoDragStart","PlanejamentoMapaComponent_div_8_div_18_ng_template_9_Template_div_dndDrop_5_listener","ctx_r20","onObjetivoDrop","PlanejamentoMapaComponent_div_8_div_18_ng_template_9_ng_container_8_Template","ctx_r8","canEdit","subObjetivosMenu","pureFunction0","_c2","PlanejamentoMapaComponent_div_8_div_18_Template_div_dndEnd_0_listener","_r22","ctx_r21","PlanejamentoMapaComponent_div_8_div_18_Template_div_dndMoved_0_listener","$implicit","eixo_r3","ctx_r23","PlanejamentoMapaComponent_div_8_div_18_Template_div_dndStart_0_listener","ctx_r25","PlanejamentoMapaComponent_div_8_div_18_Template_div_dndDrop_5_listener","ctx_r26","PlanejamentoMapaComponent_div_8_div_18_ng_container_8_Template","PlanejamentoMapaComponent_div_8_div_18_ng_template_9_Template","onObjetivoClick","onObjetivoEditClick","onObjetivoDeleteClick","PlanejamentoMapaComponent_div_8_Template_div_dndDrop_6_listener","PlanejamentoMapaComponent_div_8_div_18_Template","eixo","onObjetivoAddClick","PlanejamentoMapaComponent","planejamentos","todos","objetivosEixo","eixoId","y","recursivo","planejamentoInstitucional","getById","extra","onTodosChange","dropped","console","log","neighborhood","loading","update","finally","dragged","effect","PlanejamentoMapaComponent_Query","PlanejamentoMapaComponent_Template_input_select_change_2_listener","PlanejamentoMapaComponent_planejamento_show_5_Template","PlanejamentoMapaComponent_Template_input_switch_change_7_listener","PlanejamentoMapaComponent_div_8_Template","PlanoEntregaService","AtividadeDaoService","AtividadeService","elementContainerStart","elementContainerEnd","objetivo_entrega_r12","i_r13","PlanejamentoOkrComponent_div_27_div_4_ng_container_6_Template","unidade_entrega_r9","corBorda","entregas","PlanejamentoOkrComponent_div_27_div_4_Template","objetivo_r6","i_r7","unidadesComEntregas","PlanejamentoOkrComponent_ng_template_28_Template_button_click_4_listener","objetivo_r14","carregaEntregas","status_r23","PlanejamentoOkrComponent_ng_template_30_ng_container_16_badge_9_Template","atividade_r21","descricao","usuario","atividadeService","getStatus","PlanejamentoOkrComponent_ng_template_30_Template_button_click_5_listener","_r25","objetivo_entrega_r18","objetivo_entrega","ctx_r24","carregaAtividades","entrega","entregas_plano_trabalho","PlanejamentoOkrComponent_ng_template_30_ng_container_16_Template","progresso_realizado","progresso_esperado","ctx_r5","planoEntregaService","getValorMeta","getValorRealizado","atividades","PlanejamentoOkrComponent","objetivo_entregas","atividadeDao","objetivoId","resultado","objetivos_entrega","entregasPorUnidade","getRandomColor","o","values","entregasPlanoTrabalho","entregasPlanoTrabalhoIds","e","divPai","target","closest","divAtividades","getElementsByClassName","setAttribute","innerHTML","objetivos_okr","PlanejamentoOkrComponent_Query","PlanejamentoOkrComponent_Template_input_select_change_2_listener","PlanejamentoOkrComponent_div_27_Template","PlanejamentoOkrComponent_ng_template_28_Template","PlanejamentoOkrComponent_ng_template_30_Template","RouterModule","AuthGuard","ConfigResolver","routes","component","canActivate","config","runGuardsAndResolvers","PlanejamentoRoutingModule","forChild","imports","i1","exports","CommonModule","ComponentsModule","DndModule","NgScrollbarModule","UteisModule","PlanejamentoModule","declarations"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}
>>>>>>> develop

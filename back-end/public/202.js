"use strict";(self.webpackChunkpetrvs=self.webpackChunkpetrvs||[]).push([[202],{202:(We,k,r)=>{r.r(k),r.d(k,{ProdutoModule:()=>xe});var _=r(6610),j=r(8069),d=r(3308),H=r(6409),m=r(5611),h=r(8320),b=r(3535),C=r(291);class P extends C.C{constructor(a){super(),this.identificador=0,this.nome="",this.responsavel_id="",this.data_ativado=null,this.data_desativado=null,this.nome_fantasia="",this.tipo="produto",this.descricao="",this.url="",this.produto_processo_cadeia_valor=[],this.produto_insumos=[],this.produto_cliente=[],this.produto_solucoes=[],this.unidade_id="",this.initialization(a)}}var J=r(9062),t=r(3279),A=r(4796);let K=(()=>{class n{constructor(e){this.auth=e,this.produto=[]}static{this.\u0275fac=function(i){return new(i||n)(t.KVO(A.u))}}static{this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var y=r(2034),E=r(5852),x=r(7772),W=r(2305),Z=r(6764),q=r(114),v=r(9226),tt=r(5201);function et(n,a){if(1&n){const e=t.RV6();t.j41(0,"button",26),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.ativarTodos())}),t.EFF(1,"Ativar todos os produtos e servi\xe7os "),t.k0s()}if(2&n){const e=t.XpG(2);t.Y8G("disabled",e.isUpdating)}}function ot(n,a){if(1&n){const e=t.RV6();t.j41(0,"button",27),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.desativarTodos())}),t.EFF(1,"Desativar todos os produtos e servi\xe7os "),t.k0s()}if(2&n){const e=t.XpG(2);t.Y8G("disabled",e.isUpdating&&(null==e.grid||null==e.grid.items?null:e.grid.items.length))}}function it(n,a){if(1&n&&(t.j41(0,"toolbar"),t.DNE(1,et,2,1,"button",24)(2,ot,2,1,"button",25),t.k0s()),2&n){let e,i;const o=t.XpG();t.R7$(),t.Y8G("ngIf",o.isCurador&&(null===(e=null==o.grid||null==o.grid.items?null:o.grid.items.length)||void 0===e||e)),t.R7$(),t.Y8G("ngIf",o.isCurador&&(null===(i=null==o.grid||null==o.grid.items?null:o.grid.items.length)||void 0===i||i))}}function nt(n,a){1&n&&(t.j41(0,"span"),t.EFF(1,"Nome"),t.k0s())}function st(n,a){1&n&&(t.j41(0,"span"),t.EFF(1,"#ID"),t.k0s())}function at(n,a){1&n&&(t.j41(0,"span"),t.EFF(1,"Cliente"),t.k0s())}function lt(n,a){1&n&&(t.j41(0,"span"),t.EFF(1,"Unidade"),t.k0s())}function rt(n,a){1&n&&(t.j41(0,"span"),t.EFF(1,"Status"),t.k0s())}function dt(n,a){if(1&n&&(t.j41(0,"div",28),t.EFF(1," Filtros aplicados: "),t.DNE(2,nt,2,0,"span",7)(3,st,2,0,"span",7)(4,at,2,0,"span",7)(5,lt,2,0,"span",7)(6,rt,2,0,"span",7),t.k0s()),2&n){const e=t.XpG();t.R7$(2),t.Y8G("ngIf",(null==e.filter.controls.nome.value?null:e.filter.controls.nome.value.length)>0),t.R7$(),t.Y8G("ngIf",(null==e.filter.controls.id.value?null:e.filter.controls.id.value.length)>0),t.R7$(),t.Y8G("ngIf",(null==e.filter.controls.cliente_id||null==e.filter.controls.cliente_id.value?null:e.filter.controls.cliente_id.value.length)>0),t.R7$(),t.Y8G("ngIf",(null==e.filter.controls.unidade_id||null==e.filter.controls.unidade_id.value?null:e.filter.controls.unidade_id.value.length)>0),t.R7$(),t.Y8G("ngIf",!e.isSearching&&(null==e.filter.controls.status||null==e.filter.controls.status.value?null:e.filter.controls.status.value.length)>0)}}function ut(n,a){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.k0s(),t.nrm(2,"br")),2&n){const e=a.row;t.R7$(),t.SpI(" ",e.identificador,"")}}function ct(n,a){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.k0s(),t.nrm(2,"br")),2&n){const e=a.row;t.R7$(),t.SpI(" ",e.nome,"")}}function mt(n,a){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.k0s(),t.nrm(2,"br")),2&n){const e=a.row;t.R7$(),t.SpI(" ",e.nome_fantasia,"")}}function pt(n,a){if(1&n&&t.nrm(0,"badge",30),2&n){const e=a.row,i=t.XpG(2);t.Y8G("color",e.deleted_at?"secondary":i.ativo(e)?"success":"danger")("label",e.deleted_at?"Exclu\xeddo":i.ativo(e)?"Ativo":"Inativo")}}function _t(n,a){if(1&n&&(t.j41(0,"column",29),t.DNE(1,pt,1,2,"ng-template",null,4,t.C5r),t.k0s()),2&n){const e=t.sdS(2);t.Y8G("template",e)}}function ft(n,a){if(1&n){const e=t.RV6();t.j41(0,"input-switch",32),t.bIt("change",function(){const o=t.eBV(e).row,s=t.XpG(2);return t.Njj(s.ativarDesativar(o))}),t.k0s()}if(2&n){const e=a.row;t.Y8G("size",12)("value",!e.data_desativado&&e.data_ativado?"true":"false")("valueOn","true")("valueOff","false")("disabled",e.deleted_at)}}function ht(n,a){if(1&n&&(t.j41(0,"column",31),t.DNE(1,ft,1,5,"ng-template",null,5,t.C5r),t.k0s()),2&n){const e=t.sdS(2);t.Y8G("template",e)}}let gt=(()=>{class n extends J.P{constructor(e,i){super(e,P,h.L),this.injector=e,this.isUpdating=!1,this.isChefe=!1,this.isCurador=!1,this.isSearching=!1,this.filterWhere=o=>{let s=[],l=o.value;return this.queryParams.excludeId&&s.push(["id","!=",this.queryParams.excludeId]),l.nome?.length&&s.push(["or",["nome_fantasia","like","%"+l.nome.trim().replace(" ","%")+"%"],["nome","like","%"+l.nome.trim().replace(" ","%")+"%"]]),l.id?.length&&s.push(["identificador","=",l.id]),l.unidade_id?.length&&s.push(["unidade_id","==",l.unidade_id]),l.cliente_id?.length&&s.push(["produtos_do_cliente","==",l.cliente_id]),l.status&&"ativo"==l.status&&(s.push(["data_ativado","!=",null]),s.push(["data_desativado","==",null])),l.status&&"inativo"==l.status&&s.push(["data_ativado","==",null]),s},this.produtoService=e.get(K),this.unidadeDao=e.get(b.s),this.title=this.lex.translate("Produtos e Servi\xe7os"),this.filter=this.fh.FormBuilder({nome:{default:this.metadata?.nome??""},unidade_id:{default:""},cliente_id:{default:""},id:{default:""},status:{default:""}}),this.join=["produtoProcessoCadeiaValor"],this.orderBy=[["identificador","desc"]],this.isChefe=this.auth.isUsuarioDeveloper()||this.auth.isGestorAlgumaAreaTrabalho(!1),this.isCurador=this.auth.isUsuarioCurador(),this.BOTAO_EXCLUIR={label:"Excluir",icon:"bi bi-trash",onClick:this.delete.bind(this),color:"btn-outline-danger"}}ngOnInit(){super.ngOnInit(),this.queryParams.unidade_id&&(this.filter?.controls.unidade_id.setValue(this.queryParams.unidade_id),this.saveUsuarioConfig()),this.isSearching="search"==this.queryParams.mode||"search-ativos"==this.queryParams.mode,this.isSearching&&(this.filter?.controls.status.setValue("ativo"),this.saveUsuarioConfig())}dynamicButtons(e){let i=[];return e._status||i.push({label:"Detalhes",icon:"bi bi-eye",color:"btn-outline-success",onClick:this.showDetalhes.bind(this)}),0==e._metadata?.vinculoEntregas&&this.isChefe&&i.push(this.BOTAO_EXCLUIR),i}dynamicOptions(e){return[]}showDetalhes(e){var i=this;return(0,d.A)(function*(){i.go.navigate({route:["gestao","produto",e.id,"show"]},{metadata:{produto:e}})})()}ativarDesativar(e){var i=this;return(0,d.A)(function*(){if(i.isUpdating)return void console.log("Aguarde o t\xe9rmino do processo anterior");i.isUpdating=!0;let o=i.ativo(e);e.data_desativado=null,e.data_ativado=null,o?e.data_desativado=new Date:e.data_ativado=new Date;let s="";try{yield i.dao?.update(e.id,{id:e.id,data_desativado:e.data_desativado,data_ativado:e.data_ativado})}catch(l){if(l instanceof H.yz&&(s=l.error.message),l.validationErrors){let u=l.validationErrors;s="",Object.keys(u).forEach(c=>{u[c].forEach(p=>{s+=`${c}: ${p}\n`})})}s=s||"Erro inesperado",i.dialog.alert("Erro ao ativar/inativar o produto",s,"Fechar","fa fa-exclamation-triangle")}finally{i.isUpdating=!1}})()}onBuscaAvancada(){var i,e=this;this.go.navigate({route:["gestao","produto","filter"]},{metadata:{nome:this.filter?.controls.nome.value,id:this.filter?.controls.id.value,status:this.filter?.controls.status.value,unidade_id:this.filter?.controls.unidade_id.value,cliente_id:this.filter?.controls.cliente_id.value,enableStatus:"search-ativos"!=this.queryParams.mode},modalClose:(i=(0,d.A)(function*(o){o&&e.filter&&(e.filter?.controls.nome.setValue(o.nome),e.filter?.controls.id.setValue(o.id),e.filter?.controls.status.setValue(o.status),e.filter?.controls.unidade_id.setValue(o.unidade_id),e.filter?.controls.cliente_id.setValue(o.cliente_id),e.grid.reloadFilter())}),function(s){return i.apply(this,arguments)})})}onFilterClear(){this.filter?.reset(),this.grid.reloadFilter(),this.cdRef.markForCheck()}filtrosDefinidos(){return this.filter?.controls.nome.value?.length>0||this.filter?.controls.id.value?.length>0||this.filter?.controls.unidade_id.value?.length>0||this.filter?.controls.cliente_id.value?.length>0||this.filter?.controls.status.value?.length>0}ativo(e){return!e.data_desativado&&null!=e.data_ativado}confirm(e,i,o){window.confirm(`${e}\n\n${i}`)&&o()}ativarTodos(){var e=this;return(0,d.A)(function*(){e.confirm("Ativar todos os Produtos e Servi\xe7os","Deseja realmente ativar todos os Produtos e Servi\xe7os?",(0,d.A)(function*(){e.loading=!0;try{yield e.dao?.ativarTodos(),e.grid.reloadFilter(),e.cdRef.markForCheck()}catch(i){console.error("Erro ao ativar Produtos/Servi\xe7os",i),e.error(i.error?.message||i.message||i)}finally{e.isUpdating=!1,e.loading=!1}}))})()}desativarTodos(){var e=this;return(0,d.A)(function*(){e.confirm("Desativar todos os Produtos e Servi\xe7os","Deseja realmente desativar todos os Produtos e Servi\xe7os?",(0,d.A)(function*(){e.loading=!0;try{yield e.dao?.desativarTodos(),e.grid.reloadFilter(),e.cdRef.markForCheck()}catch(i){console.error("Erro ao desativar os Produtos/Servi\xe7os",i),e.error(i.error?.message||i.message||i)}finally{e.isUpdating=!1,e.loading=!1}}))})()}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(t.zZn),t.rXU(h.L))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-produto-list"]],viewQuery:function(i,o){if(1&i&&t.GBs(m._,5),2&i){let s;t.mGM(s=t.lsd())&&(o.grid=s.first)}},features:[t.Vt3],decls:29,vars:29,consts:[["unidade",""],["columnID",""],["columnNome",""],["columnSigla",""],["columnStatus",""],["columnAtivar",""],["labelAdd","Incluir Novo Produto ou Servi\xe7o",3,"select","dao","add","title","orderBy","groupBy","join","selectable","hasAdd","hasEdit"],[4,"ngIf"],["deletedLabel","Mostrar Exclu\xeddos",3,"deleted","form","where","submit","collapseChange","collapsed"],[1,"row"],[1,"col-md-4"],["label","Unidade","controlName","unidade_id",3,"size","control","dao"],[1,"col-md-3","busca-avancada"],[1,"busca-avancada-link"],[3,"click"],[1,"busca-avancada-clear"],["class","busca-avancada-filtros-aplicados",4,"ngIf"],["title","ID",3,"template"],["title","Nome",3,"template"],["title","Sigla/Nome Fantasia",3,"template"],["title","Status",3,"template",4,"ngIf"],["title","Ativar/Desativar","titleHint","Permitir que o Produto ou Servi\xe7o esteja dispon\xedvel para vincula\xe7\xe3o de entregas.",3,"template",4,"ngIf"],["type","options",3,"onEdit","dynamicOptions","dynamicButtons"],[3,"rows"],["type","button","class","btn btn-outline-success",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-outline-danger",3,"disabled","click",4,"ngIf"],["type","button",1,"btn","btn-outline-success",3,"click","disabled"],["type","button",1,"btn","btn-outline-danger",3,"click","disabled"],[1,"busca-avancada-filtros-aplicados"],["title","Status",3,"template"],[3,"color","label"],["title","Ativar/Desativar","titleHint","Permitir que o Produto ou Servi\xe7o esteja dispon\xedvel para vincula\xe7\xe3o de entregas.",3,"template"],["scale","small",3,"change","size","value","valueOn","valueOff","disabled"]],template:function(i,o){if(1&i){const s=t.RV6();t.j41(0,"grid",6),t.bIt("select",function(u){return t.eBV(s),t.Njj(o.onSelect(u))}),t.DNE(1,it,3,2,"toolbar",7),t.j41(2,"filter",8)(3,"div",9)(4,"div",10),t.nrm(5,"input-search",11,0),t.k0s(),t.j41(7,"div",12)(8,"div",13)(9,"a",14),t.bIt("click",function(){return t.eBV(s),t.Njj(o.onBuscaAvancada())}),t.EFF(10,"Busca Avan\xe7ada"),t.k0s()(),t.j41(11,"div",15)(12,"a",14),t.bIt("click",function(){return t.eBV(s),t.Njj(o.onFilterClear())}),t.EFF(13,"Limpar filtros de busca"),t.k0s()(),t.DNE(14,dt,7,5,"div",16),t.k0s()()(),t.j41(15,"columns")(16,"column",17),t.DNE(17,ut,3,1,"ng-template",null,1,t.C5r),t.k0s(),t.j41(19,"column",18),t.DNE(20,ct,3,1,"ng-template",null,2,t.C5r),t.k0s(),t.j41(22,"column",19),t.DNE(23,mt,3,1,"ng-template",null,3,t.C5r),t.k0s(),t.DNE(25,_t,3,1,"column",20)(26,ht,3,1,"column",21),t.nrm(27,"column",22),t.k0s(),t.nrm(28,"pagination",23),t.k0s()}if(2&i){const s=t.sdS(18),l=t.sdS(21),u=t.sdS(24);t.Y8G("dao",o.dao)("add",o.add)("title",o.isModal?"":o.title)("orderBy",o.orderBy)("groupBy",o.groupBy)("join",o.join)("selectable",o.selectable)("hasAdd",o.isChefe&&!o.isSearching&&o.auth.hasPermissionTo("MOD_PROD_INCL"))("hasEdit",o.isChefe&&!o.isSearching&&o.auth.hasPermissionTo("MOD_PROD_EDT")),t.R7$(),t.Y8G("ngIf",!o.selectable),t.R7$(),t.Y8G("deleted",!o.isSearching&&o.auth.hasPermissionTo("MOD_AUDIT_DEL"))("form",o.filter)("where",o.filterWhere)("submit",o.filterSubmit.bind(o))("collapseChange",o.filterCollapseChange.bind(o))("collapsed",!o.selectable&&o.filterCollapsed),t.R7$(3),t.Y8G("size",6)("control",o.filter.controls.unidade_id)("dao",o.unidadeDao),t.R7$(9),t.Y8G("ngIf",o.filtrosDefinidos),t.R7$(2),t.Y8G("template",s),t.R7$(3),t.Y8G("template",l),t.R7$(3),t.Y8G("template",u),t.R7$(3),t.Y8G("ngIf",o.isCurador&&!o.isSearching),t.R7$(),t.Y8G("ngIf",o.isCurador&&!o.isSearching),t.R7$(),t.Y8G("onEdit",o.edit)("dynamicOptions",o.dynamicOptions.bind(o))("dynamicButtons",o.dynamicButtons.bind(o)),t.R7$(),t.Y8G("rows",o.rowsLimit)}},dependencies:[_.bT,m._,y.T,E.I,x.i,W.H,Z.e,q.S,v.O,tt.n],styles:["filter[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{align-items:end}.busca-avancada[_ngcontent-%COMP%]   .busca-avancada-link[_ngcontent-%COMP%], .busca-avancada[_ngcontent-%COMP%]   .busca-avancada-clear[_ngcontent-%COMP%]{margin-bottom:6px}.busca-avancada[_ngcontent-%COMP%]   .busca-avancada-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .busca-avancada[_ngcontent-%COMP%]   .busca-avancada-clear[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700;text-decoration:none;cursor:pointer;color:#000}.busca-avancada[_ngcontent-%COMP%]   .busca-avancada-filtros-aplicados[_ngcontent-%COMP%]{margin-top:4px;font-size:12px}.busca-avancada[_ngcontent-%COMP%]   .busca-avancada-filtros-aplicados[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;background-color:#ccc;padding:1px 5px;margin-right:3px;border-radius:3px}"]})}}return n})();var I=r(1620),G=r(6819),f=r(1641),L=r(5413),vt=r(24),N=r(16),bt=r(158),R=r(3678),B=r(2075),V=r(6774),Ct=r(8467),Pt=r(242),T=r(4423);let yt=(()=>{class n extends T.F{constructor(e){super("ProdutoProcesso",e),this.injector=e}static{this.\u0275fac=function(i){return new(i||n)(t.KVO(t.zZn))}}static{this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class $ extends C.C{constructor(a){super(),this.cadeia_valor_processo_id="",this.produto_id="",this.initialization(a)}}var D=r(4795);const Et=["cadeiaValor"],It=["cadeiaProcesso"],Gt=()=>["unidade"],Rt=n=>["unidade_id","==",n],Dt=n=>[n],Ft=n=>({unidade_id:n}),St=n=>({filter:n});function Tt(n,a){1&n&&(t.j41(0,"div",14)(1,"span")(2,"strong"),t.EFF(3,"Cadeia de valor"),t.k0s()()())}function jt(n,a){if(1&n&&(t.j41(0,"div",15)(1,"p"),t.EFF(2),t.k0s()()),2&n){const e=a.row;t.R7$(2),t.JRh(null==e.cadeia_valor_processo||null==e.cadeia_valor_processo.cadeia_valor?null:e.cadeia_valor_processo.cadeia_valor.nome)}}function Nt(n,a){if(1&n){const e=t.RV6();t.j41(0,"input-search",16,8),t.bIt("change",function(o){t.eBV(e);const s=t.XpG();return t.Njj(s.onCadeiaChange(o))}),t.k0s()}if(2&n){const e=t.XpG();t.Y8G("placeholder","Selecione a "+e.lex.translate("cadeia de valor"))("join",t.lJ4(5,Gt))("where",t.eq3(8,Dt,t.eq3(6,Rt,null==e.auth.unidade?null:e.auth.unidade.id)))("selectParams",t.eq3(12,St,t.eq3(10,Ft,null==e.auth.unidade?null:e.auth.unidade.id)))("dao",e.cadeiaValorDao)}}function Ot(n,a){1&n&&(t.j41(0,"div",14)(1,"span")(2,"strong"),t.EFF(3,"Processo"),t.k0s()()())}function kt(n,a){if(1&n&&(t.j41(0,"div",15)(1,"p"),t.EFF(2),t.k0s()()),2&n){const e=a.row;t.R7$(2),t.JRh(null==e.cadeia_valor_processo?null:e.cadeia_valor_processo.nome)}}function At(n,a){if(1&n&&t.nrm(0,"input-select",17,9),2&n){const e=t.XpG();t.Y8G("control",e.form.controls.cadeia_valor_processo_id)("items",e.processos)}}function Lt(n,a){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&n){const e=a.row;t.R7$(),t.SpI(" ",null==e.cadeia_valor_processo?null:e.cadeia_valor_processo.sequencia,"")}}function Bt(n,a){1&n&&t.nrm(0,"column",18)}let Y=(()=>{class n extends D.g{set control(e){super.control=e}get control(){return super.control}set entity(e){super.entity=e}get entity(){return super.entity}set disabled(e){this._disabled!=e&&(this._disabled=e)}get disabled(){return this._disabled}set noPersist(e){super.noPersist=e}get noPersist(){return super.noPersist}get items(){return this.gridControl.value||this.gridControl.setValue(new $),this.gridControl.value.produto_processo_cadeia_valor||(this.gridControl.value.produto_processo_cadeia_valor=[]),this.gridControl.value.produto_processo_cadeia_valor}constructor(e){super(e),this.injector=e,this.processos=[],this._disabled=!1,this.dao=e.get(yt),this.cdRef=e.get(t.gRc),this.cadeiaValorDao=e.get(Ct.X),this.processosDao=e.get(Pt.p),this.form=this.fh.FormBuilder({cadeia_valor_processo_id:{default:null},cadeia_valor_id:{default:null}},this.cdRef),this.join=["cadeiaValorProcesso.cadeiaValor"]}ngOnInit(){var e=()=>super.ngOnInit,i=this;return(0,d.A)(function*(){e().call(i),i.entity=i.metadata?.entity||i.entity})()}addProcesso(){var e=this;return(0,d.A)(function*(){return Object.assign(new $,{_status:"ADD",id:e.dao.generateUuid(),cadeia_valor_processo_id:""})})()}loadProcesso(e,i){return(0,d.A)(function*(){"ADD"!=i._status&&(e.controls.cadeia_valor_id.setValue(i.cadeia_valor_processo.cadeia_valor.id),e.controls.cadeia_valor_processo_id.setValue(i.cadeia_valor_processo.id))})()}removeProcesso(e){var i=this;return(0,d.A)(function*(){if(yield i.dialog.confirm("Exclui ?","Deseja realmente excluir?")){i.loading=!0;try{i.isNoPersist?Object.assign(e,{_status:"DELETE"}):yield i.dao?.delete(e.id)}finally{i.loading=!1}return!i.isNoPersist}return!1})()}saveProcesso(e,i){var o=this;return(0,d.A)(function*(){let s;return o.form.markAllAsTouched(),o.form.valid&&(i.id="NEW"==i.id?o.dao.generateUuid():i.id,i.cadeia_valor_processo=o.cadeiaProcesso.selectedItem?.data,i.cadeia_valor_processo.cadeia_valor=o.cadeiaValor.selectedEntity,i.cadeia_valor_processo_id=o.form.controls.cadeia_valor_processo_id.value,s=i,o.cdRef.detectChanges()),s})()}saveEndProcesso(e){}onCadeiaChange(e){var i=this;return(0,d.A)(function*(){i.cdRef.detectChanges(),i.loadProcessoCadeiaValor()})()}loadProcessoCadeiaValor(){try{let e=this.form.controls.cadeia_valor_id.value;this.processosDao?.query({where:[["cadeia_valor_id","=",e]]}).asPromise().then(i=>{this.processos=i.map(o=>({key:o.id,value:o.nome,data:o}))})}catch(e){console.error("Error loading processo cadeia valor:",e),this.processos=[]}}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(t.zZn))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["produto-list-processo"]],viewQuery:function(i,o){if(1&i&&(t.GBs(f.Q,5),t.GBs(m._,5),t.GBs(Et,5),t.GBs(It,5)),2&i){let s;t.mGM(s=t.lsd())&&(o.editableForm=s.first),t.mGM(s=t.lsd())&&(o.grid=s.first),t.mGM(s=t.lsd())&&(o.cadeiaValor=s.first),t.mGM(s=t.lsd())&&(o.cadeiaProcesso=s.first)}},inputs:{control:"control",entity:"entity",disabled:"disabled",noPersist:"noPersist",cdRef:"cdRef"},features:[t.Vt3],decls:21,vars:28,consts:[["gridProcessos",""],["titleCadeia",""],["columnCadeia",""],["editCadeia",""],["titleProcesso",""],["columnProcesso",""],["editProcesso",""],["columnNivel",""],["cadeiaValor",""],["cadeiaProcesso",""],["noMargin","","editable","",3,"items","form","selectable","minHeight","join","groupBy","add","remove","save","load","saveEnd","hasDelete","hasEdit","hasAdd"],[3,"titleTemplate","template","editTemplate","verticalAlign","width","align"],["title","N\xedvel",3,"template"],["type","options",4,"ngIf"],[1,"text-center"],[1,"w-100","d-flex","justify-content-center"],["label","","controlName","cadeia_valor_id","required","",3,"change","placeholder","join","where","selectParams","dao"],["fullEntity","","controlName","cadeia_valor_processo_id","controlName","cadeia_valor_processo_id","required","",3,"control","items"],["type","options"]],template:function(i,o){if(1&i&&(t.j41(0,"grid",10,0)(2,"columns")(3,"column",11),t.DNE(4,Tt,4,0,"ng-template",null,1,t.C5r)(6,jt,3,1,"ng-template",null,2,t.C5r)(8,Nt,2,14,"ng-template",null,3,t.C5r),t.k0s(),t.j41(10,"column",11),t.DNE(11,Ot,4,0,"ng-template",null,4,t.C5r)(13,kt,3,1,"ng-template",null,5,t.C5r)(15,At,2,2,"ng-template",null,6,t.C5r),t.k0s(),t.j41(17,"column",12),t.DNE(18,Lt,2,1,"ng-template",null,7,t.C5r),t.k0s(),t.DNE(20,Bt,1,0,"column",13),t.k0s()()),2&i){const s=t.sdS(5),l=t.sdS(7),u=t.sdS(9),c=t.sdS(12),S=t.sdS(14),p=t.sdS(16),g=t.sdS(19);t.Y8G("items",o.items)("form",o.form)("selectable",!1)("minHeight",o.items.length>2?0:300)("join",o.join)("groupBy",o.groupBy)("add",o.addProcesso.bind(o))("remove",o.removeProcesso.bind(o))("save",o.saveProcesso.bind(o))("load",o.loadProcesso.bind(o))("saveEnd",o.saveEndProcesso.bind(o))("hasDelete",!o.disabled)("hasEdit",!o.disabled)("hasAdd",!o.disabled),t.R7$(3),t.Y8G("titleTemplate",s)("template",l)("editTemplate",u)("verticalAlign","middle")("width",300)("align","center"),t.R7$(7),t.Y8G("titleTemplate",c)("template",S)("editTemplate",p)("verticalAlign","middle")("width",300)("align","center"),t.R7$(7),t.Y8G("template",g),t.R7$(3),t.Y8G("ngIf",!o.disabled)}},dependencies:[_.bT,m._,y.T,E.I,v.O,R.K]})}}return n})();var O=r(5099);let Vt=(()=>{class n extends T.F{constructor(e){super("ProdutoInsumo",e),this.injector=e}static{this.\u0275fac=function(i){return new(i||n)(t.KVO(t.zZn))}}static{this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),F=(()=>{class n extends C.C{static{this.ORIGEM_INTERNA="interno"}static{this.ORIGEM_EXTERNA="externo"}constructor(e){super(),this.origem=null,this.produto_id="",this.unidade_id="",this.produto_insumo_id="",this.cliente_id="",this.descricao="",this.initialization(e)}}return n})();const $t=["produtoRelacionado"],Yt=["unidadeInsumo"],Mt=["cliente"],Ut=n=>["id","!=",n],wt=n=>[n],Xt=()=>["gestao","produto"],zt=(n,a)=>({mode:"search-ativos",excludeId:n,unidade_id:a}),Qt=(n,a)=>({route:n,params:a});function Ht(n,a){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&n){const e=a.row,i=t.XpG();t.R7$(),t.JRh(i.lookup.getValue(i.lookup.TIPO_INTERNO_EXTERNO,e.origem))}}function Jt(n,a){if(1&n&&t.nrm(0,"input-select",17,8),2&n){const e=t.XpG();t.Y8G("control",e.form.controls.origem)("items",e.lookup.TIPO_INTERNO_EXTERNO)}}function Kt(n,a){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&n){const e=t.XpG().row;t.R7$(),t.JRh(null==e.unidade?null:e.unidade.sigla)}}function xt(n,a){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&n){const e=t.XpG().row;t.R7$(),t.Lme("",null==e.cliente||null==e.cliente.tipo_cliente?null:e.cliente.tipo_cliente.nome," - ",null==e.cliente?null:e.cliente.nome,"")}}function Wt(n,a){if(1&n&&t.DNE(0,Kt,2,1,"span",18)(1,xt,2,2,"span",18),2&n){const e=a.row,i=t.XpG();t.Y8G("ngIf",i.isInterno(e.origem)),t.R7$(),t.Y8G("ngIf",i.isExterno(e.origem))}}function Zt(n,a){if(1&n&&t.nrm(0,"input-search",21,9),2&n){const e=t.XpG(2);t.Y8G("control",e.form.controls.unidade_insumo_id)("dao",e.unidadeDao),t.BMQ("required",e.isInterno()?"":null)}}function qt(n,a){if(1&n&&t.nrm(0,"input-search",22,10),2&n){const e=t.XpG(2);t.Y8G("control",e.form.controls.cliente_id)("dao",e.clienteDao),t.BMQ("required",e.isExterno()?"":null)}}function te(n,a){if(1&n&&t.DNE(0,Zt,2,3,"input-search",19)(1,qt,2,3,"input-search",20),2&n){const e=t.XpG();t.Y8G("ngIf",e.isInterno()),t.R7$(),t.Y8G("ngIf",e.isExterno())}}function ee(n,a){1&n&&(t.j41(0,"span")(1,"strong"),t.EFF(2,"Insumo"),t.k0s()())}function oe(n,a){if(1&n&&(t.j41(0,"p"),t.EFF(1),t.k0s()),2&n){const e=t.XpG().row;t.R7$(),t.JRh(null==e.produto_relacionado?null:e.produto_relacionado.nome)}}function ie(n,a){if(1&n&&(t.j41(0,"p"),t.EFF(1),t.k0s()),2&n){const e=t.XpG().row;t.R7$(),t.JRh(e.descricao)}}function ne(n,a){if(1&n&&t.DNE(0,oe,2,1,"p",18)(1,ie,2,1,"p",18),2&n){const e=a.row,i=t.XpG();t.Y8G("ngIf",i.isInterno(e.origem)),t.R7$(),t.Y8G("ngIf",i.isExterno(e.origem))}}function se(n,a){if(1&n&&t.nrm(0,"input-search",25,11),2&n){const e=t.XpG(2);t.Y8G("control",e.form.controls.produto_insumo_id)("dao",e.produtoDao)("where",t.eq3(7,wt,t.eq3(5,Ut,null==e.entity?null:e.entity.id)))("selectRoute",t.l_i(13,Qt,t.lJ4(9,Xt),t.l_i(10,zt,null==e.entity?null:e.entity.id,e.form.controls.unidade_insumo_id.value))),t.BMQ("required",e.isInterno()?"":null)}}function ae(n,a){if(1&n&&t.nrm(0,"input-text",26),2&n){const e=t.XpG(2);t.Y8G("size",6)("control",e.form.controls.descricao)("maxLength",1e3),t.BMQ("required",e.isExterno()?"":null)}}function le(n,a){if(1&n&&t.DNE(0,se,2,16,"input-search",23)(1,ae,1,4,"input-text",24),2&n){const e=t.XpG();t.Y8G("ngIf",e.isInterno()),t.R7$(),t.Y8G("ngIf",e.isExterno())}}let M=(()=>{class n extends D.g{set control(e){super.control=e}get control(){return super.control}set entity(e){super.entity=e}get entity(){return super.entity}set disabled(e){this._disabled!=e&&(this._disabled=e)}get disabled(){return this._disabled}set noPersist(e){super.noPersist=e}get noPersist(){return super.noPersist}get items(){return this.gridControl.value||this.gridControl.setValue(new F),this.gridControl.value.produto_insumos||(this.gridControl.value.produto_insumos=[]),this.gridControl.value.produto_insumos}constructor(e){super(e),this.injector=e,this._disabled=!1,this.clientes=[],this.dao=e.get(Vt),this.produtoDao=e.get(h.L),this.unidadeDao=e.get(b.s),this.clienteDao=e.get(O.K),this.cdRef=e.get(t.gRc),this.form=this.fh.FormBuilder({origem:{default:"interna"},unidade_insumo_id:{default:null},produto_insumo_id:{default:null},cliente_id:{default:null},descricao:{default:""}},this.cdRef),this.join=["produtoInsumos.produtoRelacionado","produtoInsumos.unidade","produtoInsumos.cliente","produtoInsumos.cliente.tipoCliente"]}addInsumo(){var e=this;return(0,d.A)(function*(){return Object.assign(new F,{_status:"ADD",id:e.dao.generateUuid(),origem:"interna",unidade_insumo_id:"",produto_insumo_id:"",cliente_id:"",descricao:""})})()}loadInsumo(e,i){return(0,d.A)(function*(){let o=i;"ADD"!=o._status&&(e.controls.origem.setValue(o.origem),e.controls.unidade_insumo_id.setValue(o.unidade_id),e.controls.produto_insumo_id.setValue(o.produto_insumo_id),e.controls.cliente_id.setValue(o.cliente_id),e.controls.descricao.setValue(o.descricao))})()}removeInsumo(e){var i=this;return(0,d.A)(function*(){if(yield i.dialog.confirm("Excluir?","Deseja realmente excluir?")){i.loading=!0;try{i.isNoPersist?Object.assign(e,{_status:"DELETE"}):yield i.dao?.delete(e.id)}finally{i.loading=!1}return!i.isNoPersist}return!1})()}saveInsumo(e,i){var o=this;return(0,d.A)(function*(){let s;if(o.form.markAllAsTouched(),o.form.valid){if(i.id="NEW"==i.id?o.dao.generateUuid():i.id,i.origem=o.form.controls.origem.value,i.origem==F.ORIGEM_INTERNA)i.unidade_id=o.form.controls.unidade_insumo_id.value,i.unidade=o.unidade?.selectedEntity,i.produto_insumo_id=o.form.controls.produto_insumo_id.value,i.produto_relacionado=o.produtoRelacionado?.selectedEntity,i.cliente_id=null,i.cliente=null,i.descricao=null;else{i.unidade_id=null,i.unidade=null,i.produto_insumo_id=null,i.produto_relacionado=null,i.cliente_id=o.form.controls.cliente_id.value,i.cliente=o.cliente?.selectedEntity,i.descricao=o.form.controls.descricao.value;const l=yield o.clienteDao?.getById(i.cliente_id,["tipoCliente"]);i.cliente.tipo_cliente=l?.tipo_cliente}s=i,o.cdRef.detectChanges()}return s})()}dynamicButtons(e){let i=[];return this.isInterno(e.origem)&&i.push({label:"Detalhes",icon:"bi bi-eye",color:"btn-outline-success",onClick:this.showInsumo.bind(this)}),i}showInsumo(e){var i=this;return(0,d.A)(function*(){i.go.navigate({route:["gestao","produto",e.produto_insumo_id,"show"]},{})})()}isInterno(e=null){return(e??this.form.controls.origem.value)===F.ORIGEM_INTERNA}isExterno(e=null){return(e??this.form.controls.origem.value)===F.ORIGEM_EXTERNA}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(t.zZn))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["produto-list-insumo"]],viewQuery:function(i,o){if(1&i&&(t.GBs(f.Q,5),t.GBs(m._,5),t.GBs($t,5),t.GBs(Yt,5),t.GBs(Mt,5)),2&i){let s;t.mGM(s=t.lsd())&&(o.editableForm=s.first),t.mGM(s=t.lsd())&&(o.grid=s.first),t.mGM(s=t.lsd())&&(o.produtoRelacionado=s.first),t.mGM(s=t.lsd())&&(o.unidade=s.first),t.mGM(s=t.lsd())&&(o.cliente=s.first)}},inputs:{control:"control",entity:"entity",disabled:"disabled",noPersist:"noPersist",cdRef:"cdRef"},features:[t.Vt3],decls:21,vars:24,consts:[["gridProdutos",""],["columnOrigem",""],["editOrigem",""],["columnFornecedor",""],["editFornecedor",""],["titleInsumo",""],["columnInsumo",""],["editInsumo",""],["origem",""],["unidadeInsumo",""],["cliente",""],["produtoRelacionado",""],["noMargin","","editable","",3,"items","form","selectable","minHeight","join","groupBy","add","remove","save","load","hasDelete","hasEdit","hasAdd"],["title","Origem",3,"template","editTemplate","minWidth"],["title","Fornecedor",3,"template","editTemplate","minWidth"],[3,"titleTemplate","template","editTemplate","minWidth"],["type","options",3,"dynamicButtons"],["fullEntity","","required","","controlName","origem",3,"control","items"],[4,"ngIf"],["fullEntity","","label","","placeholder","Unidade","controlName","unidade_insumo_id",3,"control","dao",4,"ngIf"],["fullEntity","","label","","placeholder","Fornecedor","controlName","cliente_id",3,"control","dao",4,"ngIf"],["fullEntity","","label","","placeholder","Unidade","controlName","unidade_insumo_id",3,"control","dao"],["fullEntity","","label","","placeholder","Fornecedor","controlName","cliente_id",3,"control","dao"],["fullEntity","","label","","placeholder","Produto ou Servi\xe7o","controlName","produto_insumo_id",3,"control","dao","where","selectRoute",4,"ngIf"],["controlName","descricao","placeholder","Descri\xe7\xe3o",3,"size","control","maxLength",4,"ngIf"],["fullEntity","","label","","placeholder","Produto ou Servi\xe7o","controlName","produto_insumo_id",3,"control","dao","where","selectRoute"],["controlName","descricao","placeholder","Descri\xe7\xe3o",3,"size","control","maxLength"]],template:function(i,o){if(1&i&&(t.j41(0,"grid",12,0)(2,"columns")(3,"column",13),t.DNE(4,Ht,2,1,"ng-template",null,1,t.C5r)(6,Jt,2,2,"ng-template",null,2,t.C5r),t.k0s(),t.j41(8,"column",14),t.DNE(9,Wt,2,2,"ng-template",null,3,t.C5r)(11,te,2,2,"ng-template",null,4,t.C5r),t.k0s(),t.j41(13,"column",15),t.DNE(14,ee,3,0,"ng-template",null,5,t.C5r)(16,ne,2,2,"ng-template",null,6,t.C5r)(18,le,2,2,"ng-template",null,7,t.C5r),t.k0s(),t.nrm(20,"column",16),t.k0s()()),2&i){const s=t.sdS(5),l=t.sdS(7),u=t.sdS(10),c=t.sdS(12),S=t.sdS(15),p=t.sdS(17),g=t.sdS(19);t.Y8G("items",o.items)("form",o.form)("selectable",!1)("minHeight",o.items.length>2?0:300)("join",o.join)("groupBy",o.groupBy)("add",o.addInsumo.bind(o))("remove",o.removeInsumo.bind(o))("save",o.saveInsumo.bind(o))("load",o.loadInsumo.bind(o))("hasDelete",!o.disabled)("hasEdit",!o.disabled)("hasAdd",!o.disabled),t.R7$(3),t.Y8G("template",s)("editTemplate",l)("minWidth",100),t.R7$(5),t.Y8G("template",u)("editTemplate",c)("minWidth",300),t.R7$(5),t.Y8G("titleTemplate",S)("template",p)("editTemplate",g)("minWidth",300),t.R7$(7),t.Y8G("dynamicButtons",o.dynamicButtons.bind(o))}},dependencies:[_.bT,m._,y.T,E.I,v.O,N.H,R.K]})}}return n})(),re=(()=>{class n extends T.F{constructor(e){super("ProdutoCliente",e),this.injector=e}static{this.\u0275fac=function(i){return new(i||n)(t.KVO(t.zZn))}}static{this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var de=r(5492);class U extends C.C{constructor(a){super(),this.produto_id="",this.cliente_id="",this.initialization(a)}}var ue=r(2096);const ce=["tipoCliente"],me=["cliente"],pe=["unidade_relacionada"],_e=n=>["tipo_cliente_id","==",n],fe=n=>[n];function he(n,a){1&n&&(t.j41(0,"div",10)(1,"span")(2,"strong"),t.EFF(3,"Cliente"),t.k0s()()())}function ge(n,a){if(1&n&&(t.j41(0,"div",11)(1,"small"),t.EFF(2),t.k0s()()),2&n){const e=a.row;t.R7$(2),t.Lme("",null==e.cliente.tipo_cliente?null:e.cliente.tipo_cliente.nome," - ",e.cliente.nome,"")}}function ve(n,a){if(1&n&&t.nrm(0,"input-search",17,5),2&n){const e=t.XpG(2);t.Y8G("dao",e.unidadeDao)}}function be(n,a){if(1&n&&t.nrm(0,"input-select",18,6),2&n){const e=t.XpG(2);t.Y8G("dao",e.clienteDao)("where",t.eq3(4,fe,t.eq3(2,_e,e.form.controls.tipo_cliente_id.value)))}}function Ce(n,a){if(1&n&&(t.j41(0,"div",12)(1,"div",13),t.nrm(2,"input-select",14,4),t.k0s(),t.j41(4,"div",13),t.DNE(5,ve,2,1,"input-search",15)(6,be,2,6,"input-select",16),t.k0s()()),2&n){const e=t.sdS(3),i=t.XpG();t.R7$(2),t.Y8G("dao",i.tipoClienteDao),t.R7$(3),t.Y8G("ngIf","Unidade de \xf3rg\xe3o/entidade"==(null==e.selectedItem?null:e.selectedItem.value)),t.R7$(),t.Y8G("ngIf","Unidade de \xf3rg\xe3o/entidade"!=(null==e.selectedItem?null:e.selectedItem.value))}}let Pe=(()=>{class n extends D.g{set control(e){super.control=e}get control(){return super.control}set entity(e){super.entity=e}get entity(){return super.entity}set disabled(e){this._disabled!=e&&(this._disabled=e)}get disabled(){return this._disabled}set noPersist(e){super.noPersist=e}get noPersist(){return super.noPersist}get items(){return this.gridControl.value||this.gridControl.setValue(new U),this.gridControl.value.produto_cliente||(this.gridControl.value.produto_cliente=[]),this.gridControl.value.produto_cliente}constructor(e){super(e),this.injector=e,this._disabled=!1,this.dao=e.get(re),this.produtoDao=e.get(h.L),this.clienteDao=e.get(O.K),this.tipoClienteDao=e.get(de.E),this.unidadeDao=e.get(b.s),this.cdRef=e.get(t.gRc),this.form=this.fh.FormBuilder({cliente_relacionado_id:{default:""},tipo_cliente_id:{default:""},unidade_relacionada_id:{default:""}},this.cdRef,void 0),this.join=["produtoCliente.cliente.tipoCliente"]}addCliente(){var e=this;return(0,d.A)(function*(){return Object.assign(new U,{_status:"ADD",id:e.dao.generateUuid(),cliente_relacionado_id:""})})()}loadCliente(e,i){return(0,d.A)(function*(){let o=i;"ADD"!=o._status&&(e.controls.cliente_relacionado_id.setValue(o.cliente_id),e.controls.tipo_cliente_id.setValue(o.cliente?.tipo_cliente_id),e.controls.unidade_relacionada_id.setValue(o.cliente?.unidade_id))})()}removeCliente(e){var i=this;return(0,d.A)(function*(){if(yield i.dialog.confirm("Exclui ?","Deseja realmente excluir?")){i.loading=!0;try{i.isNoPersist?Object.assign(e,{_status:"DELETE"}):yield i.dao?.delete(e.id)}finally{i.loading=!1}return!i.isNoPersist}return!1})()}saveCliente(e,i){var o=this;return(0,d.A)(function*(){if(o.entity._metadata=o.entity._metadata||{},o.entity._metadata.produtoCliente=i,o.form.valid){if(i.id="NEW"==i.id?o.dao.generateUuid():i.id,"Unidade de \xf3rg\xe3o/entidade"!=o.tipoCliente?.selectedItem?.value)i.cliente_id=o.form.controls.cliente_relacionado_id.value,i.cliente={...o.cliente.selectedItem,tipo_cliente_id:o.tipoCliente.selectedItem.key,nome:o.cliente.selectedItem.value,tipo_cliente:{nome:o.tipoCliente.selectedItem.value}};else if("Unidade de \xf3rg\xe3o/entidade"==o.tipoCliente?.selectedItem?.value){const l=(yield o.clienteDao?.query({where:[["unidade_id","==",o.form.controls.unidade_relacionada_id.value]],join:["tipoCliente"]}).asPromise())||[];if(l&&l.length>0)i.cliente_id=l[0].id,i.cliente=l[0];else{const u=new ue.t;u.id=o.clienteDao.generateUuid(),u.unidade_id=o.form.controls.unidade_relacionada_id.value,u.nome=o.unidade_relacionada?.selectedEntity?.nome,u.tipo_cliente_id=o.tipoCliente?.selectedItem?.key;const c=yield o.clienteDao?.save(u,["tipoCliente"]);c&&(i.cliente_id=c.id,i.unidade_id=c.unidade_id,i.cliente=c)}}o.entity._metadata.produtoCliente.cliente=i.cliente,o.cdRef.detectChanges()}return o.entity._metadata.produtoCliente})()}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(t.zZn))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["produto-list-cliente"]],viewQuery:function(i,o){if(1&i&&(t.GBs(f.Q,5),t.GBs(m._,5),t.GBs(ce,5),t.GBs(me,5),t.GBs(pe,5)),2&i){let s;t.mGM(s=t.lsd())&&(o.editableForm=s.first),t.mGM(s=t.lsd())&&(o.grid=s.first),t.mGM(s=t.lsd())&&(o.tipoCliente=s.first),t.mGM(s=t.lsd())&&(o.cliente=s.first),t.mGM(s=t.lsd())&&(o.unidade_relacionada=s.first)}},inputs:{control:"control",entity:"entity",disabled:"disabled",noPersist:"noPersist",cdRef:"cdRef"},features:[t.Vt3],decls:11,vars:19,consts:[["gridClientes",""],["titleCliente",""],["columnCliente",""],["editCliente",""],["tipoCliente",""],["unidade_relacionada",""],["cliente",""],["noMargin","","editable","",3,"items","form","selectable","minHeight","join","groupBy","add","remove","save","load","hasDelete","hasEdit","hasAdd"],[3,"titleTemplate","template","editTemplate","verticalAlign","width","align"],["type","options"],[1,"text-left"],[1,"w-100"],[1,"row"],[1,"col-6"],["label","Tipo do cliente","controlName","tipo_cliente_id","required","",3,"dao"],["label","Unidade","controlName","unidade_relacionada_id",3,"dao",4,"ngIf"],["label","Cliente","controlName","cliente_relacionado_id",3,"dao","where",4,"ngIf"],["label","Unidade","controlName","unidade_relacionada_id",3,"dao"],["label","Cliente","controlName","cliente_relacionado_id",3,"dao","where"]],template:function(i,o){if(1&i&&(t.j41(0,"grid",7,0)(2,"columns")(3,"column",8),t.DNE(4,he,4,0,"ng-template",null,1,t.C5r)(6,ge,3,2,"ng-template",null,2,t.C5r)(8,Ce,7,3,"ng-template",null,3,t.C5r),t.k0s(),t.nrm(10,"column",9),t.k0s()()),2&i){const s=t.sdS(5),l=t.sdS(7),u=t.sdS(9);t.Y8G("items",o.items)("form",o.form)("selectable",!1)("minHeight",o.items.length>2?0:300)("join",o.join)("groupBy",o.groupBy)("add",o.addCliente.bind(o))("remove",o.removeCliente.bind(o))("save",o.saveCliente.bind(o))("load",o.loadCliente.bind(o))("hasDelete",!0)("hasEdit",!0)("hasAdd",!0),t.R7$(3),t.Y8G("titleTemplate",s)("template",l)("editTemplate",u)("verticalAlign","middle")("width",300)("align","left")}},dependencies:[_.bT,m._,y.T,E.I,v.O,R.K]})}}return n})(),ye=(()=>{class n extends T.F{constructor(e){super("ProdutoSolucao",e),this.injector=e}static{this.\u0275fac=function(i){return new(i||n)(t.KVO(t.zZn))}}static{this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Ee=r(7682),Ie=r(9175),Ge=r(9492);class w extends C.C{constructor(a){super(),this.produto_id="",this.solucao_id="",this.initialization(a)}}const Re=["solucao"],De=()=>["gestao","solucao"],Fe=()=>({mode:"search"}),Se=(n,a)=>({route:n,params:a});function Te(n,a){1&n&&(t.j41(0,"div",8)(1,"span")(2,"strong"),t.EFF(3,"Solu\xe7\xe3o"),t.k0s()()())}function je(n,a){if(1&n&&(t.j41(0,"div",9)(1,"p"),t.EFF(2),t.k0s()()),2&n){const e=a.row;t.R7$(2),t.JRh(e.solucao.nome)}}function Ne(n,a){if(1&n&&t.nrm(0,"input-search",10,4),2&n){const e=t.XpG();t.Y8G("placeholder","Selecione a solu\xe7\xe3o")("dao",e.solucaoDao)("selectRoute",t.l_i(5,Se,t.lJ4(3,De),t.lJ4(4,Fe)))}}let X=(()=>{class n extends D.g{set control(e){super.control=e}get control(){return super.control}set entity(e){super.entity=e}get entity(){return super.entity}set disabled(e){this._disabled!=e&&(this._disabled=e)}get disabled(){return this._disabled}set noPersist(e){super.noPersist=e}get noPersist(){return super.noPersist}get items(){return this.gridControl.value||this.gridControl.setValue(new w),this.gridControl.value.produto_solucoes||(this.gridControl.value.produto_solucoes=[]),this.gridControl.value.produto_solucoes}constructor(e){var i;super(e),i=this,this.injector=e,this._disabled=!1,this.asyncValidate=function(){var o=(0,d.A)(function*(s,l){let u=null;if(["solucao_id"].indexOf(l)>=0)if(s.value?.length)if(i.items.some(p=>p.solucao_id===s.value))u="Solu\xe7\xe3o j\xe1 inserida neste Produto";else try{yield i.solucaoDao?.getById(s.value);var c=new Ee.l({where:[["id_solucao","==",s.value],["id_unidade","==",i.auth?.unidade?.id]]});const g=yield i.solucaoUnidadeDao?.query(c).asPromise();(!g||!g[0]||!g[0].status)&&(u="Solu\xe7\xe3o inativa n\xe3o pode ser usada")}catch{u="Erro ao verificar a Solu\xe7\xe3o"}else u="Obrigat\xf3rio";return u});return function(s,l){return o.apply(this,arguments)}}(),this.dao=e.get(ye),this.produtoDao=e.get(h.L),this.solucaoDao=e.get(Ie.Y),this.solucaoUnidadeDao=e.get(Ge.k),this.cdRef=e.get(t.gRc),this.form=this.fh.FormBuilder({solucao_id:{default:"",async:!0}},this.cdRef,void 0,this.asyncValidate),this.join=["produtoSolucao.solucao"]}addSolucao(){var e=this;return(0,d.A)(function*(){return Object.assign(new w,{_status:"ADD",id:e.dao.generateUuid(),solucao_id:""})})()}loadSolucao(e,i){return(0,d.A)(function*(){"ADD"!=i._status&&e.controls.solucao_id.setValue(i.solucao_id)})()}removeSolucao(e){var i=this;return(0,d.A)(function*(){if(yield i.dialog.confirm("Excluir?","Deseja realmente excluir a Solu\xe7\xe3o?")){i.loading=!0;try{i.isNoPersist?Object.assign(e,{_status:"DELETE"}):yield i.dao?.delete(e.id)}finally{i.loading=!1}return!i.isNoPersist}return!1})()}saveSolucao(e,i){var o=this;return(0,d.A)(function*(){let s;return o.form.markAllAsTouched(),o.form.valid&&(i.id="NEW"==i.id?o.dao.generateUuid():i.id,i.solucao_id=o.form.controls.solucao_id.value,i.solucao=o.solucao.selectedEntity,s=i,o.cdRef.detectChanges()),s})()}dynamicButtons(e){let i=[];return i.push({label:"Detalhes",icon:"bi bi-eye",color:"btn-outline-success",onClick:this.showSolucao.bind(this)}),i}showSolucao(e){var i=this;return(0,d.A)(function*(){i.go.navigate({route:["gestao","solucao",e.solucao_id,"consult"]},{})})()}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(t.zZn))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["produto-list-solucao"]],viewQuery:function(i,o){if(1&i&&(t.GBs(f.Q,5),t.GBs(m._,5),t.GBs(Re,5)),2&i){let s;t.mGM(s=t.lsd())&&(o.editableForm=s.first),t.mGM(s=t.lsd())&&(o.grid=s.first),t.mGM(s=t.lsd())&&(o.solucao=s.first)}},inputs:{control:"control",entity:"entity",disabled:"disabled",noPersist:"noPersist",cdRef:"cdRef"},features:[t.Vt3],decls:11,vars:20,consts:[["gridSolucoes",""],["titleSolucao",""],["columnSolucao",""],["editSolucao",""],["solucao",""],["noMargin","","editable","",3,"items","form","selectable","minHeight","join","groupBy","add","remove","save","load","hasDelete","hasEdit","hasAdd"],[3,"titleTemplate","template","editTemplate","verticalAlign","width","align"],["type","options",3,"dynamicButtons"],[1,"text-center"],[1,"w-100","d-flex","justify-content-center"],["label","","required","","controlName","solucao_id",3,"placeholder","dao","selectRoute"]],template:function(i,o){if(1&i&&(t.j41(0,"grid",5,0)(2,"columns")(3,"column",6),t.DNE(4,Te,4,0,"ng-template",null,1,t.C5r)(6,je,3,1,"ng-template",null,2,t.C5r)(8,Ne,2,8,"ng-template",null,3,t.C5r),t.k0s(),t.nrm(10,"column",7),t.k0s()()),2&i){const s=t.sdS(5),l=t.sdS(7),u=t.sdS(9);t.Y8G("items",o.items)("form",o.form)("selectable",!1)("minHeight",o.items.length>2?0:300)("join",o.join)("groupBy",o.groupBy)("add",o.addSolucao.bind(o))("remove",o.removeSolucao.bind(o))("save",o.saveSolucao.bind(o))("load",o.loadSolucao.bind(o))("hasDelete",!o.disabled)("hasEdit",!o.disabled)("hasAdd",!o.disabled),t.R7$(3),t.Y8G("titleTemplate",s)("template",l)("editTemplate",u)("verticalAlign","middle")("width",300)("align","center"),t.R7$(7),t.Y8G("dynamicButtons",o.dynamicButtons.bind(o))}},dependencies:[m._,y.T,E.I,v.O]})}}return n})();const Oe=["unidade"],ke=["usuario"];let z=(()=>{class n extends vt.n{constructor(e){super(e,P,h.L),this.injector=e,this.campoDesabilitado=!1,this.validate=(i,o)=>null,this.unidadeDao=e.get(b.s),this.usuarioDao=e.get(L._),this.join=["produtoProcessoCadeiaValor.cadeiaValorProcesso.cadeiaValor","produtoInsumos.produtoRelacionado","produtoInsumos.produtoRelacionado.unidade","produtoInsumos.unidade","produtoInsumos.cliente.tipoCliente:nome","produtoCliente.cliente.tipoCliente:nome","produtoSolucoes.solucao"],this.form=this.fh.FormBuilder({nome:{default:""},nome_fantasia:{default:""},descricao:{default:""},url:{default:""},tipo:{default:""},produto_processo_cadeia_valor:{default:[]},produto_insumos:{default:[]},produto_cliente:{default:[]},produto_solucoes:{default:[]},solucao:{default:[]}},this.cdRef,this.validate)}loadData(e,i){var o=this;return(0,d.A)(function*(){let s=Object.assign({},i.value);yield Promise.all([o.usuario?.loadSearch(e.responsavel||e.responsavel_id||o.auth.usuario.id)]),o.campoDesabilitado=e._metadata?.vinculoEntregas>=1,i.patchValue(o.util.fillForm(s,e))})()}initializeData(e){var i=this;return(0,d.A)(function*(){e.patchValue(new P),i.entity=new P,yield i.loadData(i.entity,i.form)})()}saveData(e){return new Promise((i,o)=>{const s=this.util.fill(new P,this.entity);i(this.util.fillForm(s,this.form.value))})}onUsuarioSelect(e){let i=this.usuario?.selectedEntity;this.entity.responsavel_id=i.id,this.entity.responsavel=i}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(t.zZn))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-produto-form"]],viewQuery:function(i,o){if(1&i&&(t.GBs(f.Q,5),t.GBs(Oe,5),t.GBs(ke,5)),2&i){let s;t.mGM(s=t.lsd())&&(o.editableForm=s.first),t.mGM(s=t.lsd())&&(o.unidade=s.first),t.mGM(s=t.lsd())&&(o.usuario=s.first)}},features:[t.Vt3],decls:24,vars:27,consts:[["clientes",""],["solucoes",""],["processos",""],["insumos",""],["initialFocus","nome",3,"submit","cancel","form","disabled","title"],[1,"row"],["label","Nome do produto ou servi\xe7o","icon","bi bi-textarea-t","controlName","nome","required","","labelInfo","Nome formal do produto ou servi\xe7o. Ex: Programa de Gest\xe3o e Desempenho",3,"size","disabled","control"],["label","Sigla/Nome fantasia","icon","bi bi-textarea-t","controlName","nome_fantasia","labelInfo","Nome informal do produto ou servi\xe7o. Ex: PGD",3,"size","disabled","control"],["label","Tipo","icon","bi bi-arrow-up-right-circle","controlName","tipo","required","",3,"size","disabled","items"],["required","","label","URL","icon","bi bi-textarea-t","controlName","url","labelInfo","P\xe1gina oficial do produto ou servi\xe7o",3,"size","control"],["label","Descri\xe7\xe3o","required","",3,"control"],[1,"row","abas"],["key","CLIENTES","label","Clientes"],["noPersist","",3,"disabled","entity"],["key","SOLUCOES","label","Solu\xe7\xf5es"],["key","PROCESSOS","label","Processos (cadeia de valor)"],["key","INSUMOS","label","Insumos"]],template:function(i,o){if(1&i){const s=t.RV6();t.j41(0,"editable-form",4),t.bIt("submit",function(){return t.eBV(s),t.Njj(o.onSaveData())})("cancel",function(){return t.eBV(s),t.Njj(o.onCancel())}),t.j41(1,"div",5)(2,"div",5),t.nrm(3,"input-text",6)(4,"input-text",7),t.k0s(),t.j41(5,"div",5),t.nrm(6,"input-select",8)(7,"input-text",9),t.k0s(),t.j41(8,"div",5),t.nrm(9,"input-textarea",10),t.k0s(),t.j41(10,"div",11)(11,"tabs")(12,"tab",12),t.nrm(13,"produto-list-cliente",13,0),t.k0s(),t.j41(15,"tab",14),t.nrm(16,"produto-list-solucao",13,1),t.k0s(),t.j41(18,"tab",15),t.nrm(19,"produto-list-processo",13,2),t.k0s(),t.j41(21,"tab",16),t.nrm(22,"produto-list-insumo",13,3),t.k0s()()()()()}2&i&&(t.Y8G("form",o.form)("disabled",o.formDisabled)("title",o.isModal?"":o.title),t.R7$(3),t.Y8G("size",6)("disabled",o.campoDesabilitado?"true":void 0)("control",o.form.controls.nome),t.BMQ("maxlength",250),t.R7$(),t.Y8G("size",6)("disabled",o.campoDesabilitado?"true":void 0)("control",o.form.controls.nome_fantasia),t.BMQ("maxlength",250),t.R7$(2),t.Y8G("size",4)("disabled",o.campoDesabilitado?"true":void 0)("items",o.lookup.TIPO_PRODUTO),t.R7$(),t.Y8G("size",8)("control",o.form.controls.url),t.BMQ("maxlength",250),t.R7$(2),t.Y8G("control",o.form.controls.descricao),t.BMQ("maxlength",250),t.R7$(4),t.Y8G("disabled",o.formDisabled)("entity",o.entity),t.R7$(3),t.Y8G("disabled",o.formDisabled)("entity",o.entity),t.R7$(3),t.Y8G("disabled",o.formDisabled)("entity",o.entity),t.R7$(3),t.Y8G("disabled",o.formDisabled)("entity",o.entity))},dependencies:[f.Q,N.H,bt.S,R.K,B.O,V.j,Y,M,Pe,X],styles:[".abas[_ngcontent-%COMP%]{margin-top:15px}"]})}}return n})();var Ae=r(4468);function Le(n,a){1&n&&(t.j41(0,"div",5),t.nrm(1,"span",6),t.k0s())}function Be(n,a){if(1&n&&(t.j41(0,"div",10)(1,"small",11),t.EFF(2,"Criado em"),t.k0s(),t.j41(3,"b"),t.EFF(4),t.k0s()()),2&n){const e=t.XpG(2);t.R7$(4),t.JRh(e.formatDate(e.produto.created_at))}}function Ve(n,a){if(1&n&&(t.j41(0,"div",10)(1,"small",11),t.EFF(2,"Ativado em"),t.k0s(),t.j41(3,"b"),t.EFF(4),t.k0s()()),2&n){const e=t.XpG(2);t.R7$(4),t.JRh(e.formatDate(e.produto.data_ativado))}}function $e(n,a){if(1&n&&(t.j41(0,"div",10)(1,"small",11),t.EFF(2,"Desativado em"),t.k0s(),t.j41(3,"b"),t.EFF(4),t.k0s()()),2&n){const e=t.XpG(2);t.R7$(4),t.JRh(e.formatDate(e.produto.data_desativado))}}function Ye(n,a){if(1&n&&(t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s()()),2&n){const e=a.$implicit;t.R7$(2),t.JRh(null==e.cliente||null==e.cliente.tipo_cliente?null:e.cliente.tipo_cliente.nome),t.R7$(2),t.JRh(null==e.cliente?null:e.cliente.nome)}}function Me(n,a){if(1&n&&(t.qex(0),t.j41(1,"div",7)(2,"div")(3,"h4"),t.EFF(4),t.j41(5,"b"),t.EFF(6),t.k0s(),t.EFF(7),t.k0s()()(),t.j41(8,"div",8)(9,"div",9)(10,"div",10)(11,"small",11),t.EFF(12,"Descri\xe7\xe3o"),t.k0s(),t.j41(13,"b"),t.EFF(14),t.k0s()(),t.j41(15,"div",10)(16,"small",11),t.EFF(17,"Unidade"),t.k0s(),t.j41(18,"b"),t.EFF(19),t.k0s()(),t.DNE(20,Be,5,1,"div",12)(21,Ve,5,1,"div",12)(22,$e,5,1,"div",12),t.k0s()(),t.j41(23,"tabs")(24,"tab",13)(25,"table",14)(26,"thead")(27,"tr")(28,"th",15),t.EFF(29,"Tipo de cliente"),t.k0s(),t.j41(30,"th",15),t.EFF(31,"Cliente"),t.k0s()()(),t.j41(32,"tbody"),t.DNE(33,Ye,5,2,"tr",16),t.k0s()()(),t.j41(34,"tab",17),t.nrm(35,"produto-list-solucao",18,0),t.k0s(),t.j41(37,"tab",19),t.nrm(38,"produto-list-processo",18,1),t.k0s(),t.j41(40,"tab",20),t.nrm(41,"produto-list-insumo",18,2),t.k0s()(),t.bVm()),2&n){const e=t.XpG();t.R7$(4),t.SpI("ID #",e.produto.identificador," - "),t.R7$(2),t.JRh(e.produto.nome),t.R7$(),t.SpI(" - ",e.produto.nome_fantasia,""),t.R7$(7),t.JRh(e.produto.descricao),t.R7$(5),t.JRh(null==e.produto.unidade?null:e.produto.unidade.sigla),t.R7$(),t.Y8G("ngIf",!e.produto.data_ativado&&!e.produto.data_desativado),t.R7$(),t.Y8G("ngIf",e.produto.data_ativado&&!e.produto.data_desativado),t.R7$(),t.Y8G("ngIf",e.produto.data_desativado&&!e.produto.data_ativado),t.R7$(11),t.Y8G("ngForOf",e.produto.produto_cliente),t.R7$(2),t.Y8G("disabled",!0)("entity",e.produto),t.R7$(3),t.Y8G("disabled",!0)("entity",e.produto),t.R7$(3),t.Y8G("disabled",!0)("entity",e.produto)}}let Ue=(()=>{class n extends Ae.V{constructor(e){super(e),this.injector=e,this.produtoDaoService=e.get(h.L),this.loading=!0}ngOnInit(){super.ngOnInit(),this.carregaProdutoDetalhado()}carregaProdutoDetalhado(){var e=this;return(0,d.A)(function*(){e.produto=yield e.produtoDaoService.getById(e.urlParams.get("id")||"",["produtoProcessoCadeiaValor.cadeiaValorProcesso.cadeiaValor.unidade","produtoInsumos.produtoRelacionado.unidade","produtoInsumos.unidade","produtoInsumos.cliente","produtoInsumos.cliente.tipoCliente:nome","responsavel","unidade","produtoCliente.cliente.tipoCliente","produtoSolucoes.solucao"]),e.loading=!1})()}formatDate(e){return null==e?"":`${e.getDate().toString().padStart(2,"0")}/${(e.getMonth()+1).toString().padStart(2,"0")}/${e.getFullYear()} ${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}:${e.getSeconds().toString().padStart(2,"0")}`}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(t.zZn))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["produto-show"]],features:[t.Vt3],decls:2,vars:2,consts:[["solucoes",""],["processos",""],["insumos",""],["class","spinner-border","role","status",4,"ngIf"],[4,"ngIf"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[1,"bg-dark-subtle","d-flex","p-2","px-4"],[1,"bg-body-secondary","p-3","mb-4"],[1,"row"],[1,"col-md-3"],[1,"d-block","text-muted"],["class","col-md-3",4,"ngIf"],["key","CLIENTES","label","Clientes"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["key","SOLUCAO","label","Solu\xe7\xf5es"],["noPersist","",3,"disabled","entity"],["key","PROCESSOS","label","Processos (cadeias de valor)"],["key","PRODUTOS","label","Insumos"]],template:function(i,o){1&i&&t.DNE(0,Le,2,0,"div",3)(1,Me,43,15,"ng-container",4),2&i&&(t.Y8G("ngIf",o.loading),t.R7$(),t.Y8G("ngIf",o.produto))},dependencies:[_.Sq,_.bT,B.O,V.j,Y,M,X],styles:["th[_ngcontent-%COMP%]{font-weight:700}"]})}}return n})();var we=r(568);function Xe(n,a){if(1&n&&t.nrm(0,"input-select",8),2&n){const e=t.XpG();t.Y8G("size",12)("items",e.lookup.TIPO_ATIVO_INATIVO)("control",e.form.controls.status)}}let ze=(()=>{class n extends D.g{constructor(e){super(e),this.injector=e,this.enableStatus=!0,this.lookup=e.get(we.s),this.usuarioDao=e.get(L._),this.unidadeDao=e.get(b.s),this.clienteDao=e.get(O.K),this.modalWidth=500,this.form=this.fh.FormBuilder({id:{default:""},nome:{default:""},status:{default:""},unidade_id:{default:""},cliente_id:{default:""}},this.cdRef)}ngOnInit(){super.ngOnInit(),this.snapshot=this.snapshot||this.modalRoute||this.route.snapshot,this.urlParams=this.snapshot.paramMap,this.queryParams=this.go.decodeParam(this.snapshot.queryParams),this.metadata=this.go.getMetadata(this.snapshot.queryParams.idroute),this.form?.controls.nome.setValue(this.metadata.nome),this.form?.controls.id.setValue(this.metadata.id),this.form?.controls.status.setValue(this.metadata.status),this.form?.controls.unidade_id.setValue(this.metadata.unidade_id),this.form?.controls.cliente_id.setValue(this.metadata.cliente_id),this.enableStatus=null==this.metadata.enableStatus||this.metadata.enableStatus}onSubmitClick(){var e=this;return(0,d.A)(function*(){e.loading=!0;try{let i={nome:e.form?.controls.nome.value,id:e.form?.controls.id.value,unidade_id:e.form?.controls.unidade_id.value,cliente_id:e.form?.controls.cliente_id.value,status:e.form?.controls.status.value};e.go.setModalResult(e.modalRoute?.queryParams?.idroute,i),e.close()}catch(i){e.error(i?.message||i?.error||i||"Erro desconhecido")}finally{e.loading=!1}})()}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(t.zZn))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["produto-filter"]],viewQuery:function(i,o){if(1&i&&t.GBs(f.Q,5),2&i){let s;t.mGM(s=t.lsd())&&(o.editableForm=s.first)}},features:[t.Vt3],decls:8,vars:11,consts:[["cliente",""],["confirmLabel","Buscar",3,"submit","cancel","form"],[1,"row"],[1,"col-md-12"],["label","ID#","icon","bi bi-textarea-t","controlName","this.form.id",3,"size","control"],["label","Nome/Sigla/Nome Fantasia","controlName","nome","placeholder","Nome/Sigla/Nome Fantasia",3,"size","control"],["label","Cliente","controlName","cliente_id",3,"size","control","dao"],["label","Status","controlName","this.form.status",3,"size","items","control",4,"ngIf"],["label","Status","controlName","this.form.status",3,"size","items","control"]],template:function(i,o){if(1&i){const s=t.RV6();t.j41(0,"editable-form",1),t.bIt("submit",function(){return t.eBV(s),t.Njj(o.onSubmitClick())})("cancel",function(){return t.eBV(s),t.Njj(o.onCancel())}),t.j41(1,"div",2)(2,"div",3),t.nrm(3,"input-text",4)(4,"input-text",5)(5,"input-search",6,0),t.DNE(7,Xe,1,3,"input-select",7),t.k0s()()()}2&i&&(t.Y8G("form",o.form),t.R7$(3),t.Y8G("size",12)("control",o.form.controls.id),t.BMQ("maxlength",10),t.R7$(),t.Y8G("size",12)("control",o.form.controls.nome),t.BMQ("maxlength",250),t.R7$(),t.Y8G("size",6)("control",o.form.controls.cliente_id)("dao",o.clienteDao),t.R7$(2),t.Y8G("ngIf",o.enableStatus))},dependencies:[_.bT,f.Q,v.O,N.H,R.K]})}}return n})(),Q=(()=>{class n{constructor(e,i){this.auth=e,this.router=i}canActivate(e,i){return this.auth.isUsuarioDeveloper()||this.auth.isGestorAlgumaAreaTrabalho(!1)}static{this.\u0275fac=function(i){return new(i||n)(t.KVO(A.u),t.KVO(j.Ix))}}static{this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Qe=[{path:"",component:gt,canActivate:[I.q],resolve:{config:G.L},runGuardsAndResolvers:"always",data:{title:"Produtos e Servi\xe7os"}},{path:"new",component:z,canActivate:[I.q,Q],resolve:{config:G.L},runGuardsAndResolvers:"always",data:{title:"Produtos e Servi\xe7os (Cadastro)",modal:!0}},{path:"filter",component:ze,canActivate:[I.q],resolve:{config:G.L},runGuardsAndResolvers:"always",data:{title:"Produtos e Servi\xe7os - Busca Avan\xe7ada",modal:!0}},{path:":id/edit",component:z,canActivate:[I.q,Q],resolve:{config:G.L},runGuardsAndResolvers:"always",data:{title:"Produtos e Servi\xe7os - Altera\xe7\xe3o",modal:!0}},{path:":id/show",component:Ue,canActivate:[I.q],resolve:{config:G.L},runGuardsAndResolvers:"always",data:{title:"Produtos e Servi\xe7os - Detalhamento",modal:!0}}];let He=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[j.iI.forChild(Qe),j.iI]})}}return n})();var Je=r(8832),Ke=r(9455);let xe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[_.MD,Ke.h,Je.X1,He]})}}return n})()}}]);
"use strict";(self.webpackChunkpetrvs=self.webpackChunkpetrvs||[]).push([[2753],{2753:(Y,u,o)=>{o.r(u),o.d(u,{CidadeModule:()=>N});var c=o(6610),f=o(8069),a=o(1620),d=o(6819),p=o(1641),h=o(9337),b=o(291);class r extends b.C{constructor(g){super(),this.codigo_ibge="",this.nome="",this.tipo="MUNICIPIO",this.uf="AC",this.timezone=0,this.initialization(g)}}var I=o(24),e=o(3279),C=o(16),G=o(3678);let m=(()=>{class n extends I.n{constructor(s){super(s,r,h.a),this.injector=s,this.validate=(i,t)=>{let l=null;return["codigo_ibge","nome","uf"].indexOf(t)>=0&&!i.value?.length?l="Obrigat\xf3rio":["timezone"].indexOf(t)>=0&&!i.value&&(l="Valor n\xe3o pode ser zero."),l},this.titleEdit=i=>"Editando "+this.lex.translate("Cidade")+": "+(i?.nome||""),this.form=this.fh.FormBuilder({codigo_ibge:{default:""},nome:{default:""},tipo:{default:""},uf:{default:""},timezone:{default:""}},this.cdRef,this.validate)}loadData(s,i){let t=Object.assign({},i.value);i.patchValue(this.util.fillForm(t,s))}initializeData(s){s.patchValue(new r)}saveData(s){return new Promise((i,t)=>{const l=this.util.fill(new r,this.entity);i(this.util.fillForm(l,this.form.value))})}static{this.\u0275fac=function(i){return new(i||n)(e.rXU(e.zZn))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-cidade-form"]],viewQuery:function(i,t){if(1&i&&e.GBs(p.Q,5),2&i){let l;e.mGM(l=e.lsd())&&(t.editableForm=l.first)}},features:[e.Vt3],decls:9,vars:13,consts:[["initialFocus","codigo_ibge",3,"submit","cancel","form","disabled","title"],[1,"row"],["label","C\xf3digo IBGE","icon","bi bi-upc","controlName","codigo_ibge","required","",3,"size"],["label","Nome","controlName","nome","required","",3,"size"],["label","Tipo","icon","bi bi-arrow-up-right-circle","controlName","tipo",3,"size","items"],["label","UF","icon","bi bi-flag","controlName","uf",3,"size","items"],["label","Timezone","icon","bi bi-alarm","controlName","timezone","required","",3,"size","items"]],template:function(i,t){1&i&&(e.j41(0,"editable-form",0),e.bIt("submit",function(){return t.onSaveData()})("cancel",function(){return t.onCancel()}),e.j41(1,"div",1)(2,"div",1),e.nrm(3,"input-text",2)(4,"input-text",3),e.k0s(),e.j41(5,"div",1),e.nrm(6,"input-select",4)(7,"input-select",5)(8,"input-select",6),e.k0s()()()),2&i&&(e.Y8G("form",t.form)("disabled",t.formDisabled)("title",t.isModal?"":t.title),e.R7$(3),e.Y8G("size",3),e.BMQ("maxlength",250),e.R7$(),e.Y8G("size",9),e.BMQ("maxlength",250),e.R7$(2),e.Y8G("size",4)("items",t.lookup.TIPO_CIDADE),e.R7$(),e.Y8G("size",4)("items",t.lookup.UF),e.R7$(),e.Y8G("size",4)("items",t.lookup.TIMEZONE))},dependencies:[p.Q,C.H,G.K]})}}return n})();var v=o(5611),O=o(9062),y=o(2034),D=o(5852),T=o(7772),z=o(2305),E=o(6764);function F(n,g){1&n&&e.nrm(0,"toolbar")}const M=[{path:"",component:(()=>{class n extends O.P{constructor(s){super(s,r,h.a),this.injector=s,this.filterWhere=i=>{let t=[],l=i.value;return l.nome?.length&&t.push(["nome","like","%"+l.nome.trim().replace(" ","%")+"%"]),t},this.title=this.lex.translate("Cidades"),this.code="MOD_CID",this.filter=this.fh.FormBuilder({nome:{default:""}}),this.addOption(this.OPTION_INFORMACOES),this.addOption(this.OPTION_EXCLUIR,"MOD_CID_EXCL"),this.addOption(this.OPTION_LOGS,"MOD_AUDIT_LOG")}static{this.\u0275fac=function(i){return new(i||n)(e.rXU(e.zZn))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-cidade-list"]],viewQuery:function(i,t){if(1&i&&e.GBs(v._,5),2&i){let l;e.mGM(l=e.lsd())&&(t.grid=l.first)}},features:[e.Vt3],decls:13,vars:26,consts:[[3,"select","dao","add","title","orderBy","groupBy","join","selectable","hasAdd","hasEdit"],[4,"ngIf"],[3,"deleted","form","where","submit","collapseChange","collapsed"],[1,"row"],["controlName","nome",3,"size","label","control","placeholder"],["title","C\xf3digo IBGE","field","codigo_ibge"],["title","Nome","field","nome","orderBy","nome"],["title","UF","field","uf"],["title","Tipo","type","select","field","tipo",3,"items"],["title","Timezone","type","select","field","timezone",3,"items"],["type","options",3,"onEdit","options"],[3,"rows"]],template:function(i,t){1&i&&(e.j41(0,"grid",0),e.bIt("select",function(A){return t.onSelect(A)}),e.DNE(1,F,1,0,"toolbar",1),e.j41(2,"filter",2)(3,"div",3),e.nrm(4,"input-text",4),e.k0s()(),e.j41(5,"columns"),e.nrm(6,"column",5)(7,"column",6)(8,"column",7)(9,"column",8)(10,"column",9)(11,"column",10),e.k0s(),e.nrm(12,"pagination",11),e.k0s()),2&i&&(e.Y8G("dao",t.dao)("add",t.add)("title",t.isModal?"":t.title)("orderBy",t.orderBy)("groupBy",t.groupBy)("join",t.join)("selectable",t.selectable)("hasAdd",t.auth.hasPermissionTo("MOD_CID_INCL"))("hasEdit",t.auth.hasPermissionTo("MOD_CID_EDT")),e.R7$(),e.Y8G("ngIf",!t.selectable),e.R7$(),e.Y8G("deleted",t.auth.hasPermissionTo("MOD_AUDIT_DEL"))("form",t.filter)("where",t.filterWhere)("submit",t.filterSubmit.bind(t))("collapseChange",t.filterCollapseChange.bind(t))("collapsed",!t.selectable&&t.filterCollapsed),e.R7$(2),e.Y8G("size",12)("label",t.lex.translate("Cidade"))("control",t.filter.controls.nome)("placeholder","Nome "+t.lex.translate("da cidade")+"..."),e.BMQ("maxlength",250),e.R7$(5),e.Y8G("items",t.lookup.TIPO_CIDADE),e.R7$(),e.Y8G("items",t.lookup.TIMEZONE),e.R7$(),e.Y8G("onEdit",t.edit)("options",t.options),e.R7$(),e.Y8G("rows",t.rowsLimit))},dependencies:[c.bT,v._,y.T,D.I,T.i,z.H,E.e,C.H]})}}return n})(),canActivate:[a.q],resolve:{config:d.L},runGuardsAndResolvers:"always",data:{title:"Cidades"}},{path:"new",component:m,canActivate:[a.q],resolve:{config:d.L},runGuardsAndResolvers:"always",data:{title:"Inclus\xe3o de cidade",modal:!0}},{path:":id/edit",component:m,canActivate:[a.q],resolve:{config:d.L},runGuardsAndResolvers:"always",data:{title:"Edi\xe7\xe3o de cidade",modal:!0}},{path:":id/consult",component:m,canActivate:[a.q],resolve:{config:d.L},runGuardsAndResolvers:"always",data:{title:"Consulta a cidade",modal:!0}}];let R=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[f.iI.forChild(M),f.iI]})}}return n})();var B=o(9455),L=o(8832);let N=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[c.MD,B.h,L.X1,R]})}}return n})()}}]);
"use strict";(self.webpackChunkpetrvs=self.webpackChunkpetrvs||[]).push([[3229,8241],{8241:(K,T,d)=>{d.d(T,{C:()=>y});var f=d(3308),k=d(3609),N=d(9592),r=d(3279),j=d(6610);function p(c,h){if(1&c&&r.nrm(0,"i"),2&c){const s=r.XpG(2);r.HbH(s.button.icon)}}function g(c,h){if(1&c&&(r.j41(0,"span",8),r.EFF(1),r.k0s()),2&c){const s=r.XpG(2);r.R7$(),r.JRh(s.button.label)}}function C(c,h){if(1&c&&(r.j41(0,"span",9),r.EFF(1),r.k0s()),2&c){const s=r.XpG(2);r.R7$(),r.JRh(s.button.badge)}}function P(c,h){if(1&c&&(r.j41(0,"button",10)(1,"span",11),r.EFF(2,"V"),r.k0s()()),2&c){const s=r.XpG(2);r.HbH("btn dropdown-toggle dropdown-toggle-split "+(s.button.color||"btn-outline-primary")),r.BMQ("id",s.generatedButtonId(s.button)+"_dropdown")}}function x(c,h){1&c&&r.nrm(0,"hr",16)}function O(c,h){if(1&c&&r.nrm(0,"i"),2&c){const s=r.XpG(2).$implicit;r.HbH(s.icon)}}function R(c,h){if(1&c){const s=r.RV6();r.j41(0,"a",17),r.bIt("click",function(){r.eBV(s);const v=r.XpG().$implicit,E=r.XpG(3);return r.Njj(E.onButtonClick(v))}),r.DNE(1,O,1,2,"i",3),r.EFF(2),r.k0s()}if(2&c){const s=r.XpG().$implicit,b=r.XpG(3);r.Y8G("id",b.generatedButtonId(s,"_item")),r.R7$(),r.Y8G("ngIf",null==s.icon?null:s.icon.length),r.R7$(),r.SpI(" ",s.label||"","")}}function B(c,h){if(1&c&&(r.j41(0,"li"),r.DNE(1,x,1,0,"hr",14)(2,R,3,3,"a",15),r.k0s()),2&c){const s=h.$implicit;r.R7$(),r.Y8G("ngIf",s.divider),r.R7$(),r.Y8G("ngIf",!s.divider)}}function t(c,h){if(1&c&&(r.j41(0,"ul",12),r.DNE(1,B,3,2,"li",13),r.k0s()),2&c){const s=r.XpG(2);r.BMQ("aria-labelledby",s.generatedButtonId(s.button)+(s.button.items&&s.button.toggle?"_dropdown":"")),r.R7$(),r.Y8G("ngForOf",s.button.items)}}function I(c,h){if(1&c){const s=r.RV6();r.j41(0,"div",1)(1,"button",2),r.bIt("click",function(){r.eBV(s);const v=r.XpG();return r.Njj(v.onButtonClick(v.button))}),r.DNE(2,p,1,2,"i",3)(3,g,2,1,"span",4)(4,C,2,1,"span",5),r.k0s(),r.DNE(5,P,3,3,"button",6)(6,t,2,2,"ul",7),r.k0s()}if(2&c){const s=r.XpG();r.AVh("w-100",s.isFullWidth),r.R7$(),r.HbH(s.buttonClass),r.Y8G("id",s.generatedButtonId(s.button))("disabled",s.buttonDisabled(s.button)),r.BMQ("data-bs-toggle",s.button.items&&!s.button.toggle?"dropdown":void 0),r.R7$(),r.Y8G("ngIf",null==s.button.icon?null:s.button.icon.length),r.R7$(),r.Y8G("ngIf",null==s.button.label?null:s.button.label.length),r.R7$(),r.Y8G("ngIf",null==s.button.badge?null:s.button.badge.length),r.R7$(),r.Y8G("ngIf",s.button.items&&s.button.toggle),r.R7$(),r.Y8G("ngIf",s.button.items)}}let y=(()=>{class c extends N.x{set button(s){this._button!=s&&(this._button=s),this._button.id=this.generatedButtonId(this._button)}get button(){return this._button}set route(s){this._button.route!=s&&(this._button.route=s)}get route(){return this._button.route}set metadata(s){this._button.metadata!=s&&(this._button.metadata=s)}get metadata(){return this._button.metadata}set class(s){this._button.class!=s&&(this._button.class=s)}get class(){return this._button.class}set icon(s){this._button.icon!=s&&(this._button.icon=s),this._button.id=this.generatedButtonId(this._button)}get icon(){return this._button.icon}set label(s){this._button.label!=s&&(this._button.label=s),this._button.id=this.generatedButtonId(this._button)}get label(){return this._button.label}set hint(s){this._button.hint!=s&&(this._button.hint=s),this._button.id=this.generatedButtonId(this._button)}get hint(){return this._button.hint}set disabled(s){this._button.disabled!=s&&(this._button.disabled=s)}get disabled(){return this._button.disabled}set iconChar(s){this._button.iconChar!=s&&(this._button.iconChar=s)}get iconChar(){return this._button.iconChar}set color(s){this._button.color!=s&&(this._button.color=s)}get color(){return this._button.color}set running(s){this._button.running!=s&&(this._button.running=s)}get running(){return this._button.running}set toggle(s){this._button.toggle!=s&&(this._button.toggle=s)}get toggle(){return this._button.toggle}set badge(s){this._button.badge!=s&&(this._button.badge=s)}get badge(){return this._button.badge}set pressed(s){this._button.pressed!=s&&(this._button.pressed=s)}get pressed(){return this._button.pressed}set items(s){this._button.items!=s&&(this._button.items=s)}get items(){return this._button.items}set hidden(s){this._button.hidden!=s&&(this._button.hidden=s)}get hidden(){return this._button.hidden}set dynamicItems(s){this._button.dynamicItems!=s&&(this._button.dynamicItems=s)}get dynamicItems(){return this._button.dynamicItems}set dynamicVisible(s){this._button.dynamicVisible!=s&&(this._button.dynamicVisible=s)}get dynamicVisible(){return this._button.dynamicVisible}set onClick(s){this._button.onClick!=s&&(this._button.onClick=s)}get onClick(){return this._button.onClick}constructor(s){super(s),this.injector=s,this._button={},this.go=s.get(k.T),this.button.id=this.generatedButtonId(this.button,this.util.md5())}get isFullWidth(){return null!=this.fullWidth}get isNoArrow(){return null!=this.noArrow}get isPlaceholder(){return null!=this.placeholder}get buttonClass(){return(this.isPlaceholder?"placeholder ":"")+(this.buttonPressed(this.button)?"active ":"")+(this.isNoArrow?"no-arrow ":"")+(this.button.items&&!this.button.toggle?"dropdown-toggle ":"")+"btn "+(this.button.color||"btn-outline-primary")}buttonDisabled(s){return this.isPlaceholder||("function"==typeof s.disabled?s.disabled():!!s.disabled)}buttonPressed(s){return!!s.toggle&&(s.pressed&&"boolean"!=typeof s.pressed?!!s.pressed(this):!!s.pressed)}onButtonClick(s){var b=this;return(0,f.A)(function*(){s.toggle&&"boolean"==typeof s.pressed&&(s.pressed=!s.pressed),s.route?b.go.navigate(s.route,s.metadata):s.onClick&&(yield s.onClick(b.data,s)),b.cdRef.detectChanges()})()}static{this.\u0275fac=function(b){return new(b||c)(r.rXU(r.zZn))}}static{this.\u0275cmp=r.VBU({type:c,selectors:[["action-button"]],inputs:{button:"button",route:"route",metadata:"metadata",class:"class",icon:"icon",label:"label",hint:"hint",disabled:"disabled",iconChar:"iconChar",color:"color",running:"running",toggle:"toggle",badge:"badge",pressed:"pressed",items:"items",hidden:"hidden",dynamicItems:"dynamicItems",dynamicVisible:"dynamicVisible",onClick:"onClick",data:"data",noArrow:"noArrow",fullWidth:"fullWidth",placeholder:"placeholder"},features:[r.Vt3],decls:1,vars:1,consts:[["class","btn-group","role","group",3,"w-100",4,"ngIf"],["role","group",1,"btn-group"],["type","button","aria-expanded","false",3,"click","id","disabled"],[3,"class",4,"ngIf"],["class","d-none d-md-inline-block ms-2",4,"ngIf"],["class","badge bg-primary ms-2",4,"ngIf"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",3,"class",4,"ngIf"],["class","dropdown-menu dropdown-menu-end",4,"ngIf"],[1,"d-none","d-md-inline-block","ms-2"],[1,"badge","bg-primary","ms-2"],["type","button","data-bs-toggle","dropdown","aria-expanded","false"],[1,"visually-hidden"],[1,"dropdown-menu","dropdown-menu-end"],[4,"ngFor","ngForOf"],["class","dropdown-divider",4,"ngIf"],["class","dropdown-item","role","button",3,"id","click",4,"ngIf"],[1,"dropdown-divider"],["role","button",1,"dropdown-item",3,"click","id"]],template:function(b,v){1&b&&r.DNE(0,I,7,12,"div",0),2&b&&r.Y8G("ngIf",!v.button.dynamicVisible||v.button.dynamicVisible(v.button))},dependencies:[j.Sq,j.bT],styles:["[_nghost-%COMP%]     .transparent-black{background-color:transparent;color:#000}[_nghost-%COMP%]     .transparent-white{background-color:transparent;color:#fff}.no-arrow[_ngcontent-%COMP%]:before, .no-arrow[_ngcontent-%COMP%]:after{display:none!important}"]})}}return c})()},7991:(K,T,d)=>{d.r(T),d.d(T,{PlanejamentoModule:()=>Yt});var f=d(6610),k=d(9455),N=d(8069),r=d(1620),j=d(6819),p=d(3308),g=d(1641),C=d(5611),P=d(6149),x=d(3535),O=d(7770),R=d(24),B=d(2342),t=d(3279),I=d(114),y=d(9226),c=d(16),h=d(158),s=d(5524),b=d(3678),v=d(1230),E=d(2075),w=d(6774),M=d(5574),V=d(4795),D=d(9970),Y=d(3203),A=d(2034),F=d(5852),Z=d(5201);function q(l,u){if(1&l&&(t.j41(0,"span",12),t.nrm(1,"badge",13),t.k0s()),2&l){let n,e,o;const i=u.separator,a=t.XpG();t.R7$(),t.Y8G("icon",(null==(n=a.getEixo(null==i?null:i.text))?null:n.icone)||"bi bi-gear")("color",(null==(e=a.getEixo(null==i?null:i.text))?null:e.cor)||"primary")("label",(null==(o=a.getEixo(null==i?null:i.text))?null:o.nome)||"Desconhecido")}}function tt(l,u){if(1&l&&(t.j41(0,"span",14),t.EFF(1),t.k0s()),2&l){const n=u.row,e=t.XpG();t.xc7("margin-left",20*((null==n._metadata?null:n._metadata.level)||0),"px"),t.R7$(),t.JRh(e.marcador(n)+n.nome)}}function et(l,u){if(1&l&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&l){const n=u.row;t.R7$(),t.JRh(null==n.eixo_tematico?null:n.eixo_tematico.nome)}}function ot(l,u){if(1&l&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&l){const n=u.row;t.R7$(),t.JRh(n.fundamentacao)}}function nt(l,u){if(1&l&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&l){const n=u.row;t.R7$(),t.JRh((null==n.objetivo_superior?null:n.objetivo_superior.nome)||"")}}function it(l,u){if(1&l&&(t.j41(0,"column",15),t.DNE(1,nt,2,1,"ng-template",null,5,t.C5r),t.k0s()),2&l){const n=t.sdS(2);t.Y8G("template",n)}}let L=(()=>{class l extends V.g{set control(n){super.control=n}get control(){return super.control}set entity(n){super.entity=n}get entity(){return super.entity}set disabled(n){this._disabled!=n&&(this._disabled=n)}get disabled(){return this._disabled}set noPersist(n){super.noPersist=n}get noPersist(){return super.noPersist}get items(){return this.gridControl.value||this.gridControl.setValue(new O.r),this.gridControl.value.objetivos||(this.gridControl.value.objetivos=[]),this.gridControl.value.objetivos}constructor(n){super(n),this.injector=n,this.minHeight=350,this.options=[],this._disabled=!1,this.eixos=[],this.dao=n.get(P.Y),this.objetivoDao=n.get(D.O),this.eixoDao=n.get(Y.X),this.groupBy=[{field:"eixo_tematico_id",label:"Eixo Tem\xe1tico"}],this.orderBy=[["nome","asc"]],this.form=this.fh.FormBuilder({nome:{default:""},fundamentacao:{default:""},planejamento_id:{default:null},eixo_tematico_id:{default:null},objetivo_superior_id:{default:null}},this.cdRef),this.OPTION_INFORMACOES.onClick=e=>this.go.navigate({route:["gestao","planejamento","objetivo",e.id,"consult"]},{modal:!0}),this.OPTION_EXCLUIR.onClick=e=>{this.removeObjetivo(e)},this.addOption(this.OPTION_INFORMACOES),this.addOption(this.OPTION_EXCLUIR,"MOD_PLAN_INST_EXCL")}ngOnInit(){super.ngOnInit(),this.entity=this.metadata?.entity||this.entity,this.carregaEixos(),this.sortObjetivos()}dynamicButtons(n){let e=[];return this.auth.hasPermissionTo("MOD_PLAN_INST_EDT")&&!this.disabled&&e.push({hint:"Alterar",icon:"bi bi-pencil-square",color:"btn-outline-info",onClick:i=>{this.editObjetivo(i)}}),e.push({hint:"Entregas",icon:"bi bi-file-earmark-bar-graph",onClick:i=>this.go.navigate({route:["gestao","plano-entrega","entrega","objetivos",i.id]},{modal:!0})}),e}marcador(n){let e=n._metadata?.level||0;return e<1?"":e<2?"\u2022 ":e<3?"- ":"+ "}addObjetivo(){var n=this;return(0,p.A)(function*(){let e=new M.d({_status:"ADD",id:n.dao.generateUuid(),planejamento_id:n.entity?.id});var o;n.go.navigate({route:["gestao","planejamento","objetivo"]},{metadata:{planejamento:n.entity,objetivo:e,objetivos:n.objetivosPai(e.id)},modalClose:(o=(0,p.A)(function*(i){if(i)try{n.carregaEixos(),n.items.push(n.isNoPersist?i:yield n.objetivoDao.save(i)),n.sortObjetivos()}catch(a){n.error(a?.error||a?.message||a)}}),function(a){return o.apply(this,arguments)})})})()}objetivosPai(n){let e=[],o=i=>{for(let a of i)a.id!=n&&(e.push(a),o(this.items.filter(m=>m.objetivo_pai_id==a.id).sort((m,_)=>m.sequencia-_.sequencia)))};return o(this.items.filter(i=>!i.objetivo_pai_id).sort((i,a)=>i.sequencia-a.sequencia)),e}sortObjetivos(){let n=[],e=(o,i)=>{for(let a of o)a._metadata=Object.assign(a._metadata||{},{level:i}),n.push(a),"DELETE"!=a._status&&e(this.items.filter(m=>m.objetivo_pai_id==a.id).sort((m,_)=>m.nome>_.nome?1:-1),i+1)};e(this.items.filter(o=>!o.objetivo_pai_id).sort((o,i)=>o.nome>i.nome?1:-1),0),this.items.length=0,this.items.push(...n),this.cdRef.detectChanges()}editObjetivo(n){var e=this;return(0,p.A)(function*(){n._status="ADD"==n._status?"ADD":"EDIT";let o=e.items.indexOf(n);var i;e.go.navigate({route:["gestao","planejamento","objetivo"]},{metadata:{planejamento:e.entity,objetivo:n,objetivos:e.objetivosPai(n.id)},modalClose:(i=(0,p.A)(function*(a){a&&(e.isNoPersist||(yield e.objetivoDao?.save(a)),e.items[o]=a,e.carregaEixos(),e.sortObjetivos())}),function(m){return i.apply(this,arguments)})})})()}removeObjetivo(n){var e=this;return(0,p.A)(function*(){if(yield e.dialog.confirm("Exclui ?","Deseja realmente excluir?")){let i=e.items.indexOf(n);return e.isNoPersist?n._status="DELETE":(yield e.objetivoDao.delete(n),e.grid?.items.splice(i,1)),e.sortObjetivos(),!0}return!1})()}getEixo(n){return this.eixos?.find(e=>e.id==n)}carregaEixos(){this.eixoDao?.query().getAll().then(n=>{this.eixos=n})}static{this.\u0275fac=function(e){return new(e||l)(t.rXU(t.zZn))}}static{this.\u0275cmp=t.VBU({type:l,selectors:[["planejamento-list-objetivo"]],viewQuery:function(e,o){if(1&e&&(t.GBs(g.Q,5),t.GBs(C._,5)),2&e){let i;t.mGM(i=t.lsd())&&(o.editableForm=i.first),t.mGM(i=t.lsd())&&(o.grid=i.first)}},inputs:{planejamento_superior_id:"planejamento_superior_id",control:"control",entity:"entity",disabled:"disabled",noPersist:"noPersist"},features:[t.Vt3],decls:16,vars:19,consts:[["gridObjetivos",""],["groupEixoTematico",""],["columnNome",""],["columnEixoTematico",""],["columnFundamentacao",""],["columnObjetivoSuperior",""],["editable","",3,"items","form","selectable","minHeight","add","remove","hasDelete","hasEdit","hasAdd","join","groupBy","orderBy","groupTemplate"],["title","Nome",3,"template"],["title","Eixo Tem\xe1tico",3,"template"],["title","Fundamenta\xe7\xe3o",3,"template"],["title","Objetivo Superior",3,"template",4,"ngIf"],["type","options",3,"dynamicButtons","options"],[1,"text-wrap"],[3,"icon","color","label"],[1,"text-break","w-100"],["title","Objetivo Superior",3,"template"]],template:function(e,o){if(1&e&&(t.j41(0,"grid",6,0),t.DNE(2,q,2,3,"ng-template",null,1,t.C5r),t.j41(4,"columns")(5,"column",7),t.DNE(6,tt,2,3,"ng-template",null,2,t.C5r),t.k0s(),t.j41(8,"column",8),t.DNE(9,et,2,1,"ng-template",null,3,t.C5r),t.k0s(),t.j41(11,"column",9),t.DNE(12,ot,2,1,"ng-template",null,4,t.C5r),t.k0s(),t.DNE(14,it,3,1,"column",10),t.nrm(15,"column",11),t.k0s()()),2&e){const i=t.sdS(3),a=t.sdS(7),m=t.sdS(10),_=t.sdS(13);t.Y8G("items",o.items)("form",o.form)("selectable",!1)("minHeight",o.minHeight)("add",o.addObjetivo.bind(o))("remove",o.removeObjetivo.bind(o))("hasDelete",!1)("hasEdit",!1)("hasAdd",!o.disabled)("join",o.join)("groupBy",o.groupBy)("orderBy",o.orderBy)("groupTemplate",i),t.R7$(5),t.Y8G("template",a),t.R7$(3),t.Y8G("template",m),t.R7$(3),t.Y8G("template",_),t.R7$(3),t.Y8G("ngIf",null==o.planejamento_superior_id?null:o.planejamento_superior_id.length),t.R7$(),t.Y8G("dynamicButtons",o.dynamicButtons.bind(o))("options",o.options)}},dependencies:[f.bT,C._,A.T,F.I,Z.n]})}}return l})();const at=["planejamentoSuperior"],st=["objetivos"];let S=(()=>{class l extends R.n{constructor(n){var e;super(n,O.r,P.Y),e=this,this.injector=n,this.planejamentosSuperiores=[],this.hasPermissionToUNEX=!1,this.joinPlanejamentoSuperior=[],this.validate=(o,i)=>{let a=null;return["nome","unidade_id","missao","visao"].indexOf(i)>=0&&!o.value?.length&&(a="Obrigat\xf3rio"),"data_inicio"==i&&!this.dao?.validDateTime(o.value)&&(a="Inv\xe1lido"),"data_fim"==i&&o.value&&!this.dao?.validDateTime(o.value)&&(a="Inv\xe1lido"),a},this.formValidation=function(){var o=(0,p.A)(function*(i){let a;return e.form.controls.data_fim.value&&e.form.controls.data_inicio.value>e.form.controls.data_fim.value?"A data do in\xedcio n\xe3o pode ser maior que a data do fim! [RN_PLAN_INST_A]":0==e.form.controls.valores.value.length?"\xc9 obrigat\xf3ria a inclus\xe3o de ao menos um valor institucional! [RN_PLAN_INST_A]":(((yield e.dao?.query({where:[["unidade_id","==",e.form.controls.unidade_id.value]]}).asPromise())||[]).forEach(_=>{_.id!=e.entity.id&&e.util.intersection([{start:e.util.asDate(_.data_inicio),end:e.util.asDate(_.data_fim)},{start:e.util.asDate(e.form.controls.data_inicio.value),end:e.util.asDate(e.form.controls.data_fim.value)}])&&(a="Sobreposi\xe7\xe3o de planejamento para o per\xedodo de datas selecionadas [RN_PLAN_INST_B]")}),a)});return function(i){return o.apply(this,arguments)}}(),this.titleEdit=o=>"Editando "+this.lex.translate("Planejamento Institucional")+": "+(o?.nome||""),this.unidadeDao=n.get(x.s),this.hasPermissionToUNEX=this.auth.hasPermissionTo("MOD_PLAN_INST_INCL_UNEX_LOTPRI")||this.auth.hasPermissionTo("MOD_PLAN_INST_INCL_UNEX_QQLOT")||this.auth.hasPermissionTo("MOD_PLAN_INST_INCL_UNEX_SUBORD")||this.auth.hasPermissionTo("MOD_PLAN_INST_INCL_UNEX_QUALQUER"),this.join=["objetivos","objetivos.objetivo_pai:id,nome","objetivos.objetivo_superior:id,planejamento_id","objetivos.eixo_tematico:id,nome","planejamento_superior:id,nome","planejamento_superior.objetivos"],this.joinPlanejamentoSuperior=["objetivos"],this.form=this.fh.FormBuilder({nome:{default:""},unidade_id:{default:null},entidade_id:{default:null},planejamento_superior_id:{default:null},data_inicio:{default:new Date},data_fim:{default:null},missao:{default:""},visao:{default:""},valores:{default:[]},valor_texto:{default:""},resultados_institucionais:{default:[]},resultados_texto:{default:""},utilizar_superior:{default:!1}},this.cdRef,this.validate),this.util=n.get(B.a)}loadData(n,e){var o=this;return(0,p.A)(function*(){let i=Object.assign({},e.value);yield o.carregaPlanejamentosSuperiores(n.unidade_id),e.patchValue(o.util.fillForm(i,n)),o.form.controls.planejamento_superior_id.setValue(n.planejamento_superior_id)})()}initializeData(n){this.entity=new O.r,this.loadData(this.entity,n)}saveData(n){var e=this;return(0,p.A)(function*(){return new Promise((o,i)=>{e.objetivos.grid.confirm();let a=e.util.fill(new O.r,e.entity);a=e.util.fillForm(a,e.form.value),a.objetivos=e.objetivos.items,o(a)})})()}addValorHandle(){let n;const e=this.form.controls.valor_texto.value,o=this.util.textHash(e);return e?.length&&this.util.validateLookupItem(this.form.controls.valores.value,o)&&(n={key:o,value:this.form.controls.valor_texto.value},this.form.controls.valor_texto.setValue("")),n}addResultadoHandle(){let n;const e=this.form.controls.resultados_texto.value,o=this.util.textHash(e);return e?.length&&this.util.validateLookupItem(this.form.controls.resultados_institucionais.value,o)&&(n={key:o,value:this.form.controls.resultados_texto.value},this.form.controls.resultados_texto.setValue("")),n}onUnidadeChange(n){var e=this;return(0,p.A)(function*(){e.entity.unidade_id!=e.form.controls.unidade_id.value&&(yield e.carregaPlanejamentosSuperiores(e.form.controls.unidade_id.value))})()}carregaPlanejamentosSuperiores(n){var e=this;return(0,p.A)(function*(){if(n?.length){let o=yield e.dao?.query({where:[["unidade_id","==",n],["manut_planej_unidades_executoras","==",!0]],join:e.joinPlanejamentoSuperior}).asPromise();e.planejamentosSuperiores=(o||[]).map(i=>Object.assign({},{key:i.id,value:i.nome,data:i})),e.planejamentosSuperiores.sort((i,a)=>i.value>a.value?1:-1),e.planejamentosSuperiores.unshift({key:null,value:"Escolha um Planejamento superior..."}),e.objetivos.loadData(e.entity,e.form),e.cdRef.detectChanges()}})()}onUtilizarSuperiorChange(n){var e=this;return(0,p.A)(function*(){let o=e.form.controls.planejamento_superior_id.value;if(e.form.controls.utilizar_superior.value&&o?.length){let i=yield e.dao?.query({where:[["id","==",o]]}).asPromise();e.form.controls.missao.setValue(i[0].missao),e.form.controls.visao.setValue(i[0].visao),e.form.controls.valores.setValue(i[0].valores),e.form.controls.resultados_institucionais.setValue(i[0].resultados_institucionais)}})()}onPlanejamentoChange(n){var e=this;return(0,p.A)(function*(){e.form.controls.planejamento_superior_id.value!=e.entity?.planejamento_superior_id&&e.entity?.objetivos?.length&&e.entity?.objetivos.filter(o=>o.objetivo_superior&&o.objetivo_superior.planejamento_id==e.entity?.planejamento_superior_id).length&&((yield e.dialog.confirm("Altera\xe7\xe3o de Planejamento Superior","Como j\xe1 existe(m) objetivo(s) neste Planejamento, vinculado(s) a objetivo(s) do Planejamento Superior anterior, seus v\xednculos ser\xe3o perdidos! Deseja continuar?"))?e.entity?.objetivos?.forEach(i=>i.objetivo_superior_id=null):e.form.controls.planejamento_superior_id.setValue(e.entity?.planejamento_superior_id)),e.entity.planejamento_superior_id=e.form.controls.planejamento_superior_id.value,e.entity.planejamento_superior=e.planejamentoSuperior.selectedItem?.data,e.objetivos.planejamento_superior_id=e.form.controls.planejamento_superior_id.value,e.objetivos?.grid?.loadColumns(),e.cdRef.detectChanges()})()}static{this.\u0275fac=function(e){return new(e||l)(t.rXU(t.zZn))}}static{this.\u0275cmp=t.VBU({type:l,selectors:[["app-planejamento-form"]],viewQuery:function(e,o){if(1&e&&(t.GBs(g.Q,5),t.GBs(C._,7),t.GBs(at,5),t.GBs(st,5)),2&e){let i;t.mGM(i=t.lsd())&&(o.editableForm=i.first),t.mGM(i=t.lsd())&&(o.grid=i.first),t.mGM(i=t.lsd())&&(o.planejamentoSuperior=i.first),t.mGM(i=t.lsd())&&(o.objetivos=i.first)}},features:[t.Vt3],decls:29,vars:39,consts:[["planejamentoSuperior",""],["objetivos",""],["initialFocus","nome",3,"submit","cancel","form","disabled","title"],["display","","right",""],["key","DADOS","label","Dados"],[1,"row"],["controlName","nome","required","",3,"size","label","icon","control"],["controlName","unidade_id","labelInfo","Unidade \xe0 qual se refere o planejamento","required","",3,"change","size","control","dao"],["date","","label","In\xedcio","icon","bi bi-calendar-date","controlName","data_inicio","labelInfo","In\xedcio do Planejamento Institucional","required","",3,"size","control"],["date","","label","Fim","icon","bi bi-calendar-date","controlName","data_fim","labelInfo","Fim do Planejamento Institucional","required","",3,"size","control"],["label","Planejamento Institucional Superior","controlName","planejamento_superior_id",3,"change","size","items","control","icon"],["scale","small","labelPosition","right","controlName","utilizar_superior","label","Utilizar miss\xe3o, vis\xe3o, resultados e valores da institui\xe7\xe3o superior?",3,"change","size"],[1,"col-md-6"],["label","Miss\xe3o","controlName","missao","required","",3,"size","rows","control"],["label","Vis\xe3o","controlName","visao","required","",3,"size","rows","control"],["controlName","resultados_institucionais",3,"size","label","addItemHandle"],["icon","far fa-edit","controlName","resultados_texto",3,"label","control"],["label","Valores","controlName","valores",3,"size","addItemHandle"],["label","Valor Institucional","icon","far fa-edit","controlName","valor_texto",3,"control"],["key","OBJETIVOS","label","Objetivos"],["noPersist","",3,"entity","disabled","planejamento_superior_id"]],template:function(e,o){if(1&e){const i=t.RV6();t.j41(0,"editable-form",2),t.bIt("submit",function(){return t.eBV(i),t.Njj(o.onSaveData())})("cancel",function(){return t.eBV(i),t.Njj(o.onCancel())}),t.j41(1,"tabs",3)(2,"tab",4)(3,"div",5)(4,"div",5),t.nrm(5,"input-text",6),t.k0s(),t.j41(6,"div",5)(7,"input-search",7),t.bIt("change",function(m){return t.eBV(i),t.Njj(o.onUnidadeChange(m))}),t.k0s(),t.nrm(8,"input-datetime",8)(9,"input-datetime",9),t.k0s(),t.j41(10,"div",5)(11,"input-select",10,0),t.bIt("change",function(m){return t.eBV(i),t.Njj(o.onPlanejamentoChange(m))}),t.k0s(),t.j41(13,"input-switch",11),t.bIt("change",function(m){return t.eBV(i),t.Njj(o.onUtilizarSuperiorChange(m))}),t.k0s()(),t.j41(14,"div",5)(15,"div",12),t.nrm(16,"input-textarea",13),t.k0s(),t.j41(17,"div",12),t.nrm(18,"input-textarea",14),t.k0s()(),t.j41(19,"div",5)(20,"div",12)(21,"input-multiselect",15),t.nrm(22,"input-text",16),t.k0s()(),t.j41(23,"div",12)(24,"input-multiselect",17),t.nrm(25,"input-text",18),t.k0s()()()()(),t.j41(26,"tab",19),t.nrm(27,"planejamento-list-objetivo",20,1),t.k0s()()()}2&e&&(t.Y8G("form",o.form)("disabled",o.formDisabled)("title",o.isModal?"":o.title),t.R7$(5),t.Y8G("size",12)("label","Nome do "+o.lex.translate("Planejamento Institucional"))("icon",o.entityService.getIcon("Planejamento"))("control",o.form.controls.nome),t.BMQ("maxlength",250),t.R7$(2),t.Y8G("size",6)("control",o.form.controls.unidade_id)("dao",o.unidadeDao),t.R7$(),t.Y8G("size",3)("control",o.form.controls.data_inicio),t.R7$(),t.Y8G("size",3)("control",o.form.controls.data_fim),t.R7$(2),t.Y8G("size",12)("items",o.planejamentosSuperiores)("control",o.form.controls.planejamento_superior_id)("icon",o.entityService.getIcon("Planejamento")),t.R7$(2),t.Y8G("size",12),t.R7$(3),t.Y8G("size",12)("rows",3)("control",o.form.controls.missao),t.R7$(2),t.Y8G("size",12)("rows",3)("control",o.form.controls.visao),t.R7$(3),t.Y8G("size",12)("label",o.lex.translate("Resultados Institucionais"))("addItemHandle",o.addResultadoHandle.bind(o)),t.R7$(),t.Y8G("label",o.lex.translate("Resultados Institucionais"))("control",o.form.controls.resultados_texto),t.BMQ("maxlength",250),t.R7$(2),t.Y8G("size",12)("addItemHandle",o.addValorHandle.bind(o)),t.R7$(),t.Y8G("control",o.form.controls.valor_texto),t.BMQ("maxlength",250),t.R7$(2),t.Y8G("entity",o.entity)("disabled","consult"==o.action)("planejamento_superior_id",o.form.controls.planejamento_superior_id.value))},dependencies:[g.Q,I.S,y.O,c.H,h.S,s.r,b.K,v.b,E.O,w.j,L]})}}return l})();var z=d(9062),X=d(7772),U=d(2305),Q=d(6764),H=d(8857),lt=d(8241),G=d(6729),rt=d(3292);const dt=["planejamentoInstitucional"],$=()=>["objetivo"],J=(l,u)=>({objetivo:l,pai:u});function mt(l,u){if(1&l&&t.nrm(0,"planejamento-show",10),2&l){const n=t.XpG();t.Y8G("planejamento",n.planejamento)}}function ut(l,u){if(1&l&&t.eu8(0,36),2&l){const n=u.$implicit,e=t.XpG().$implicit,o=t.sdS(10);t.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",t.l_i(2,J,n,e))}}function ct(l,u){if(1&l&&t.eu8(0,36),2&l){const n=u.$implicit,e=t.XpG().objetivo;t.XpG();const o=t.sdS(10);t.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",t.l_i(2,J,n,e))}}function pt(l,u){if(1&l){const n=t.RV6();t.j41(0,"div",37),t.bIt("dndEnd",function(o){t.eBV(n);const i=t.XpG(3);return t.Njj(i.onObjetivoDragEnd(o))})("dndMoved",function(){const o=t.eBV(n),i=o.objetivo,a=o.pai,m=t.XpG(3);return t.Njj(m.onObjetivoDragged(i,a,"move"))})("dndStart",function(o){t.eBV(n);const i=t.XpG(3);return t.Njj(i.onObjetivoDragStart(o))}),t.j41(1,"div",38)(2,"div",39),t.EFF(3),t.k0s(),t.nrm(4,"action-button",40),t.k0s(),t.j41(5,"div",29),t.bIt("dndDrop",function(o){const i=t.eBV(n).objetivo,a=t.XpG(3);return t.Njj(a.onObjetivoDrop(o,i))}),t.j41(6,"div",30),t.nrm(7,"span",31),t.k0s(),t.DNE(8,ct,1,5,"ng-container",32),t.k0s()()}if(2&l){const n=u.objetivo,e=t.XpG(3);t.Y8G("dndDisableIf",!e.canEdit)("dndDraggable",n),t.R7$(3),t.JRh(n.nome),t.R7$(),t.Y8G("button",e.subObjetivosMenu)("data",n),t.R7$(),t.Y8G("dndDropzone",t.lJ4(7,$)),t.R7$(3),t.Y8G("ngForOf",n.objetivos)}}function _t(l,u){if(1&l){const n=t.RV6();t.j41(0,"div",26),t.bIt("dndEnd",function(o){t.eBV(n);const i=t.XpG(2);return t.Njj(i.onObjetivoDragEnd(o))})("dndMoved",function(){const o=t.eBV(n).$implicit,i=t.XpG().$implicit,a=t.XpG();return t.Njj(a.onObjetivoDragged(o,i,"move"))})("dndStart",function(o){t.eBV(n);const i=t.XpG(2);return t.Njj(i.onObjetivoDragStart(o))}),t.j41(1,"div",17)(2,"div",27)(3,"div",28),t.EFF(4),t.k0s(),t.j41(5,"div",29),t.bIt("dndDrop",function(o){const i=t.eBV(n).$implicit,a=t.XpG(2);return t.Njj(a.onObjetivoDrop(o,i))}),t.j41(6,"div",30),t.nrm(7,"span",31),t.k0s(),t.DNE(8,ut,1,5,"ng-container",32),t.k0s()(),t.DNE(9,pt,9,8,"ng-template",null,1,t.C5r),t.j41(11,"div",23),t.nrm(12,"action-button",33)(13,"action-button",34)(14,"action-button",35),t.k0s()()()}if(2&l){const n=u.$implicit,e=t.XpG(2);t.Y8G("dndDisableIf",!e.canEdit)("dndDraggable",n),t.R7$(4),t.JRh(n.nome),t.R7$(),t.Y8G("dndDropzone",t.lJ4(11,$)),t.R7$(3),t.Y8G("ngForOf",n.objetivos),t.R7$(4),t.Y8G("data",n)("onClick",e.onObjetivoClick.bind(e)),t.R7$(),t.Y8G("data",n)("onClick",e.onObjetivoEditClick.bind(e)),t.R7$(),t.Y8G("data",n)("onClick",e.onObjetivoDeleteClick.bind(e))}}function bt(l,u){if(1&l){const n=t.RV6();t.j41(0,"div",11),t.nrm(1,"action-button",12),t.j41(2,"div",13)(3,"div",14)(4,"h4"),t.EFF(5),t.k0s()(),t.j41(6,"div",15),t.bIt("dndDrop",function(o){const i=t.eBV(n).$implicit,a=t.XpG();return t.Njj(a.onObjetivoDrop(o,i))}),t.j41(7,"div",16)(8,"div",17)(9,"p",18),t.nrm(10,"span",19)(11,"span",20)(12,"span",21)(13,"span",22),t.k0s(),t.j41(14,"div",23),t.nrm(15,"action-button",24)(16,"action-button",24)(17,"action-button",24),t.k0s()()(),t.DNE(18,_t,15,12,"div",25),t.k0s()()()}if(2&l){const n=u.$implicit,e=t.XpG();t.xc7("background-color",n.eixo.cor),t.R7$(),t.Y8G("data",n)("onClick",e.onObjetivoAddClick.bind(e)),t.R7$(4),t.JRh(n.eixo.nome),t.R7$(),t.Y8G("dndDropzone",t.lJ4(7,$)),t.R7$(12),t.Y8G("ngForOf",n.objetivos)}}let ht=(()=>{class l extends V.g{constructor(n){super(n),this.injector=n,this.canEdit=!0,this.planejamentos=[],this.eixos=[],this.objetivos=[],this.subObjetivosMenu={icon:"bi bi-three-dots-vertical",color:"transparent-black p-1 py-0",items:[{icon:"bi bi-file-earmark-bar-graph",label:"Entregas",onClick:this.onObjetivoClick.bind(this)},{icon:"bi bi-pencil-square",label:"Alterar",onClick:this.onObjetivoEditClick.bind(this)},{icon:"bi bi-trash",label:"Excluir",onClick:this.onObjetivoDeleteClick.bind(this)}]},this.validate=(e,o)=>null,this.dao=n.get(P.Y),this.objetivoDao=n.get(D.O),this.join=["objetivos"],this.title=this.lex.translate("Objetivos")+" "+this.lex.translate("do Planejamento Institucional"),this.form=this.fh.FormBuilder({planejamento_id:{default:null},todos:{default:!1}},this.cdRef,this.validate)}ngAfterViewInit(){super.ngAfterViewInit(),this.loadData(this.entity)}loadData(n,e){var o=this;return(0,p.A)(function*(){o.query=o.dao.query({where:[["data_arquivamento","==",null]],orderBy:[["data_inicio","desc"]]}),o.query.asPromise().then(i=>{o.planejamentos=i.map(a=>Object.assign({},{key:a.id,value:a.nome,data:a})),o.cdRef.detectChanges(),o.form.controls.planejamento_id.setValue(o.planejamentos.length?o.planejamentos[0].key:null)})})()}objetivosPai(n){let e=[],o=i=>{for(let a of i)a.id!=n&&(e.push(a),o(this.objetivos.filter(m=>m.objetivo_pai_id==a.id).sort((m,_)=>m.sequencia-_.sequencia)))};return o(this.objetivos.filter(i=>!i.objetivo_pai_id).sort((i,a)=>i.sequencia-a.sequencia)),e}marcador(n){let e=n._metadata?.level||0;return e<1?"":e<2?"\u2022 ":e<3?"- ":"+ "}objetivosEixo(n){let e=this.planejamento?.objetivos?.filter(i=>i.eixo_tematico_id==n&&!i.objetivo_pai_id).sort((i,a)=>i.sequencia-a.sequencia)||[],o=(i,a)=>{for(let m of i)m.objetivos=this.planejamento?.objetivos?.filter(_=>_.objetivo_pai_id==m.id).sort((_,Lt)=>_.sequencia-Lt.sequencia)||[],m._metadata=Object.assign(m._metadata||{},{level:a}),o(m.objetivos,a+1)};return o(e,0),e}onPlanejamentoChange(){this.planejamentoInstitucional.selectedItem&&this.dao.getById(this.planejamentoInstitucional.selectedItem?.key,this.join).then(n=>{this.planejamento=n,this.objetivos=this.planejamento.objetivos||[],this.eixos=this.query.extra?.eixos?.filter(e=>this.form?.controls.todos.value||this.planejamento?.objetivos?.find(o=>o.eixo_tematico_id==e.id)).map(e=>Object.assign({},{eixo:e,eixo_tematico_id:e.id,objetivos:this.objetivosEixo(e.id)}))||[],this.cdRef.detectChanges()})}onTodosChange(){this.onPlanejamentoChange()}onObjetivoClick(n){this.go.navigate({route:["gestao","plano-entrega","entrega","objetivos",n.id]})}onObjetivoAddClick(n){var e=this;let o=this.eixos.find(a=>a.eixo.id==n.id),i=new M.d({_status:"ADD",id:this.dao.generateUuid(),planejamento_id:this.planejamento?.id,eixo_tematico_id:n.eixo.id,eixo_tematico:n.eixo,sequencia:o?.objetivos.length?o?.objetivos[0].sequencia:0});var a;this.go.navigate({route:["gestao","planejamento","objetivo"]},{metadata:{planejamento:this.planejamento,objetivo:i,objetivos:this.objetivosPai(i.id)},modalClose:(a=(0,p.A)(function*(m){m&&e.objetivoDao.save(m).then(_=>e.onPlanejamentoChange())}),function(_){return a.apply(this,arguments)})})}onObjetivoDeleteClick(n){let e=n;this.dialog.confirm("Exclui ?","Deseja realmente excluir?").then(o=>{o&&this.objetivoDao.delete(e).then(i=>this.onPlanejamentoChange())})}onObjetivoEditClick(n){var i,e=this;this.go.navigate({route:["gestao","planejamento","objetivo"]},{metadata:{planejamento:this.planejamento,objetivo:n},modalClose:(i=(0,p.A)(function*(a){a&&e.objetivoDao?.save(a).then(m=>e.onPlanejamentoChange())}),function(m){return i.apply(this,arguments)})})}onObjetivoDrop(n,e){console.log("Drop",n),e.objetivos=e.objetivos||[];let o=n.data,i=typeof n.index>"u"?e.objetivos.length:n.index,a=i&&(e.objetivos[i]||e.objetivos[i-1])||void 0;e.objetivos.splice(i,0,o),this.loading=!0,this.objetivoDao?.update(o.id,{eixo_tematico_id:e.eixo_tematico_id,objetivo_pai_id:e.id||null,sequencia:a?.sequencia||0}).then(m=>this.onPlanejamentoChange()).finally(()=>this.loading=!1)}onObjetivoDragEnd(n){console.log("DragEnd",n)}onObjetivoDragged(n,e,o){console.log("Dragged",n,e.objetivos),e.objetivos=e.objetivos||[],e.objetivos.splice(e.objetivos.indexOf(n),1)}onObjetivoDragStart(n){console.log("DragStart",n)}static{this.\u0275fac=function(e){return new(e||l)(t.rXU(t.zZn))}}static{this.\u0275cmp=t.VBU({type:l,selectors:[["planejamento-mapa"]],viewQuery:function(e,o){if(1&e&&(t.GBs(g.Q,5),t.GBs(dt,5)),2&e){let i;t.mGM(i=t.lsd())&&(o.editableForm=i.first),t.mGM(i=t.lsd())&&(o.planejamentoInstitucional=i.first)}},features:[t.Vt3],decls:10,vars:8,consts:[["planejamentoInstitucional",""],["subobjetivos",""],["noButtons","",3,"form"],[1,"row","mt-2"],["controlName","planejamento_id",3,"change","size","control","items"],["transparent","","collapse","","title","Miss\xe3o, vis\xe3o, resultados e valores"],[3,"planejamento",4,"ngIf"],[1,"row","my-2"],["labelPosition","left","label","Todos os eixos","controlName","todos",3,"change","size","control"],["class","eixo",3,"background-color",4,"ngFor","ngForOf"],[3,"planejamento"],[1,"eixo"],["icon","bi bi-plus-circle","color","transparent-black",3,"data","onClick"],[1,"d-flex","align-items-center","align-content-stretch","p-3"],[1,"descricao"],[1,"objetivos","w-100","row",3,"dndDrop","dndDropzone"],["dndPlaceholderRef","",1,"col-md-4"],[1,"objetivo","shadow-sm","d-flex","flex-column","align-content-between"],[1,"placeholder-glow"],[1,"placeholder","col-2"],[1,"placeholder","col-3"],[1,"placeholder","col-1"],[1,"placeholder","col-6"],[1,"buttons","w-100","d-flex","justify-content-end","px-1"],["placeholder","","icon","bi bi-question","color","transparent-black p-0"],["class","col-md-4","dndType","objetivo","dndEffectAllowed","move",3,"dndDisableIf","dndDraggable","dndEnd","dndMoved","dndStart",4,"ngFor","ngForOf"],["dndType","objetivo","dndEffectAllowed","move",1,"col-md-4",3,"dndEnd","dndMoved","dndStart","dndDisableIf","dndDraggable"],[1,"m-2"],["dndHandle","",1,"card-text","text-break","w-100"],[1,"subobjetivo",3,"dndDrop","dndDropzone"],["dndPlaceholderRef","",1,"border","mt-3","p-2"],[1,"placeholder","w-75"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngFor","ngForOf"],["icon","bi bi-file-earmark-bar-graph","color","transparent-black px-1",3,"data","onClick"],["icon","bi bi-pencil-square","color","transparent-black px-1",3,"data","onClick"],["icon","bi bi-trash","color","transparent-black px-1",3,"data","onClick"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["dndType","objetivo","dndEffectAllowed","move",1,"border","mt-3","p-2",3,"dndEnd","dndMoved","dndStart","dndDisableIf","dndDraggable"],[1,"d-flex","justify-content-between"],[1,"me-2","card-text","text-break","w-100"],["noArrow","",3,"button","data"]],template:function(e,o){if(1&e){const i=t.RV6();t.j41(0,"editable-form",2)(1,"div",3)(2,"input-select",4,0),t.bIt("change",function(){return t.eBV(i),t.Njj(o.onPlanejamentoChange())}),t.k0s()(),t.j41(4,"separator",5),t.DNE(5,mt,1,1,"planejamento-show",6),t.k0s(),t.j41(6,"div",7)(7,"input-switch",8),t.bIt("change",function(){return t.eBV(i),t.Njj(o.onTodosChange())}),t.k0s()(),t.DNE(8,bt,19,8,"div",9),t.nrm(9,"div",7),t.k0s()}2&e&&(t.Y8G("form",o.form),t.R7$(2),t.Y8G("size",12)("control",o.form.controls.planejamento_id)("items",o.planejamentos),t.R7$(3),t.Y8G("ngIf",o.planejamento),t.R7$(2),t.Y8G("size",12)("control",o.form.controls.todos),t.R7$(),t.Y8G("ngForOf",o.eixos))},dependencies:[f.Sq,f.bT,f.T3,g.Q,I.S,b.K,H.F,lt.C,G.zr,G.hN,G.A7,G.GI,rt.r],styles:[".blockquote[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem;margin:0}.eixo[_ngcontent-%COMP%]   .descricao[_ngcontent-%COMP%]{width:250px}.eixo[_ngcontent-%COMP%]   .descricao[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{writing-mode:vertical-rl;text-orientation:mixed;transform:scaleX(-1) scaleY(-1);white-space:normal;height:min-content;text-align:center}.eixo[_ngcontent-%COMP%]   .descricao[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute}.eixo[_ngcontent-%COMP%]   .w-25[_ngcontent-%COMP%]{margin-bottom:10px}.eixo[_ngcontent-%COMP%]   .objetivos[_ngcontent-%COMP%]{min-height:100px}.eixo[_ngcontent-%COMP%]   .objetivo[_ngcontent-%COMP%]{background:#fff;margin:0 10px}.eixo[_ngcontent-%COMP%]   .subobjetivo[_ngcontent-%COMP%]{min-height:50px}.eixo[_ngcontent-%COMP%]   .objetivo[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{font-size:.8rem;cursor:grab}.eixo[_ngcontent-%COMP%]   .objetivo[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:10px;color:#5e5b5b;font-size:.8rem;margin:0}.eixo[_ngcontent-%COMP%]   .objetivo[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{border-top:1px solid #ddd}.eixo[_ngcontent-%COMP%]   .objetivo[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;padding:5px}.eixo[_ngcontent-%COMP%]   .objetivo[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#ddd}.detalhe_entrega[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}.dndDraggingSource[_ngcontent-%COMP%]{display:none}.acao-planos[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}"]})}}return l})();const ft=["unidade"];function jt(l,u){1&l&&t.nrm(0,"toolbar")}function vt(l,u){if(1&l&&(t.j41(0,"span",30),t.nrm(1,"i",31),t.EFF(2),t.k0s()),2&l){const n=t.XpG().row;t.R7$(2),t.SpI(" ",null==n.objetivos?null:n.objetivos.length,"")}}function gt(l,u){if(1&l&&t.DNE(0,vt,3,1,"span",29),2&l){const n=u.row;t.Y8G("ngIf",null==n.objetivos?null:n.objetivos.length)}}function Ct(l,u){1&l&&t.nrm(0,"planejamento-list-objetivo",32),2&l&&t.Y8G("entity",u.row)}function Pt(l,u){if(1&l&&(t.j41(0,"column",28),t.DNE(1,gt,1,1,"ng-template",null,7,t.C5r)(3,Ct,1,1,"ng-template",null,8,t.C5r),t.k0s()),2&l){const n=t.sdS(2),e=t.sdS(4),o=t.XpG(2);t.Y8G("align","center")("hint",o.lex.translate("Objetivo"))("template",n)("expandTemplate",e)}}function Ot(l,u){if(1&l&&(t.j41(0,"span",33),t.EFF(1),t.k0s()),2&l){const n=u.row;t.R7$(),t.JRh(n.nome)}}function It(l,u){if(1&l&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&l){const n=u.row,e=t.XpG(2);t.R7$(),t.SpI(" ",e.dao.getDateFormatted(n.data_inicio),"")}}function yt(l,u){if(1&l&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&l){const n=u.row,e=t.XpG(2);t.R7$(),t.SpI(" ",e.dao.getDateFormatted(n.data_fim),"")}}function Et(l,u){if(1&l&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&l){const n=u.row;t.R7$(),t.SpI(" ",(null==n.unidade?null:n.unidade.nome)||"","")}}function Dt(l,u){if(1&l){const n=t.RV6();t.j41(0,"grid",12),t.bIt("select",function(o){t.eBV(n);const i=t.XpG();return t.Njj(i.onSelect(o))}),t.DNE(1,jt,1,0,"toolbar",13),t.j41(2,"filter",14)(3,"div",15),t.nrm(4,"input-text",16),t.k0s(),t.j41(5,"div",15)(6,"input-switch",17),t.bIt("change",function(o){t.eBV(n);const i=t.XpG();return t.Njj(i.onSoEntidadeChange(o))}),t.k0s(),t.nrm(7,"input-search",18,2)(9,"input-datetime",19)(10,"input-datetime",20),t.k0s()(),t.j41(11,"columns"),t.DNE(12,Pt,5,4,"column",21),t.j41(13,"column",22),t.DNE(14,Ot,2,1,"ng-template",null,3,t.C5r),t.k0s(),t.j41(16,"column",23),t.DNE(17,It,2,1,"ng-template",null,4,t.C5r),t.k0s(),t.j41(19,"column",24),t.DNE(20,yt,2,1,"ng-template",null,5,t.C5r),t.k0s(),t.j41(22,"column",25),t.DNE(23,Et,2,1,"ng-template",null,6,t.C5r),t.k0s(),t.nrm(25,"column",26),t.k0s(),t.nrm(26,"pagination",27),t.k0s()}if(2&l){const n=t.sdS(15),e=t.sdS(18),o=t.sdS(21),i=t.sdS(24),a=t.XpG();t.Y8G("dao",a.dao)("add",a.add)("orderBy",a.orderBy)("join",a.join)("init",a.initGrid.bind(a))("selectable",a.selectable)("hasAdd",a.auth.hasPermissionTo("MOD_PLAN_INST_INCL"))("hasEdit",a.auth.hasPermissionTo("MOD_PLAN_INST_EDT")),t.R7$(),t.Y8G("ngIf",!a.selectable),t.R7$(),t.Y8G("deleted",a.auth.hasPermissionTo("MOD_AUDIT_DEL"))("form",a.filter)("where",a.filterWhere)("submit",a.filterSubmit.bind(a))("clear",a.filterClear.bind(a))("collapseChange",a.filterCollapseChange.bind(a))("collapsed",!a.selectable&&a.filterCollapsed),t.R7$(2),t.Y8G("size",12)("label",a.lex.translate("Planejamento Institucional"))("control",a.filter.controls.nome)("placeholder","Nome "+a.lex.translate("Planejamento Institucional")+"..."),t.BMQ("maxlength",250),t.R7$(2),t.Y8G("size",2)("label","S\xf3 da "+a.lex.translate("Entidade"))("control",a.filter.controls.so_entidade),t.R7$(),t.Y8G("size",4)("label",a.lex.translate("Unidade"))("disabled",a.unidade_disabled)("control",a.filter.controls.unidade_id)("dao",a.unidadeDao),t.R7$(2),t.Y8G("size",3)("control",a.filter.controls.data_inicio)("labelInfo","Data de in\xedcio do"+a.lex.translate("Planejamento Institucional")),t.R7$(),t.Y8G("size",3)("control",a.filter.controls.data_fim)("labelInfo","Data do fim do "+a.lex.translate("Planejamento Institucional")),t.R7$(2),t.Y8G("ngIf",!a.selectable),t.R7$(),t.Y8G("template",n),t.R7$(3),t.Y8G("template",e),t.R7$(3),t.Y8G("template",o),t.R7$(3),t.Y8G("template",i),t.R7$(3),t.Y8G("onEdit",a.edit)("options",a.options),t.R7$(),t.Y8G("rows",a.rowsLimit)}}function Gt(l,u){1&l&&t.nrm(0,"planejamento-mapa")}let Tt=(()=>{class l extends z.P{constructor(n){super(n,O.r,P.Y),this.injector=n,this.filterWhere=e=>{let o=[],i=e.value;return i.so_entidade?(e.controls.unidade_id.setValue(null),o.push(["unidade_id","==",null])):i.unidade_id&&o.push(["unidade_id","==",i.unidade_id]),i.nome?.length&&o.push(["nome","like","%"+i.nome.trim().replace(" ","%")+"%"]),i.data_inicio&&o.push(["data_inicio",">=",i.data_inicio]),i.data_fim&&o.push(["data_fim","<=",i.data_fim]),o},this.unidadeDao=n.get(x.s),this.code="MOD_PLAN_INST",this.title=this.lex.translate("Planejamentos Institucionais"),this.filter=this.fh.FormBuilder({data_inicio:{default:null},data_fim:{default:null},nome:{default:""},unidade_id:{default:null},so_entidade:{default:!1},agrupar:{default:!0}}),this.join=["unidade:id,nome,sigla","objetivos","objetivos.eixo_tematico:id,nome","objetivos.objetivo_superior:id,nome","planejamento_superior:id,nome","planejamento_superior.objetivos"],this.auth.hasPermissionTo("MOD_PLAN_INST")&&this.options.push({icon:"bi bi-info-circle",label:"Informa\xe7\xf5es",onClick:this.consult.bind(this)}),this.auth.hasPermissionTo("MOD_PLAN_INST_EXCL")&&this.options.push({icon:"bi bi-trash",label:"Excluir",onClick:this.delete.bind(this)}),this.addOption(this.OPTION_LOGS,"MOD_AUDIT_LOG"),this.addOption({label:"Relat\xf3rio",icon:"bi bi-file-pdf",onClick:e=>this.report(e,"PLAN_INSTITUCIONAL")})}ngAfterViewInit(){super.ngAfterViewInit(),this.tabs.active=["TABELA","MAPA","OKR"].includes(this.usuarioConfig.active_tab)?this.usuarioConfig.active_tab:"TABELA"}onLoad(){}report(n,e){const o={id:n.id,join:["objetivos","objetivos.objetivos_filhos"]};this.grid?.buildRowReport(e,o)}initGrid(n){n.queryInit()}onSelectTab(n){var e=this;return(0,p.A)(function*(){e.viewInit&&e.saveUsuarioConfig({active_tab:n.key})})()}filterClear(n){n.controls.nome.setValue(""),n.controls.data_inicio.setValue(null),n.controls.data_fim.setValue(null),n.controls.unidade_id.setValue(null),n.controls.so_entidade.setValue(!1),super.filterClear(n)}onSoEntidadeChange(n){this.filter.controls.so_entidade.value?(this.filter.controls.unidade_id.setValue(null),this.unidade_disabled="disabled"):(this.filter.controls.unidade_id.setValue(void 0),this.unidade_disabled=void 0)}static{this.\u0275fac=function(e){return new(e||l)(t.rXU(t.zZn))}}static{this.\u0275cmp=t.VBU({type:l,selectors:[["app-planejamento-list"]],viewQuery:function(e,o){if(1&e&&(t.GBs(C._,5),t.GBs(E.O,5),t.GBs(ft,5)),2&e){let i;t.mGM(i=t.lsd())&&(o.grid=i.first),t.mGM(i=t.lsd())&&(o.tabs=i.first),t.mGM(i=t.lsd())&&(o.unidade=i.first)}},features:[t.Vt3],decls:7,vars:4,consts:[["lista",""],["mapa",""],["unidade",""],["columnNome",""],["columnInicio",""],["columnFim",""],["columnUnidade",""],["columnObjetivos",""],["columnExpandedObjetivos",""],["right","",3,"title","select"],["key","TABELA","icon","bi bi-table","label","Lista",3,"template"],["key","MAPA","icon","bi bi-card-heading","label","Mapa",3,"template"],[3,"select","dao","add","orderBy","join","init","selectable","hasAdd","hasEdit"],[4,"ngIf"],[3,"deleted","form","where","submit","clear","collapseChange","collapsed"],[1,"row"],["controlName","nome",3,"size","label","control","placeholder"],["controlName","so_entidade",3,"change","size","label","control"],["controlName","unidade_id",3,"size","label","disabled","control","dao"],["date","","label","In\xedcio","controlName","data_inicio",3,"size","control","labelInfo"],["date","","label","Fim","controlName","data_fim",3,"size","control","labelInfo"],["type","expand","icon","bi bi-bullseye",3,"align","hint","template","expandTemplate",4,"ngIf"],["title","Nome","orderBy","nome",3,"template"],["title","In\xedcio",3,"template"],["title","Fim",3,"template"],["title","Unidade",3,"template"],["type","options",3,"onEdit","options"],[3,"rows"],["type","expand","icon","bi bi-bullseye",3,"align","hint","template","expandTemplate"],["class","badge rounded-pill bg-light text-dark",4,"ngIf"],[1,"badge","rounded-pill","bg-light","text-dark"],[1,"bi","bi-bullseye"],[3,"entity"],[1,"text-break","w-100"]],template:function(e,o){if(1&e&&(t.j41(0,"tabs",9)(1,"tab",10),t.DNE(2,Dt,27,43,"ng-template",null,0,t.C5r),t.k0s(),t.j41(4,"tab",11),t.DNE(5,Gt,1,0,"ng-template",null,1,t.C5r),t.k0s()()),2&e){const i=t.sdS(3),a=t.sdS(6);t.Y8G("title",o.isModal?"":o.title)("select",o.onSelectTab.bind(o)),t.R7$(),t.Y8G("template",i),t.R7$(3),t.Y8G("template",a)}},dependencies:[f.bT,C._,A.T,F.I,X.i,U.H,Q.e,I.S,y.O,c.H,s.r,E.O,w.j,L,ht]})}}return l})();var Nt=d(3609);const xt=["planejamentoSuperiorNome"],Rt=["eixoTematico"];function Mt(l,u){if(1&l){const n=t.RV6();t.j41(0,"separator",9)(1,"div",3),t.nrm(2,"input-text",10),t.j41(3,"input-select",11),t.bIt("change",function(o){t.eBV(n);const i=t.XpG();return t.Njj(i.onObjetivoSuperiorChange(o))}),t.k0s()()()}if(2&l){const n=t.XpG();t.Y8G("margin",2),t.R7$(2),t.Y8G("size",6)("icon",n.entityService.getIcon("Planejamento")),t.BMQ("maxlength",250),t.R7$(),t.Y8G("items",n.objetivos_superiores)("size",6)("control",n.form.controls.objetivo_superior_id)}}let W=(()=>{class l extends R.n{constructor(n){super(n,M.d,D.O),this.injector=n,this.objetivos=[],this.objetivos_superiores=[],this.validate=(e,o)=>{let i=null;return["nome","fundamentacao"].indexOf(o)>=0&&!e.value?.length&&(i="Obrigat\xf3rio"),["eixo_tematico_id"].indexOf(o)>=0&&!e.value?.length&&(i="Obrigat\xf3rio"),i},this.formValidation=e=>null,this.planejamentoDao=n.get(P.Y),this.eixoTematicoDao=n.get(Y.X),this.form=this.fh.FormBuilder({nome:{default:""},fundamentacao:{default:""},planejamento_id:{default:null},planejamento_superior_nome:{default:""},eixo_tematico_id:{default:null},objetivo_superior_id:{default:null},objetivo_pai_id:{default:null},integra_okr:{default:!0}},this.cdRef,this.validate)}loadData(n,e){var o=this;return(0,p.A)(function*(){let i=Object.assign({},e.value);e.patchValue(o.util.fillForm(i,n)),yield o.eixoTematico?.loadSearch(n.eixo_tematico||n.eixo_tematico_id),o.title="ADD"==n._status?"Inclus\xe3o de Objetivo":"Editando objetivo...",o.planejamento=o.metadata?.planejamento,o.metadata?.planejamento_superior&&(o.planejamento.planejamento_superior=o.metadata.planejamento_superior),o.form?.controls.planejamento_superior_nome.setValue(o.planejamento?.planejamento_superior?.nome||""),o.objetivos_superiores=o.planejamento?.planejamento_superior?.objetivos?.map(a=>Object.assign({},{key:a.id,value:a.nome,data:a}))||[]})()}initializeData(n){var e=this;return(0,p.A)(function*(){e.entity=e.metadata?.objetivo,e.objetivos=(e.metadata?.objetivos).map(o=>Object.assign({},{key:o.id,value:o.nome,data:o})),yield e.loadData(e.entity,n)})()}saveData(n){var e=this;return new Promise(function(){var o=(0,p.A)(function*(i,a){const m=Object.assign({eixo_tematico:e.eixoTematico?.selectedItem?.entity},e.entity);i(new Nt.p(e.util.fillForm(m,e.form.value)))});return function(i,a){return o.apply(this,arguments)}}())}isPlanejamentoUNEX(){return null!=this.planejamento?.unidade_id}onObjetivoPaiChange(n){const e=this.form.controls.objetivo_pai_id.value,o=this.objetivos.find(i=>i.key===e)?.data.eixo_tematico_id;o&&this.form.controls.eixo_tematico_id.setValue(o),this.cdRef.detectChanges()}onObjetivoSuperiorChange(n){let e=this.objetivos_superiores.find(o=>o.key===this.form?.controls.objetivo_superior_id.value)?.data.eixo_tematico_id;this.form.controls.eixo_tematico_id.value||this.form.controls.eixo_tematico_id.setValue(e),this.cdRef.detectChanges()}static{this.\u0275fac=function(e){return new(e||l)(t.rXU(t.zZn))}}static{this.\u0275cmp=t.VBU({type:l,selectors:[["app-planejamento-form-objetivo"]],viewQuery:function(e,o){if(1&e&&(t.GBs(g.Q,5),t.GBs(xt,5),t.GBs(Rt,5)),2&e){let i;t.mGM(i=t.lsd())&&(o.editableForm=i.first),t.mGM(i=t.lsd())&&(o.planejamentoSuperiorNome=i.first),t.mGM(i=t.lsd())&&(o.eixoTematico=i.first)}},features:[t.Vt3],decls:12,vars:16,consts:[["eixoTematico",""],["objetivoPai",""],["initialFocus","nome",3,"submit","cancel","form","disabled","title"],[1,"row"],["icon","bi bi-textarea-t","label","Nome","controlName","nome","required","",3,"size","rows","control"],["controlName","eixo_tematico_id","required","",3,"size","disabled","dao"],["label","Objetivo Pai","icon","fab fa-unity","controlName","objetivo_pai_id",3,"change","size","items"],["title","Vinculo com Planejamento Superior",3,"margin",4,"ngIf"],["icon","bi bi-textarea-t","label","Fundamenta\xe7\xe3o","controlName","fundamentacao","required","",3,"size","rows","control"],["title","Vinculo com Planejamento Superior",3,"margin"],["disabled","","label","Planejamento Superior vinculado","controlName","planejamento_superior_nome",3,"size","icon"],["label","Objetivo de Planejamento Superior (Vinculado)","icon","fab fa-unity","controlName","objetivo_superior_id",3,"change","items","size","control"]],template:function(e,o){if(1&e){const i=t.RV6();t.j41(0,"editable-form",2),t.bIt("submit",function(){return t.eBV(i),t.Njj(o.onSaveData())})("cancel",function(){return t.eBV(i),t.Njj(o.onCancel())}),t.j41(1,"div",3)(2,"div",3),t.nrm(3,"input-textarea",4),t.k0s(),t.j41(4,"div",3),t.nrm(5,"input-search",5,0),t.j41(7,"input-select",6,1),t.bIt("change",function(m){return t.eBV(i),t.Njj(o.onObjetivoPaiChange(m))}),t.k0s()(),t.DNE(9,Mt,4,7,"separator",7),t.j41(10,"div",3),t.nrm(11,"input-textarea",8),t.k0s()()()}2&e&&(t.Y8G("form",o.form)("disabled",o.formDisabled)("title",o.isModal?"":o.title),t.R7$(3),t.Y8G("size",12)("rows",2)("control",o.form.controls.nome),t.BMQ("maxlength",250),t.R7$(2),t.Y8G("size",6)("disabled",null!=o.form&&null!=o.form.controls&&null!=o.form.controls.objetivo_pai_id&&o.form.controls.objetivo_pai_id.value?"true":void 0)("dao",o.eixoTematicoDao),t.R7$(2),t.Y8G("size",6)("items",o.objetivos),t.R7$(2),t.Y8G("ngIf",null==o.planejamento?null:o.planejamento.planejamento_superior_id),t.R7$(2),t.Y8G("size",12)("rows",4)("control",o.form.controls.fundamentacao))},dependencies:[f.bT,g.Q,y.O,c.H,h.S,b.K,H.F]})}}return l})();function kt(l,u){if(1&l&&(t.j41(0,"h3",11),t.EFF(1),t.k0s()),2&l){const n=t.XpG();t.R7$(),t.JRh(n.title)}}function Bt(l,u){if(1&l&&t.nrm(0,"toolbar",12),2&l){const n=t.XpG();t.Y8G("buttons",n.buttons)}}function At(l,u){if(1&l&&(t.j41(0,"span",13),t.EFF(1),t.k0s()),2&l){const n=u.row,e=u.metadata,o=t.XpG();t.R7$(),t.JRh(o.getNome(e,n))}}const St=[{path:"",component:Tt,canActivate:[r.q],resolve:{config:j.L},runGuardsAndResolvers:"always",data:{title:"Planejamentos Institucionais"}},{path:"new",component:S,canActivate:[r.q],resolve:{config:j.L},runGuardsAndResolvers:"always",data:{title:"Inclus\xe3o de Planejamento Institucional",modal:!0}},{path:":id/edit",component:S,canActivate:[r.q],resolve:{config:j.L},runGuardsAndResolvers:"always",data:{title:"Edi\xe7\xe3o de Planejamento Institucional",modal:!0}},{path:":id/consult",component:S,canActivate:[r.q],resolve:{config:j.L},runGuardsAndResolvers:"always",data:{title:"Consulta a Planejamento Institucional",modal:!0}},{path:"objetivo",component:W,canActivate:[r.q],resolve:{config:j.L},runGuardsAndResolvers:"always",data:{title:"Inclus\xe3o de Objetivo de Planejamento Institucional",modal:!0}},{path:"objetivoList",component:(()=>{class l extends z.P{constructor(n){super(n,M.d,D.O),this.injector=n,this.buttons=[],this.filterWhere=e=>{let o=e.value,i=[];return o.planejamento_id?.length&&i.push(["planejamento_id","==",o.planejamento_id]),o.nome?.length&&i.push(["nome","like","%"+o.nome.trim().replace(" ","%")+"%"]),i},this.join=["objetivos"],this.planejamentoDao=n.get(P.Y),this.planejamentoObjetivoDao=n.get(D.O),this.title=this.lex.translate("Objetivos")+" "+this.lex.translate("do Planejamento Institucional"),this.filter=this.fh.FormBuilder({nome:{default:""},planejamento_id:{default:null}}),this.OPTION_INFORMACOES.onClick=e=>this.go.navigate({route:["gestao","planejamento","objetivo",e.id,"consult"]},{modal:!0}),this.addOption(this.OPTION_INFORMACOES)}filterClear(n){super.filterClear(n),this.filter?.controls.nome.setValue("")}getNome(n,e){if(!n.path){let o=e.objetivo_pai_id,i="";for(;o;){let a=this.grid?.items.find(m=>m.id==o);i=(a?.sequencia||"")+"."+i,o=a?.objetivo_pai_id||null}n.path=i+e.sequencia}return this.grid?.items.sort((o,i)=>{const a=(this.grid.getMetadata(o)?.path||"").split(".").map(_=>("000"+_).substr(-3)).join("."),m=(this.grid.getMetadata(i)?.path||"").split(".").map(_=>("000"+_).substr(-3)).join(".");return a<m?-1:a>m?1:0}),n.path.length>2?"- "+e.nome:n.path.length>4?"-- "+e.nome:e.nome}static{this.\u0275fac=function(e){return new(e||l)(t.rXU(t.zZn))}}static{this.\u0275cmp=t.VBU({type:l,selectors:[["planejamento-list-objetivos-entregas"]],viewQuery:function(e,o){if(1&e&&t.GBs(C._,5),2&e){let i;t.mGM(i=t.lsd())&&(o.grid=i.first)}},features:[t.Vt3],decls:13,vars:22,consts:[["columnNome",""],["class","my-2",4,"ngIf"],[3,"select","dao","add","orderBy","groupBy","join","selectable"],[3,"buttons",4,"ngIf"],[3,"deleted","form","where","submit","clear","collapseChange","collapsed"],[1,"row"],["label","Nome","controlName","nome","placeholder","Nome",3,"size","control"],["title","Nome","orderBy","nome",3,"template"],["title","Fundamenta\xe7\xe3o","field","fundamentacao"],["type","options",3,"onEdit","options"],[3,"rows"],[1,"my-2"],[3,"buttons"],[1,"d-block"]],template:function(e,o){if(1&e){const i=t.RV6();t.DNE(0,kt,2,1,"h3",1),t.j41(1,"grid",2),t.bIt("select",function(m){return t.eBV(i),t.Njj(o.onSelect(m))}),t.DNE(2,Bt,1,1,"toolbar",3),t.j41(3,"filter",4)(4,"div",5),t.nrm(5,"input-text",6),t.k0s()(),t.j41(6,"columns")(7,"column",7),t.DNE(8,At,2,1,"ng-template",null,0,t.C5r),t.k0s(),t.nrm(10,"column",8)(11,"column",9),t.k0s(),t.nrm(12,"pagination",10),t.k0s()}if(2&e){const i=t.sdS(9);t.Y8G("ngIf",!o.isModal),t.R7$(),t.Y8G("dao",o.dao)("add",o.add)("orderBy",o.orderBy)("groupBy",o.groupBy)("join",o.join)("selectable",o.selectable),t.R7$(),t.Y8G("ngIf",!o.selectable),t.R7$(),t.Y8G("deleted",o.auth.hasPermissionTo("MOD_AUDIT_DEL"))("form",o.filter)("where",o.filterWhere)("submit",o.filterSubmit.bind(o))("clear",o.filterClear.bind(o))("collapseChange",o.filterCollapseChange.bind(o))("collapsed",!o.selectable&&o.filterCollapsed),t.R7$(2),t.Y8G("size",12)("control",o.filter.controls.nome),t.BMQ("maxlength",250),t.R7$(2),t.Y8G("template",i),t.R7$(4),t.Y8G("onEdit",o.edit)("options",o.options),t.R7$(),t.Y8G("rows",o.rowsLimit)}},dependencies:[f.bT,C._,A.T,F.I,X.i,U.H,Q.e,c.H]})}}return l})(),canActivate:[r.q],resolve:{config:j.L},runGuardsAndResolvers:"always",data:{title:"Objetivos de Planejamento Institucional",modal:!0}},{path:"objetivo/:id/consult",component:W,canActivate:[r.q],resolve:{config:j.L},runGuardsAndResolvers:"always",data:{title:"Consulta a Objetivo de Planejamento Institucional",modal:!0}}];let $t=(()=>{class l{static{this.\u0275fac=function(e){return new(e||l)}}static{this.\u0275mod=t.$C({type:l})}static{this.\u0275inj=t.G2t({imports:[N.iI.forChild(St),N.iI]})}}return l})();var wt=d(166),Vt=d(3756);let Yt=(()=>{class l{static{this.\u0275fac=function(e){return new(e||l)}}static{this.\u0275mod=t.$C({type:l})}static{this.\u0275inj=t.G2t({imports:[f.MD,k.h,G.JG,$t,wt.Id,Vt.UteisModule]})}}return l})()}}]);
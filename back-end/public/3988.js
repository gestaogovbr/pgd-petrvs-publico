"use strict";(self.webpackChunkpetrvs=self.webpackChunkpetrvs||[]).push([[3988],{3988:(Ft,_,s)=>{s.r(_),s.d(_,{SolucaoModule:()=>bt});var p=s(6610),S=s(1260),u=s(3308),C=s(5611),d=s(9175),I=s(4423),t=s(3279);let D=(()=>{class n extends I.F{constructor(o){super("SolucaoUnidade",o),this.injector=o}getOne(o,a){return this.query({where:[["id_solucao","==",o],["id_unidade","==",a]]})}static{this.\u0275fac=function(a){return new(a||n)(t.KVO(t.zZn))}}static{this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var G=s(3535),v=s(5413),F=s(291);class j extends F.C{constructor(l){super(),this.id_unidade="",this.id_solucao="",this.status=!0,this.initialization(l)}}class m extends F.C{constructor(l){super(),this.identificador=0,this.nome="",this.sigla="",this.descricao="",this.url="",this.solucoes_unidades=[],this.produtos_solucoes=[],this.initialization(l)}}var R=s(9062),U=s(4796);let A=(()=>{class n{constructor(o){this.auth=o,this.solucao=[]}static{this.\u0275fac=function(a){return new(a||n)(t.KVO(U.u))}}static{this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var O=s(2034),T=s(5852),k=s(7772),B=s(2305),$=s(6764),Y=s(114),b=s(16),y=s(5201);function M(n,l){if(1&n){const o=t.RV6();t.j41(0,"button",25),t.bIt("click",function(){t.eBV(o);const e=t.XpG(2);return t.Njj(e.ativarTodas())}),t.EFF(1,"Ativar todas as Solu\xe7\xf5es "),t.k0s()}if(2&n){const o=t.XpG(2);t.Y8G("disabled",o.isUpdating)}}function N(n,l){if(1&n){const o=t.RV6();t.j41(0,"button",26),t.bIt("click",function(){t.eBV(o);const e=t.XpG(2);return t.Njj(e.desativarTodas())}),t.EFF(1,"Desativar todas as Solu\xe7\xf5es "),t.k0s()}if(2&n){const o=t.XpG(2);t.Y8G("disabled",o.isUpdating&&(null==o.grid||null==o.grid.items?null:o.grid.items.length))}}function P(n,l){if(1&n&&(t.j41(0,"toolbar"),t.DNE(1,M,2,1,"button",23)(2,N,2,1,"button",24),t.k0s()),2&n){let o,a;const e=t.XpG();t.R7$(),t.Y8G("ngIf",null===(o=null==e.grid||null==e.grid.items?null:e.grid.items.length)||void 0===o||o),t.R7$(),t.Y8G("ngIf",null===(a=null==e.grid||null==e.grid.items?null:e.grid.items.length)||void 0===a||a)}}function w(n,l){1&n&&(t.j41(0,"span"),t.EFF(1,"Nome"),t.k0s())}function L(n,l){1&n&&(t.j41(0,"span"),t.EFF(1,"#ID"),t.k0s())}function V(n,l){1&n&&(t.j41(0,"span"),t.EFF(1,"Status"),t.k0s())}function x(n,l){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.k0s(),t.nrm(2,"br")),2&n){const o=l.row;t.R7$(),t.SpI(" ",o.identificador,"")}}function z(n,l){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.k0s(),t.nrm(2,"br")),2&n){const o=l.row;t.R7$(),t.SpI(" ",o.nome,"")}}function Q(n,l){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.k0s(),t.nrm(2,"br")),2&n){const o=l.row;t.R7$(),t.SpI(" ",o.sigla,"")}}function X(n,l){if(1&n&&t.nrm(0,"badge",28),2&n){const o=l.row,a=t.XpG(2);t.Y8G("color",a.isActive[o.id]?"success":"danger")("label",a.isActive[o.id]?"Ativo":"Inativo")}}function H(n,l){if(1&n&&(t.j41(0,"column",27),t.DNE(1,X,1,2,"ng-template",null,3,t.C5r),t.k0s()),2&n){const o=t.sdS(2);t.Y8G("template",o)}}function J(n,l){if(1&n){const o=t.RV6();t.j41(0,"input-switch",30),t.bIt("change",function(e){const i=t.eBV(o).row,r=t.XpG(2);return t.Njj(r.ativarDesativar(i,e))}),t.k0s()}if(2&n){const o=l.row,a=t.XpG(2);t.Y8G("size",12)("value",a.isActive[o.id]?"true":"false")("valueOn","true")("valueOff","false")}}function Z(n,l){if(1&n&&(t.j41(0,"column",29),t.DNE(1,J,1,4,"ng-template",null,4,t.C5r),t.k0s()),2&n){const o=t.sdS(2);t.Y8G("template",o)}}let W=(()=>{class n extends R.P{constructor(o,a){super(o,m,d.Y),this.injector=o,this.botoes=[],this.isUpdating=!1,this.isSearching=!1,this.solucoesUnidades=[],this.isActive={},this.filterWhere=e=>{let i=[],r=e.value;return r.nome?.length&&i.push(["nome","like","%"+r.nome.trim().replace(" ","%")+"%"]),r.id?.length&&i.push(["identificador","=",r.id]),r.unidade_id?.length&&i.push(["unidade_id","==",r.unidade_id]),"ativo"==r.status&&i.push(["unidade_ativa","==",this.auth.unidade?.id]),"inativo"==r.status&&i.push(["unidade_inativa","==",this.auth.unidade?.id]),i},this.catalogoService=o.get(A),this.usuarioDao=o.get(v._),this.unidadeDao=o.get(G.s),this.solucaoUnidadeDao=o.get(D),this.solucaoDao=o.get(d.Y),this.title=this.lex.translate("Solu\xe7\xf5es"),this.filter=this.fh.FormBuilder({agrupar:{default:!0},nome:{default:this.metadata?.nome??""},unidade_id:{default:""},id:{default:""},status:{default:""}}),this.botoes=[],this.options.push({icon:"bi bi-clipboard-check",label:"Unidades",onClick:this.consult.bind(this)}),this.auth.hasPermissionTo("MOD_SOLUCOES_EXCL")&&this.options.push({icon:"bi bi-trash",label:"Excluir",onClick:this.delete.bind(this)}),this.isCurador=this.auth.isUsuarioCurador()}ngOnInit(){super.ngOnInit(),this.isSearching="search"==this.queryParams.mode,this.isSearching&&(this.filter?.controls.status.setValue("ativo"),this.saveUsuarioConfig()),this.loadingSolucoesUnidades()}loadingSolucoesUnidades(){var o=this;return(0,u.A)(function*(){let a=o.auth.unidade?.id;o.solucoesUnidades=yield o.solucaoUnidadeDao?.query({where:[["id_unidade","==",a]]}).asPromise(),Object.keys(o.isActive).forEach(e=>delete o.isActive[e]),o.solucoesUnidades.forEach(e=>{o.isActive[e.id_solucao]=o.ativo(e.id_solucao)})})()}dynamicButtons(o){let a=[];return o._status||a.push({label:"Detalhes",icon:"bi bi-eye",color:"btn-outline-success",onClick:this.showDetalhes.bind(this)}),a}showDetalhes(o){var a=this;return(0,u.A)(function*(){a.go.navigate({route:["gestao","solucao",o.id,"consult"]},{metadata:{solucao:o}})})()}onAgruparChange(o){const a=this.filter.controls.agrupar.value;(a&&!this.groupBy?.length||!a&&this.groupBy?.length)&&(this.groupBy=a?[{field:"unidade.sigla",label:"Unidade"}]:[],this.grid.reloadFilter())}onBuscaAvancada(){var a,o=this;this.go.navigate({route:["gestao","solucao","filter"]},{metadata:{nome:this.filter?.controls.nome.value,id:this.filter?.controls.id.value,status:this.filter?.controls.status.value},modalClose:(a=(0,u.A)(function*(e){e&&o.filter&&(o.filter?.controls.nome.setValue(e.nome),o.filter?.controls.id.setValue(e.id),o.filter?.controls.status.setValue(e.status),o.grid.reloadFilter())}),function(i){return a.apply(this,arguments)})})}onFilterClear(){this.filter?.reset(),this.grid.reloadFilter()}ativarDesativar(o,a){var e=this;return(0,u.A)(function*(){e.loading=!0;try{let i=e.auth.unidade?.id;if(null==i)return;let r=e.getSolucaoUnidade(o.id,i);if(null!==r){let c=e.ativo(o.id),_t=yield e.solucaoUnidadeDao.update(r.id,{id:r.id,status:!c}),St=r.id;e.solucoesUnidades=e.solucoesUnidades.filter(Ct=>Ct.id!=St),e.solucoesUnidades.push(_t),e.isActive[o.id]=!c}else{r=new j,r.id_solucao=o.id,r.id_unidade=i;let c=yield e.solucaoUnidadeDao?.save(r);e.solucoesUnidades.push(c),e.isActive[o.id]=!0}}catch(i){console.error("Erro ao atualizar o produto",i)}finally{e.isUpdating=!1,e.loading=!1}})()}ativarTodas(){var o=this;return(0,u.A)(function*(){o.confirm("Ativar todas as Solu\xe7\xf5es","Deseja realmente ativar todas as Solu\xe7\xf5es?",(0,u.A)(function*(){o.loading=!0;try{let a=o.auth.unidade?.id;if(null==a)return;yield o.solucaoDao.ativarTodas(a),o.loadingSolucoesUnidades()}catch(a){console.error("Erro ao ativar as Solu\xe7\xf5es",a)}finally{o.isUpdating=!1,o.loading=!1}}))})()}desativarTodas(){var o=this;return(0,u.A)(function*(){o.confirm("Desativar todas as Solu\xe7\xf5es","Deseja realmente desativar todas as Solu\xe7\xf5es?",(0,u.A)(function*(){o.loading=!0;try{let a=o.auth.unidade?.id;if(null==a)return;yield o.solucaoDao.desativarTodas(a),o.loadingSolucoesUnidades()}catch(a){console.error("Erro ao desativar as Solu\xe7\xf5es",a)}finally{o.isUpdating=!1,o.loading=!1}}))})()}ativo(o){let a=this.auth.unidade?.id,e=this.getSolucaoUnidade(o,a);return!!e&&!!e.status}getSolucaoUnidade(o,a){const e=this.solucoesUnidades.findIndex(i=>i.id_solucao===o&&i.id_unidade===a);return-1==e?null:this.solucoesUnidades[e]}confirm(o,a,e){window.confirm(`${o}\n\n${a}`)&&e()}static{this.\u0275fac=function(a){return new(a||n)(t.rXU(t.zZn),t.rXU(d.Y))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-solucao-list"]],viewQuery:function(a,e){if(1&a&&t.GBs(C._,5),2&a){let i;t.mGM(i=t.lsd())&&(e.grid=i.first)}},features:[t.Vt3],decls:32,vars:31,consts:[["columnID",""],["columnNome",""],["columnSigla",""],["columnStatus",""],["columnAtivar",""],[3,"select","dao","add","title","orderBy","groupBy","join","selectable","hasAdd","hasEdit"],[4,"ngIf"],[3,"deleted","form","where","submit","collapseChange","collapsed"],[1,"row"],[1,"col-md-4"],["label","Nome","icon","bi bi-textarea-t","controlName","this.filter.nome",3,"size","control"],[1,"col-md-8","busca-avancada"],[1,"busca-avancada-link"],[3,"click"],[1,"busca-avancada-clear"],[1,"busca-avancada-filtros-aplicados"],["title","ID#",3,"template"],["title","Nome",3,"template"],["title","Sigla/Nome Fantasia",3,"template"],["title","Status",3,"template",4,"ngIf"],["title","Ativar/Desativar para a sua unidade",3,"template",4,"ngIf"],["type","options",3,"onEdit","options","dynamicButtons"],[3,"rows"],["type","button","class","btn btn-outline-success",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-outline-danger",3,"disabled","click",4,"ngIf"],["type","button",1,"btn","btn-outline-success",3,"click","disabled"],["type","button",1,"btn","btn-outline-danger",3,"click","disabled"],["title","Status",3,"template"],[3,"color","label"],["title","Ativar/Desativar para a sua unidade",3,"template"],["scale","small",3,"change","size","value","valueOn","valueOff"]],template:function(a,e){if(1&a){const i=t.RV6();t.j41(0,"grid",5),t.bIt("select",function(c){return t.eBV(i),t.Njj(e.onSelect(c))}),t.DNE(1,P,3,2,"toolbar",6),t.j41(2,"filter",7)(3,"div",8)(4,"div",9),t.nrm(5,"input-text",10),t.k0s(),t.j41(6,"div",11)(7,"div",12)(8,"a",13),t.bIt("click",function(){return t.eBV(i),t.Njj(e.onBuscaAvancada())}),t.EFF(9,"Busca Avan\xe7ada"),t.k0s()(),t.j41(10,"div",14)(11,"a",13),t.bIt("click",function(){return t.eBV(i),t.Njj(e.onFilterClear())}),t.EFF(12,"Limpar filtros de busca"),t.k0s()(),t.j41(13,"div",15),t.EFF(14,"Filtros aplicados: "),t.DNE(15,w,2,0,"span",6)(16,L,2,0,"span",6)(17,V,2,0,"span",6),t.k0s()()()(),t.j41(18,"columns")(19,"column",16),t.DNE(20,x,3,1,"ng-template",null,0,t.C5r),t.k0s(),t.j41(22,"column",17),t.DNE(23,z,3,1,"ng-template",null,1,t.C5r),t.k0s(),t.j41(25,"column",18),t.DNE(26,Q,3,1,"ng-template",null,2,t.C5r),t.k0s(),t.DNE(28,H,3,1,"column",19)(29,Z,3,1,"column",20),t.nrm(30,"column",21),t.k0s(),t.nrm(31,"pagination",22),t.k0s()}if(2&a){const i=t.sdS(21),r=t.sdS(24),c=t.sdS(27);t.Y8G("dao",e.dao)("add",e.add)("title",e.isModal?"":e.title)("orderBy",e.orderBy)("groupBy",e.groupBy)("join",e.join)("selectable",e.selectable)("hasAdd",e.isCurador)("hasEdit",e.auth.hasPermissionTo("MOD_SOLUCOES_EDT")),t.R7$(),t.Y8G("ngIf",!e.selectable),t.R7$(),t.Y8G("deleted",!1)("form",e.filter)("where",e.filterWhere)("submit",e.filterSubmit.bind(e))("collapseChange",e.filterCollapseChange.bind(e))("collapsed",!e.selectable&&e.filterCollapsed),t.R7$(3),t.Y8G("size",12)("control",e.filter.controls.nome),t.BMQ("maxlength",250),t.R7$(10),t.Y8G("ngIf",e.filter.controls.nome.value.length>0),t.R7$(),t.Y8G("ngIf",e.filter.controls.id.value.length>0),t.R7$(),t.Y8G("ngIf",e.filter.controls.status.value.length>0),t.R7$(2),t.Y8G("template",i),t.R7$(3),t.Y8G("template",r),t.R7$(3),t.Y8G("template",c),t.R7$(3),t.Y8G("ngIf",!e.isSearching),t.R7$(),t.Y8G("ngIf",!e.isSearching),t.R7$(),t.Y8G("onEdit",e.edit)("options",e.options)("dynamicButtons",e.dynamicButtons.bind(e)),t.R7$(),t.Y8G("rows",e.rowsLimit)}},dependencies:[p.bT,C._,O.T,T.I,k.i,B.H,$.e,Y.S,b.H,y.n],styles:["filter[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{align-items:end}.busca-avancada[_ngcontent-%COMP%]   .busca-avancada-link[_ngcontent-%COMP%], .busca-avancada[_ngcontent-%COMP%]   .busca-avancada-clear[_ngcontent-%COMP%]{margin-bottom:6px}.busca-avancada[_ngcontent-%COMP%]   .busca-avancada-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .busca-avancada[_ngcontent-%COMP%]   .busca-avancada-clear[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700;text-decoration:none;cursor:pointer;color:#000}.busca-avancada[_ngcontent-%COMP%]   .busca-avancada-filtros-aplicados[_ngcontent-%COMP%]{margin-top:4px;font-size:12px}.busca-avancada[_ngcontent-%COMP%]   .busca-avancada-filtros-aplicados[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;background-color:#ccc;padding:1px 5px;margin-right:3px;border-radius:3px}.ativar-desativar[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse}"]})}}return n})();var f=s(1620),h=s(6819),g=s(1641),K=s(24);const q=["usuario"];let E=(()=>{class n extends K.n{constructor(o){super(o,m,d.Y),this.injector=o,this.usuarioDao=o.get(v._),this.modalWidth=1300,this.form=this.fh.FormBuilder({nome:{default:""},sigla:{default:""},unidade_id:{default:""},descricao:{default:""},url:{default:""}})}loadData(o,a){var e=this;return(0,u.A)(function*(){let i=Object.assign({},a.value);a.patchValue(e.util.fillForm(i,o))})()}initializeData(o){var a=this;return(0,u.A)(function*(){o.patchValue(new m),a.entity=new m,yield a.loadData(a.entity,a.form)})()}saveData(o){return new Promise((a,e)=>{const i=this.util.fill(new m,this.entity);a(this.util.fillForm(i,this.form.value))})}static{this.\u0275fac=function(a){return new(a||n)(t.rXU(t.zZn))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-solucao-form"]],viewQuery:function(a,e){if(1&a&&(t.GBs(g.Q,5),t.GBs(q,5)),2&a){let i;t.mGM(i=t.lsd())&&(e.editableForm=i.first),t.mGM(i=t.lsd())&&(e.usuario=i.first)}},features:[t.Vt3],decls:11,vars:15,consts:[["initialFocus","nome",3,"submit","cancel","form","disabled","title"],[1,"row"],[1,"col-md-4"],["label","Nome da Solu\xe7\xe3o","icon","bi bi-textarea-t","controlName","nome","labelInfo","Nome formal do produto ou servi\xe7o. Ex: Programa de Dest\xe3o do Desempenho","required","",3,"size","control"],[1,"col-md-8"],["label","Sigla/Nome Fantasia","icon","bi bi-textarea-t","controlName","nome","labelInfo","Nome informal do produto ou servi\xe7o. Ex: PGD","required","",3,"size","control"],[1,"col-md-6"],["label","Descri\xe7\xe3o","icon","bi bi-textarea-t","controlName","descricao","labelInfo","Objetivo e aplicabilidade da solu\xe7\xe3o. Ex: Programa do indutor da melhoria de desempenho individual e institucional.","required","",3,"size","control"],["label","URL","icon","bi bi-textarea-t","controlName","url","labelInfo","P\xe1gina oficial do produto ou servi\xe7o. Ex: www.gov.br/lgpd",3,"size","control"]],template:function(a,e){1&a&&(t.j41(0,"editable-form",0),t.bIt("submit",function(){return e.onSaveData()})("cancel",function(){return e.onCancel()}),t.j41(1,"div",1)(2,"div",2),t.nrm(3,"input-text",3),t.k0s(),t.j41(4,"div",4),t.nrm(5,"input-text",5),t.k0s()(),t.j41(6,"div",1)(7,"div",6),t.nrm(8,"input-text",7),t.k0s(),t.j41(9,"div",6),t.nrm(10,"input-text",8),t.k0s()()()),2&a&&(t.Y8G("form",e.form)("disabled",e.formDisabled)("title",e.isModal?"":e.title),t.R7$(3),t.Y8G("size",8)("control",e.form.controls.nome),t.BMQ("maxlength",250),t.R7$(2),t.Y8G("size",8)("control",e.form.controls.sigla),t.BMQ("maxlength",250),t.R7$(3),t.Y8G("size",6)("control",e.form.controls.descricao),t.BMQ("maxlength",250),t.R7$(2),t.Y8G("size",6)("control",e.form.controls.url),t.BMQ("maxlength",250))},dependencies:[g.Q,b.H]})}}return n})();var tt=s(4795),ot=s(568),et=s(3678);let at=(()=>{class n extends tt.g{constructor(o){super(o),this.injector=o,this.lookup=o.get(ot.s),this.usuarioDao=o.get(v._),this.modalWidth=500,this.form=this.fh.FormBuilder({id:{default:""},nome:{default:""},status:{default:""}},this.cdRef)}ngOnInit(){super.ngOnInit(),this.snapshot=this.snapshot||this.modalRoute||this.route.snapshot,this.urlParams=this.snapshot.paramMap,this.queryParams=this.go.decodeParam(this.snapshot.queryParams),this.metadata=this.go.getMetadata(this.snapshot.queryParams.idroute),this.form?.controls.nome.setValue(this.metadata.nome),this.form?.controls.id.setValue(this.metadata.id),this.form?.controls.status.setValue(this.metadata.status)}onSubmitClick(){var o=this;return(0,u.A)(function*(){o.loading=!0;try{let a={nome:o.form?.controls.nome.value,id:o.form?.controls.id.value,status:o.form?.controls.status.value};o.go.setModalResult(o.modalRoute?.queryParams?.idroute,a),o.close()}catch(a){o.error(a?.message||a?.error||a||"Erro desconhecido")}finally{o.loading=!1}})()}static{this.\u0275fac=function(a){return new(a||n)(t.rXU(t.zZn))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["solucao-filtro"]],viewQuery:function(a,e){if(1&a&&t.GBs(g.Q,5),2&a){let i;t.mGM(i=t.lsd())&&(e.editableForm=i.first)}},features:[t.Vt3],decls:6,vars:10,consts:[["confirmLabel","Buscar",3,"submit","cancel","form"],[1,"row"],[1,"col-md-12"],["label","Nome Fantasia","icon","bi bi-textarea-t","controlName","this.form.nome",3,"size","control"],["label","ID#","icon","bi bi-textarea-t","controlName","this.form.id",3,"size","control"],["label","Status","controlName","this.form.status",3,"size","items","control"]],template:function(a,e){1&a&&(t.j41(0,"editable-form",0),t.bIt("submit",function(){return e.onSubmitClick()})("cancel",function(){return e.onCancel()}),t.j41(1,"div",1)(2,"div",2),t.nrm(3,"input-text",3)(4,"input-text",4)(5,"input-select",5),t.k0s()()()),2&a&&(t.Y8G("form",e.form),t.R7$(3),t.Y8G("size",12)("control",e.form.controls.nome),t.BMQ("maxlength",250),t.R7$(),t.Y8G("size",12)("control",e.form.controls.id),t.BMQ("maxlength",10),t.R7$(),t.Y8G("size",12)("items",e.lookup.TIPO_ATIVO_INATIVO)("control",e.form.controls.status))},dependencies:[g.Q,b.H,et.K]})}}return n})();var nt=s(4468),it=s(2075),st=s(6774);function lt(n,l){1&n&&(t.j41(0,"div",2),t.nrm(1,"span",3),t.k0s())}function rt(n,l){1&n&&t.nrm(0,"badge",16)}function ut(n,l){1&n&&t.nrm(0,"badge",17)}function ct(n,l){if(1&n&&(t.j41(0,"tr")(1,"th"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.DNE(4,rt,1,0,"badge",14)(5,ut,1,0,"badge",15),t.k0s()()),2&n){const o=l.$implicit,a=t.XpG(2);t.R7$(2),t.JRh(null==o.unidade?null:o.unidade.sigla),t.R7$(2),t.Y8G("ngIf",a.ativo(o.status)),t.R7$(),t.Y8G("ngIf",!a.ativo(o.status))}}function dt(n,l){if(1&n&&(t.j41(0,"tr")(1,"th"),t.EFF(2),t.k0s()()),2&n){const o=l.$implicit;t.R7$(2),t.JRh(null==o.produto?null:o.produto.nome)}}function mt(n,l){if(1&n&&(t.qex(0),t.j41(1,"div",4)(2,"div")(3,"h4"),t.EFF(4),t.j41(5,"b"),t.EFF(6),t.k0s(),t.EFF(7),t.k0s()()(),t.j41(8,"div",5)(9,"div",6)(10,"div",7)(11,"small",8),t.EFF(12,"Descri\xe7\xe3o"),t.k0s(),t.j41(13,"b"),t.EFF(14),t.k0s()(),t.j41(15,"div",7)(16,"small",8),t.EFF(17,"URL"),t.k0s(),t.j41(18,"b"),t.EFF(19),t.k0s()()()(),t.j41(20,"tabs")(21,"tab",9)(22,"table",10)(23,"thead")(24,"tr")(25,"th",11)(26,"strong"),t.EFF(27,"Unidade"),t.k0s()(),t.j41(28,"th",11)(29,"strong"),t.EFF(30,"Status"),t.k0s()()()(),t.j41(31,"tbody"),t.DNE(32,ct,6,3,"tr",12),t.k0s()()(),t.j41(33,"tab",13)(34,"table",10)(35,"thead")(36,"tr")(37,"th",11)(38,"strong"),t.EFF(39,"Produto"),t.k0s()()()(),t.j41(40,"tbody"),t.DNE(41,dt,3,1,"tr",12),t.k0s()()()(),t.bVm()),2&n){const o=t.XpG();t.R7$(4),t.SpI("ID #",o.solucao.identificador," - "),t.R7$(2),t.JRh(o.solucao.nome),t.R7$(),t.SpI(" - ",o.solucao.sigla,""),t.R7$(7),t.JRh(o.solucao.descricao),t.R7$(5),t.JRh(o.solucao.url),t.R7$(13),t.Y8G("ngForOf",null==o.solucao?null:o.solucao.solucoes_unidades),t.R7$(9),t.Y8G("ngForOf",null==o.solucao?null:o.solucao.produtos_solucoes)}}const ht=[{path:"",component:W,canActivate:[f.q],resolve:{config:h.L},runGuardsAndResolvers:"always",data:{title:"Solu\xe7\xf5es"}},{path:"new",component:E,canActivate:[f.q],resolve:{config:h.L},runGuardsAndResolvers:"always",data:{title:"Inclus\xe3o de Solu\xe7\xe3o",modal:!0}},{path:":id/edit",component:E,canActivate:[f.q],resolve:{config:h.L},runGuardsAndResolvers:"always",data:{title:"Edi\xe7\xe3o de Solu\xe7\xe3o",modal:!0}},{path:"filter",component:at,canActivate:[f.q],resolve:{config:h.L},runGuardsAndResolvers:"always",data:{title:"Busca Avan\xe7ada",modal:!0}},{path:":id/consult",component:(()=>{class n extends nt.V{constructor(o){super(o),this.injector=o,this.solucaoDaoService=o.get(d.Y),this.loading=!0}ngOnInit(){super.ngOnInit(),this.carregaSolucaoDetalhado()}carregaSolucaoDetalhado(){var o=this;return(0,u.A)(function*(){o.solucao=yield o.solucaoDaoService.getById(o.metadata.solucao.id,["solucoesUnidades.unidade","produtosSolucoes.produto"]),o.loading=!1})()}ativo(o){return 1==o}static{this.\u0275fac=function(a){return new(a||n)(t.rXU(t.zZn))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["solucao-show"]],features:[t.Vt3],decls:2,vars:2,consts:[["class","spinner-border","role","status",4,"ngIf"],[4,"ngIf"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[1,"bg-dark-subtle","d-flex","p-2","px-4"],[1,"solucao-show","bg-body-secondary","mb-3"],[1,"row"],[1,"col-md-6"],[1,"d-block"],["key","UNIDADES","label","Unidades"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["key","PRODUTOS","label","Produtos"],["color","success","label","Ativo",4,"ngIf"],["color","danger","label","Inativo",4,"ngIf"],["color","success","label","Ativo"],["color","danger","label","Inativo"]],template:function(a,e){1&a&&t.DNE(0,lt,2,0,"div",0)(1,mt,42,7,"ng-container",1),2&a&&(t.Y8G("ngIf",e.loading),t.R7$(),t.Y8G("ngIf",e.solucao))},dependencies:[p.Sq,p.bT,it.O,st.j,y.n],styles:[".solucao-show[_ngcontent-%COMP%]{display:flex;gap:20px;width:100%;flex-direction:column;padding:10px 20px 20px}"]})}}return n})(),canActivate:[f.q],resolve:{config:h.L},runGuardsAndResolvers:"always",data:{title:"Solu\xe7\xe3o - Detalhamento",modal:!0}}];let pt=(()=>{class n{static{this.\u0275fac=function(a){return new(a||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[S.iI.forChild(ht),S.iI]})}}return n})();var gt=s(8832),vt=s(8425);let bt=(()=>{class n{static{this.\u0275fac=function(a){return new(a||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[p.MD,vt.h,gt.X1,pt]})}}return n})()}}]);
"use strict";(self.webpackChunkpetrvs=self.webpackChunkpetrvs||[]).push([[4423],{6804:(Y,f,i)=>{i.r(f),i.d(f,{TipoTarefaModule:()=>z});var u=i(6610),c=i(8069),l=i(1620),r=i(6819),p=i(1641),h=i(6395),b=i(291);class m extends b.C{constructor(C){super(),this.nome="",this.tempo_estimado=0,this.documental=!1,this.comentario=null,this.initialization(C)}}var g=i(24),t=i(3279),y=i(114),T=i(16),G=i(158);let d=(()=>{class a extends g.n{constructor(n){super(n,m,h.h),this.injector=n,this.validate=(o,e)=>{let s=null;return["nome"].indexOf(e)>=0&&!o.value?.length&&(s="Obrigat\xf3rio"),s},this.titleEdit=o=>"Editando "+this.lex.translate("Tipo de Tarefa")+": "+(o?.nome||""),this.modalWidth=800,this.form=this.fh.FormBuilder({nome:{default:""},tempo_estimado:{default:0},documental:{default:!1},comentario_predefinido:{default:""}},this.cdRef,this.validate)}loadData(n,o){let e=Object.assign({},o.value);o.patchValue(this.util.fillForm(e,n))}initializeData(n){n.patchValue(new m)}saveData(n){return new Promise((o,e)=>{const s=this.util.fill(new m,this.entity);o(this.util.fillForm(s,this.form.value))})}static{this.\u0275fac=function(o){return new(o||a)(t.rXU(t.zZn))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["tipo-tarefa-form"]],viewQuery:function(o,e){if(1&o&&t.GBs(p.Q,5),2&o){let s;t.mGM(s=t.lsd())&&(e.editableForm=s.first)}},features:[t.Vt3],decls:7,vars:8,consts:[["initialFocus","nome",3,"submit","cancel","form","disabled","title"],[1,"row"],["label","Nome","icon","bi bi-upc","controlName","nome","required","",3,"size"],["label","Documental?","controlName","documental","labelInfo","",3,"size"],["label","Coment\xe1rio autom\xe1tico","controlName","comentario_predefinido",3,"size","rows"]],template:function(o,e){1&o&&(t.j41(0,"editable-form",0),t.bIt("submit",function(){return e.onSaveData()})("cancel",function(){return e.onCancel()}),t.j41(1,"div",1)(2,"div",1),t.nrm(3,"input-text",2)(4,"input-switch",3),t.k0s(),t.j41(5,"div",1),t.nrm(6,"input-textarea",4),t.k0s()()()),2&o&&(t.Y8G("form",e.form)("disabled",e.formDisabled)("title",e.isModal?"":e.title),t.R7$(3),t.Y8G("size",10),t.BMQ("maxlength",250),t.R7$(),t.Y8G("size",2),t.R7$(2),t.Y8G("size",12)("rows",3))},dependencies:[p.Q,y.S,T.H,G.S]})}}return a})();var v=i(5611),D=i(9062),F=i(2034),R=i(5852),M=i(7772),L=i(2305),O=i(6764);function B(a,C){1&a&&t.nrm(0,"toolbar")}const I=[{path:"",component:(()=>{class a extends D.P{constructor(n){super(n,m,h.h),this.injector=n,this.filterWhere=o=>{let e=[],s=o.value;return s.nome?.length&&e.push(["nome","like","%"+s.nome.trim().replace(" ","%")+"%"]),e},this.title=this.lex.translate("Tipos de Tarefa"),this.code="MOD_TRF",this.filter=this.fh.FormBuilder({nome:{default:""}}),this.auth.hasPermissionTo("MOD_TRF")&&this.options.push({icon:"bi bi-info-circle",label:"Informa\xe7\xf5es",onClick:this.consult.bind(this)}),this.auth.hasPermissionTo("MOD_TRF_EXCL")&&this.options.push({icon:"bi bi-trash",label:"Excluir",onClick:this.delete.bind(this)}),this.addOption(this.OPTION_LOGS,"MOD_AUDIT_LOG")}filterClear(n){n.controls.nome.setValue(""),super.filterClear(n)}static{this.\u0275fac=function(o){return new(o||a)(t.rXU(t.zZn))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-tarefa-list"]],viewQuery:function(o,e){if(1&o&&t.GBs(v._,5),2&o){let s;t.mGM(s=t.lsd())&&(e.grid=s.first)}},features:[t.Vt3],decls:10,vars:25,consts:[[3,"select","dao","add","title","orderBy","groupBy","join","selectable","hasAdd","hasEdit"],[4,"ngIf"],[3,"deleted","form","where","submit","clear","collapseChange","collapsed"],[1,"row"],["controlName","nome","placeholder","Nome ...",3,"size","label","control"],["title","Nome","field","nome","orderBy","nome"],["title","Documental?","type","select","field","documental",3,"items"],["type","options",3,"onEdit","options"],[3,"rows"]],template:function(o,e){1&o&&(t.j41(0,"grid",0),t.bIt("select",function(N){return e.onSelect(N)}),t.DNE(1,B,1,0,"toolbar",1),t.j41(2,"filter",2)(3,"div",3),t.nrm(4,"input-text",4),t.k0s()(),t.j41(5,"columns"),t.nrm(6,"column",5)(7,"column",6)(8,"column",7),t.k0s(),t.nrm(9,"pagination",8),t.k0s()),2&o&&(t.Y8G("dao",e.dao)("add",e.add)("title",e.isModal?"":e.title)("orderBy",e.orderBy)("groupBy",e.groupBy)("join",e.join)("selectable",e.selectable)("hasAdd",e.auth.hasPermissionTo("MOD_TRF_INCL"))("hasEdit",e.auth.hasPermissionTo("MOD_TRF_EDT")),t.R7$(),t.Y8G("ngIf",!e.selectable),t.R7$(),t.Y8G("deleted",e.auth.hasPermissionTo("MOD_AUDIT_DEL"))("form",e.filter)("where",e.filterWhere)("submit",e.filterSubmit.bind(e))("clear",e.filterClear.bind(e))("collapseChange",e.filterCollapseChange.bind(e))("collapsed",!e.selectable&&e.filterCollapsed),t.R7$(2),t.Y8G("size",12)("label",e.lex.translate("Tarefa"))("control",e.filter.controls.nome),t.BMQ("maxlength",250),t.R7$(3),t.Y8G("items",e.lookup.SIMNAO),t.R7$(),t.Y8G("onEdit",e.edit)("options",e.options),t.R7$(),t.Y8G("rows",e.rowsLimit))},dependencies:[u.bT,v._,F.T,R.I,M.i,L.H,O.e,T.H]})}}return a})(),canActivate:[l.q],resolve:{config:r.L},runGuardsAndResolvers:"always",data:{title:"Tipos de Tarefa"}},{path:"new",component:d,canActivate:[l.q],resolve:{config:r.L},runGuardsAndResolvers:"always",data:{title:"Inclus\xe3o de Tipo de Tarefa",modal:!0}},{path:":id/edit",component:d,canActivate:[l.q],resolve:{config:r.L},runGuardsAndResolvers:"always",data:{title:"Edi\xe7\xe3o de Tipo de Tarefa",modal:!0}},{path:":id/consult",component:d,canActivate:[l.q],resolve:{config:r.L},runGuardsAndResolvers:"always",data:{title:"Consulta a Tipo de Tarefa",modal:!0}}];let E=(()=>{class a{static{this.\u0275fac=function(o){return new(o||a)}}static{this.\u0275mod=t.$C({type:a})}static{this.\u0275inj=t.G2t({imports:[c.iI.forChild(I),c.iI]})}}return a})();var j=i(9455),A=i(8832);let z=(()=>{class a{static{this.\u0275fac=function(o){return new(o||a)}}static{this.\u0275mod=t.$C({type:a})}static{this.\u0275inj=t.G2t({imports:[u.MD,j.h,A.X1,E]})}}return a})()}}]);
"use strict";(self.webpackChunkpetrvs=self.webpackChunkpetrvs||[]).push([[6614],{6614:(w,f,n)=>{n.r(f),n.d(f,{TipoMotivoAfastamentoModule:()=>P});var p=n(6610),h=n(8069),r=n(1620),m=n(6819),v=n(1641),g=n(9272),C=n(291);class d extends C.C{constructor(l){super(),this.codigo=null,this.nome="",this.sigla="",this.icone="",this.cor="",this.horas=0,this.integracao=0,this.data_inicio=new Date,this.data_fim=new Date,this.situacao="S",this.calculo="",this.initialization(l)}}var b=n(24),t=n(3279),T=n(16),E=n(9742),F=n(3678),D=n(4054);let u=(()=>{class a extends b.n{constructor(e){super(e,d,g.B),this.injector=e,this.validate=(i,o)=>{let s=null;return["nome"].indexOf(o)>=0&&!i.value?.length?s="Obrigat\xf3rio":["integracao"].indexOf(o)>=0&&1==i.value&&(s="A integra\xe7\xe3o \xe9 feita automaticamente."),s},this.titleEdit=i=>"Editando "+this.lex.translate("Tipo de Motivo de Afastamento")+": "+(i?.nome||""),this.title=this.lex.translate("Motivos de Afastamento"),this.form=this.fh.FormBuilder({codigo:{default:null},nome:{default:""},sigla:{default:""},icone:{default:""},situacao:{default:"S"},calculo:{default:this.lookup.CALCULO[0].value},cor:{default:""},horas:{default:0},data_inicio:{default:Date.now()},data_fim:{default:Date.now()},integracao:{default:0}},this.cdRef,this.validate)}checkIntegracao(){const e=!this.form?.controls.integracao.value;return e&&null!=this.form?.controls.codigo.value&&(this.form?.controls.codigo.setValue(null),this.cdRef.markForCheck()),e?"disable":void 0}loadData(e,i){let o=Object.assign({},i.value);i.patchValue(this.util.fillForm(o,e))}initializeData(e){e.patchValue(new d)}saveData(e){return new Promise((i,o)=>{const s=this.util.fill(new d,this.entity);i(this.util.fillForm(s,this.form.value))})}static{this.\u0275fac=function(i){return new(i||a)(t.rXU(t.zZn))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-tipo-motivo-afastamento-form"]],viewQuery:function(i,o){if(1&i&&t.GBs(v.Q,5),2&i){let s;t.mGM(s=t.lsd())&&(o.editableForm=s.first)}},features:[t.Vt3],decls:11,vars:19,consts:[["initialFocus","nome",3,"submit","cancel","form","disabled","title"],[1,"row"],["label","Descri\xe7\xe3o","controlName","nome","required","",3,"size"],["label","Integra\xe7\xe3o","controlName","integracao","labelInfo","Se esse motivo \xe9 integrado a outro sistema. ","required","",3,"size","items"],["label","C\xf3digo","controlName","codigo","labelInfo","C\xf3digo do Motivo de Afastamento vindo de outro sistema. ",3,"size","disabled"],["label","Sigla","controlName","sigla","labelInfo","Sigla do afastamento.","required","",3,"size"],["label","Formato","controlName","horas","labelInfo","Se o afastamento ser\xe1 contado em Dias ou em Horas. ",3,"size","items"],["label","C\xe1lculo","controlName","calculo","labelInfo","Tipo de c\xe1lculo que ser\xe1 usado para contabilizar as horas. ",3,"size","items"],["label","\xcdcone","controlName","icone",3,"size","items"],["label","Cor","controlName","cor",3,"size"]],template:function(i,o){1&i&&(t.j41(0,"editable-form",0),t.bIt("submit",function(){return o.onSaveData()})("cancel",function(){return o.onCancel()}),t.j41(1,"div",1),t.nrm(2,"input-text",2)(3,"input-radio",3)(4,"input-text",4)(5,"input-text",5),t.k0s(),t.j41(6,"div",1),t.nrm(7,"input-radio",6)(8,"input-radio",7)(9,"input-select",8)(10,"input-color",9),t.k0s()()),2&i&&(t.Y8G("form",o.form)("disabled",o.formDisabled)("title",o.isModal?"":o.title),t.R7$(2),t.Y8G("size",5),t.BMQ("maxlength",250),t.R7$(),t.Y8G("size",2)("items",o.lookup.SIMNAO),t.R7$(),t.Y8G("size",3)("disabled",o.checkIntegracao()),t.BMQ("maxlength",250),t.R7$(),t.Y8G("size",2),t.BMQ("maxlength",250),t.R7$(2),t.Y8G("size",3)("items",o.lookup.FORMATO_HORA),t.R7$(),t.Y8G("size",3)("items",o.lookup.CALCULO),t.R7$(),t.Y8G("size",2)("items",o.lookup.ICONES),t.R7$(),t.Y8G("size",4))},dependencies:[v.Q,T.H,E.t,F.K,D.f]})}}return a})();var M=n(5611),I=n(9062),R=n(2034),G=n(5852),O=n(7772),y=n(2305),z=n(6764);function L(a,l){1&a&&t.nrm(0,"toolbar")}function $(a,l){if(1&a&&(t.nrm(0,"i"),t.j41(1,"span"),t.EFF(2),t.k0s()),2&a){const e=l.row;t.HbH(e.icone),t.xc7("color",e.cor),t.R7$(),t.xc7("color",e.cor),t.R7$(),t.SpI(" ",e.nome,"")}}function j(a,l){if(1&a&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&a){const e=l.row;t.R7$(),t.JRh(e.horas?"Horas":"Dias")}}function N(a,l){if(1&a&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&a){const e=l.row;t.R7$(),t.JRh(e.integracao?"Sim (c\xf3d. "+e.codigo+")":"N\xe3o")}}const B=[{path:"",component:(()=>{class a extends I.P{constructor(e){super(e,d,g.B),this.injector=e,this.filterWhere=i=>{let o=[],s=i.value;return s.nome?.length&&o.push(["nome","like","%"+s.nome.trim().replace(" ","%")+"%"]),o},this.title=this.lex.translate("Motivos de Afastamento"),this.code="MOD_TIPO_MTV_AFT",this.filter=this.fh.FormBuilder({codigo:{default:null},nome:{default:""},icone:{default:""},cor:{default:""},horas:{default:""},integracao:{default:""},data_inicio:{default:""},data_fim:{default:""}}),this.auth.hasPermissionTo("MOD_TIPO_MTV_AFT")&&this.options.push({icon:"bi bi-info-circle",label:"Informa\xe7\xf5es",onClick:this.consult.bind(this)}),this.auth.hasPermissionTo("MOD_TIPO_MTV_AFT_EXCL")&&this.options.push({icon:"bi bi-trash",label:"Excluir",onClick:this.delete.bind(this)}),this.addOption(this.OPTION_LOGS,"MOD_AUDIT_LOG")}filterClear(e){e.controls.nome.setValue(""),super.filterClear(e)}static{this.\u0275fac=function(i){return new(i||a)(t.rXU(t.zZn))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-tipo-motivo-afastamento-list"]],viewQuery:function(i,o){if(1&i&&t.GBs(M._,5),2&i){let s;t.mGM(s=t.lsd())&&(o.grid=s.first)}},features:[t.Vt3],decls:17,vars:27,consts:[["columnDescricao",""],["columnEmHoras",""],["columnIntegrado",""],[3,"select","dao","add","title","orderBy","groupBy","join","selectable","hasAdd","hasEdit"],[4,"ngIf"],[3,"deleted","form","where","submit","clear","collapseChange","collapsed"],[1,"row"],["controlName","nome","placeholder","Nome...",3,"size","label","control"],["title","Descri\xe7\xe3o",3,"template"],["title","Formato",3,"template"],["title","Integrado",3,"template"],["type","options",3,"onEdit","options"],[3,"rows"]],template:function(i,o){if(1&i){const s=t.RV6();t.j41(0,"grid",3),t.bIt("select",function(c){return t.eBV(s),t.Njj(o.onSelect(c))}),t.DNE(1,L,1,0,"toolbar",4),t.j41(2,"filter",5)(3,"div",6),t.nrm(4,"input-text",7),t.k0s()(),t.j41(5,"columns")(6,"column",8),t.DNE(7,$,3,7,"ng-template",null,0,t.C5r),t.k0s(),t.j41(9,"column",9),t.DNE(10,j,2,1,"ng-template",null,1,t.C5r),t.k0s(),t.j41(12,"column",10),t.DNE(13,N,2,1,"ng-template",null,2,t.C5r),t.k0s(),t.nrm(15,"column",11),t.k0s(),t.nrm(16,"pagination",12),t.k0s()}if(2&i){const s=t.sdS(8),A=t.sdS(11),c=t.sdS(14);t.Y8G("dao",o.dao)("add",o.add)("title",o.isModal?"":o.title)("orderBy",o.orderBy)("groupBy",o.groupBy)("join",o.join)("selectable",o.selectable)("hasAdd",o.auth.hasPermissionTo("MOD_TIPO_MTV_AFT_INCL"))("hasEdit",o.auth.hasPermissionTo("MOD_TIPO_MTV_AFT_EDT")),t.R7$(),t.Y8G("ngIf",!o.selectable),t.R7$(),t.Y8G("deleted",o.auth.hasPermissionTo("MOD_AUDIT_DEL"))("form",o.filter)("where",o.filterWhere)("submit",o.filterSubmit.bind(o))("clear",o.filterClear.bind(o))("collapseChange",o.filterCollapseChange.bind(o))("collapsed",!o.selectable&&o.filterCollapsed),t.R7$(2),t.Y8G("size",12)("label","Nome "+o.lex.translate("motivo de afastamento"))("control",o.filter.controls.nome),t.BMQ("maxlength",250),t.R7$(2),t.Y8G("template",s),t.R7$(3),t.Y8G("template",A),t.R7$(3),t.Y8G("template",c),t.R7$(3),t.Y8G("onEdit",o.edit)("options",o.options),t.R7$(),t.Y8G("rows",o.rowsLimit)}},dependencies:[p.bT,M._,R.T,G.I,O.i,y.H,z.e,T.H]})}}return a})(),canActivate:[r.q],resolve:{config:m.L},runGuardsAndResolvers:"always",data:{title:"Motivos de Afastamento"}},{path:"new",component:u,canActivate:[r.q],resolve:{config:m.L},runGuardsAndResolvers:"always",data:{title:"Inclus\xe3o de Motivos de Afastamento",modal:!0}},{path:":id/edit",component:u,canActivate:[r.q],resolve:{config:m.L},runGuardsAndResolvers:"always",data:{title:"Edi\xe7\xe3o de Motivos de Afastamento",modal:!0}},{path:":id/consult",component:u,canActivate:[r.q],resolve:{config:m.L},runGuardsAndResolvers:"always",data:{title:"Consulta a Motivos de Afastamento",modal:!0}}];let Y=(()=>{class a{static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275mod=t.$C({type:a})}static{this.\u0275inj=t.G2t({imports:[h.iI.forChild(B),h.iI]})}}return a})();var S=n(9455),V=n(8832);let P=(()=>{class a{static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275mod=t.$C({type:a})}static{this.\u0275inj=t.G2t({imports:[p.MD,S.h,V.X1,Y]})}}return a})()}}]);
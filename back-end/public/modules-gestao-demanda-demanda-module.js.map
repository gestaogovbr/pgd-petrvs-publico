{"version":3,"sources":["./src/app/modules/gestao/demanda/demanda.module.ts","./src/app/modules/gestao/demanda/demanda-form-pausar/demanda-form-pausar.component.ts","./src/app/modules/gestao/demanda/demanda-form-pausar/demanda-form-pausar.component.html","./src/app/modules/gestao/demanda/demanda-list/demanda-list.component.ts","./src/app/modules/gestao/demanda/demanda-list/demanda-list.component.html","./src/app/modules/gestao/demanda/demanda-list-grid/demanda-list-grid.component.ts","./src/app/modules/gestao/demanda/demanda-list-grid/demanda-list-grid.component.html","./src/app/modules/gestao/demanda/demanda-form/demanda-form.component.ts","./src/app/modules/gestao/demanda/demanda-form/demanda-form.component.html","./src/app/models/demanda.model.ts","./src/app/modules/gestao/demanda/demanda-routing.module.ts","./src/app/modules/gestao/demanda/demanda-form-avaliar/demanda-form-avaliar.component.ts","./src/app/modules/gestao/demanda/demanda-form-avaliar/demanda-form-avaliar.component.html","./src/app/modules/gestao/demanda/demanda-form-concluir/demanda-form-concluir.component.ts","./src/app/modules/gestao/demanda/demanda-form-concluir/demanda-form-concluir.component.html","./src/app/modules/gestao/demanda/demanda-form-prorrogar/demanda-form-prorrogar.component.ts","./src/app/modules/gestao/demanda/demanda-form-prorrogar/demanda-form-prorrogar.component.html","./src/app/modules/gestao/demanda/demanda-form-iniciar/demanda-form-iniciar.component.ts","./src/app/modules/gestao/demanda/demanda-form-iniciar/demanda-form-iniciar.component.html","./src/app/models/comentario.ts","./src/app/dao/demanda-dao.service.ts"],"names":[],"mappings":"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","file":"modules-gestao-demanda-demanda-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { DemandaRoutingModule } from './demanda-routing.module';\nimport { DemandaListComponent } from './demanda-list/demanda-list.component';\nimport { DemandaFormComponent } from './demanda-form/demanda-form.component';\nimport { ComponentsModule } from 'src/app/components/components.module';\nimport { DemandaListGridComponent } from './demanda-list-grid/demanda-list-grid.component';\nimport { DemandaFormIniciarComponent } from './demanda-form-iniciar/demanda-form-iniciar.component';\nimport { DemandaFormConcluirComponent } from './demanda-form-concluir/demanda-form-concluir.component';\nimport { DemandaFormAvaliarComponent } from './demanda-form-avaliar/demanda-form-avaliar.component';\nimport { DemandaFormPausarComponent } from './demanda-form-pausar/demanda-form-pausar.component';\nimport { DemandaFormProrrogarComponent } from './demanda-form-prorrogar/demanda-form-prorrogar.component';\nimport { AppModule } from 'src/app/app.module';\nimport { UteisModule } from '../../uteis/uteis.module';\n\n\n@NgModule({\n  declarations: [\n    DemandaListComponent,\n    DemandaFormComponent,\n    DemandaListGridComponent,\n    DemandaFormIniciarComponent,\n    DemandaFormConcluirComponent,\n    DemandaFormAvaliarComponent,\n    DemandaFormPausarComponent,\n    DemandaFormProrrogarComponent\n  ],\n  imports: [\n    CommonModule,\n    DemandaRoutingModule,\n    ComponentsModule,\n    UteisModule\n  ]\n})\nexport class DemandaModule { }\n","import { Component, Injector, OnInit, ViewChild } from '@angular/core';\nimport { AbstractControl, FormGroup } from '@angular/forms';\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\nimport { DemandaDaoService } from 'src/app/dao/demanda-dao.service';\nimport { IIndexable } from 'src/app/models/base.model';\nimport { Demanda } from 'src/app/models/demanda.model';\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\n\n@Component({\n  selector: 'app-demanda-form-pausar',\n  templateUrl: './demanda-form-pausar.component.html',\n  styleUrls: ['./demanda-form-pausar.component.scss']\n})\nexport class DemandaFormPausarComponent extends PageFormBase<Demanda, DemandaDaoService> implements OnInit {\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\n  \n  public form: FormGroup;\n  public reiniciar: boolean = false;\n  public modalWidth: number = 400;\n\n  constructor(public injector: Injector) {\n    super(injector, Demanda, DemandaDaoService);\n    this.form = this.fh.FormBuilder({\n      inicio: {default: undefined},\n      data: {default: new Date()}\n    }, this.cdRef, this.validate);\n  }\n\n  public validate = (control: AbstractControl, controlName: string) => {\n    let result = null;\n    let pausado = this.entity?.pausas?.find(x => !x.data_fim);\n\n    if(controlName == \"data\") {\n      if(this.reiniciar && !pausado) {\n        result = \"No  pausa!\"; \n      } else if(!this.util.isDataValid(control.value)) {\n        result = \"Obrigatrio\";\n      } else if(pausado && this.entity && (control.value as Date).getTime() < this.entity!.data_inicio!.getTime()) {\n        result = \"Menor que inicio!\";\n      } \n    }\n\n    return result;\n  }\n\n  public async loadData(entity: Demanda, form: FormGroup) {\n    this.reiniciar = !!this.queryParams?.reiniciar;\n    let pausado = this.entity?.pausas?.find(x => !x.data_fim);\n    if(this.reiniciar && !pausado) {\n      this.error(\"No h pausa ativa para ser reiniciada.\");\n    }\n    let formValue = {\n      inicio: this.reiniciar ? pausado?.data_inicio : undefined, \n      data: this.util.setStrTime(new Date(), this.auth.unidadeHora)\n    };\n    if(entity.unidade_id != this.auth.unidade!.id) {\n      await this.auth.selecionaUnidade(entity.unidade_id);\n    }\n    form.patchValue(formValue);\n  }\n\n  public async initializeData(form: FormGroup) {\n    this.entity = (await this.dao!.getDemanda(this.urlParams!.get(\"id\")!))!;\n    await this.loadData(this.entity, form);\n  }\n\n  public saveData(form: IIndexable): Promise<boolean> {\n    return new Promise<boolean>((resolve, reject) => {\n      let pausa = {\n        demanda_id: this.entity!.id,\n        data: this.form.controls.data.value \n      };\n      if(this.reiniciar) {\n        this.dao!.reiniciar(pausa).then(saved => resolve(saved)).catch(reject);\n      } else {\n        this.dao!.pausar(pausa).then(saved => resolve(saved)).catch(reject);\n      }\n    });\n  }\n\n  public titleEdit(entity: Demanda): string {\n    return \"Iniciando\";// + (entity?.unidade_id || \"\");\n  }\n}","<top-alert *ngIf=\"!reiniciar\" type=\"warning\" message=\"Dica: No  necessrio suspender a tarefa entre as jornadas de trabalho!\"></top-alert>\r\n<editable-form [form]=\"form!\" [disabled]=\"formDisabled\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\">\r\n    <div *ngIf=\"reiniciar\" class=\"row\">\r\n        <input-datetime [size]=\"12\" label=\"Incio da pausa\" controlName=\"inicio\" [control]=\"form!.controls.inicio\" disabled labelInfo=\"Data de inicio da ltima pausa\"></input-datetime>\r\n    </div>\r\n    <div class=\"row\">\r\n        <input-datetime [size]=\"12\" [label]=\"reiniciar ? 'Data de reincio' : 'Data da pausa'\" controlName=\"data\" [control]=\"form!.controls.data\" [labelInfo]=\"reiniciar ? 'Data e hora do reincio da demanda' : 'Data e hora do incio da pausa/suspenso'\"></input-datetime>\r\n    </div>\r\n</editable-form>\r\n","import { Component, Injector, OnInit } from '@angular/core';\nimport { PageBase } from 'src/app/modules/base/page-base';\n\n@Component({\n  selector: 'app-demanda-list',\n  templateUrl: './demanda-list.component.html',\n  styleUrls: ['./demanda-list.component.scss']\n})\nexport class DemandaListComponent extends PageBase implements OnInit {\n\n  constructor(public injector: Injector) {\n    super(injector);\n    /* Inicializaes */\n    this.title = \"Demandas\";\n  }\n\n  ngOnInit(): void {\n  }\n\n}\n","<tabs display right [title]=\"isModal ? '' : title\">\n    <tab key=\"TABELA\" label=\"Lista\">\n        <demanda-list-grid [snapshot]=\"snapshot\"></demanda-list-grid>\n    </tab>\n    <tab key=\"KANBAN\" label=\"Tickets\">\n        Tikets\n    </tab>\n    <tab key=\"DASHBOARD\" label=\"Dashboard\">\n        Dashboard\n    </tab>\n</tabs>","import { Component, ElementRef, Injector, Input, ViewChild } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { ActivatedRouteSnapshot } from '@angular/router';\nimport { GridComponent } from 'src/app/components/grid/grid.component';\nimport { InputSearchComponent } from 'src/app/components/input/input-search/input-search.component';\nimport { InputSelectComponent } from 'src/app/components/input/input-select/input-select.component';\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\nimport { DemandaDaoService } from 'src/app/dao/demanda-dao.service';\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\nimport { UsuarioDaoService } from 'src/app/dao/usuario-dao.service';\nimport { ListenerAllPagesService } from 'src/app/listeners/listener-all-pages.service';\nimport { Afastamento } from 'src/app/models/afastamento.model';\nimport { Comentario } from 'src/app/models/comentario';\nimport { Demanda, DemandaChecklist } from 'src/app/models/demanda.model';\nimport { Plano } from 'src/app/models/plano.model';\nimport { Usuario } from 'src/app/models/usuario.model';\nimport { PageListBase } from 'src/app/modules/base/page-list-base';\nimport { CalendarService, FeriadoList } from 'src/app/services/calendar.service';\nimport { LookupItem } from 'src/app/services/lookup.service';\n\nexport type StatusDemanda = {\n  text: string,\n  title?: string,\n  icon: string,\n  class: string\n}\n\nexport type ExtraDemanda = {\n  planos: {[plano_id: string]: Plano},\n  afastamentos: {[usuario_id: string]: Afastamento[]},\n  feriados?: {[unidade_id: string]: FeriadoList}\n}\n\n@Component({\n  selector: 'demanda-list-grid',\n  templateUrl: './demanda-list-grid.component.html',\n  styleUrls: ['./demanda-list-grid.component.scss']\n})\nexport class DemandaListGridComponent extends PageListBase<Demanda, DemandaDaoService> {\n  @ViewChild(GridComponent, { static: false }) public grid?: GridComponent;\n  @ViewChild('unidade', { static: false }) public unidade?: InputSearchComponent;\n  @ViewChild('usuario', { static: false }) public usuario?: InputSearchComponent;\n  @ViewChild('etiqueta', { static: false }) public etiqueta?: InputSelectComponent;\n  @Input() snapshot?: ActivatedRouteSnapshot;\n  \n  public unidadeDao: UnidadeDaoService;\n  public usuarioDao: UsuarioDaoService;\n  public allPages: ListenerAllPagesService;\n  public calendar: CalendarService;\n  public extra: ExtraDemanda;\n  public formEdit: FormGroup;\n  public etiquetas: LookupItem[] = [];\n  public checklist?: DemandaChecklist[];\n\n  constructor(public injector: Injector, dao: DemandaDaoService) {\n    super(injector, Demanda, DemandaDaoService);\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\n    this.usuarioDao = injector.get<UsuarioDaoService>(UsuarioDaoService);\n    this.allPages = injector.get<ListenerAllPagesService>(ListenerAllPagesService);\n    this.calendar = injector.get<CalendarService>(CalendarService);\n    this.dao = dao;\n    this.join = [\"atividade\", \"demandante\", \"pausas\", \"usuario\", \"unidade\", \"comentarios.usuario:id,nome,apelido\"];\n    /* Inicializaes */\n    this.title = \"Demandas\";\n    this.extra = { planos: {}, afastamentos: {} };\n    this.filter = this.fh.FormBuilder({\n      atribuidas_para_mim: {default: false},\n      usuario_id: {default: \"\"},\n      somente_unidade_atual: {default: false},\n      unidades_subordinadas: {default: false},\n      unidade_id: {default: \"\"}\n    });\n    this.formEdit = this.fh.FormBuilder({\n      etiquetas: {default: []},\n      etiqueta: {default: \"\"}\n    });\n    this.groupBy = [{field: \"unidade.sigla\", label: \"Unidade\"}];\n  }\n\n  public orderComentarios(comentarios?: Comentario[]) {\n    return comentarios?.sort((a: Comentario, b: Comentario) => {\n      return (a.path + \"/\" + a.id) < (b.path + \"/\" + b.id) || (a.path == b.path && a.data_hora.getTime() < b.data_hora.getTime()) ? -1 : 1;\n    }) || [];\n  }\n\n  public onGridLoad(rows: any[]) {\n    /* Ordena os comentrios */\n    rows?.forEach((demanda: Demanda) => {\n      demanda.comentarios = this.orderComentarios(demanda.comentarios);\n    });\n    /* Recebe informaes extra da query para auxiliar em clculos e melhorar performace da consulta */\n    const extra = this.grid!.query?.extra;\n    if(extra) {\n      this.extra.planos = Object.assign(this.extra.planos, extra.planos || {});\n      for(let [key, value] of Object.entries(extra.afastamentos || {})) {\n        this.extra.afastamentos[key] = (value as Array<Afastamento>).reduce((a, v) => {\n          if(!a.find(x => x.id == v.id)) a.push(v);\n          return a;\n        }, this.extra.afastamentos[key] || []);\n      }\n      Object.entries(extra.feriados || {}).forEach(([key, value]) => {\n        if(!this.calendar.feriadosCadastrados[key]) this.calendar.feriadosCadastrados[key] = value as FeriadoList; \n      });\n      this.cdRef.detectChanges();    \n    }\n  }\n\n  public modalRefreshId(demanda: Demanda) {\n    return { modal: true, modalClose: (modalResult?: string) => this.grid!.query!.refreshId(demanda.id) };\n  }\n\n  public comentarioClick(element: HTMLSpanElement) {\n    const value = element.getAttribute(\"data-expanded\");\n    element.setAttribute(\"data-expanded\", value == \"true\" ? \"false\" : \"true\");\n  }\n\n  public temposDemanda(row: Demanda): StatusDemanda[] {\n    /* Atualiza somente a cada mudana de minuto da unidade atual */\n    if(row.metadados && row.metadados.extra?.lastUpdate != this.auth.unidadeHora) {\n      let tempos = [\n        { class: \"badge bg-light text-dark\", title: \"Prazo de entrega\", icon: \"bi bi-calendar-check\", text: this.dao!.getDateTimeFormatted(row.prazo_entrega) },\n        { class: \"badge bg-light text-dark\", title: \"Tempo pactuado\", icon: \"fas fa-handshake\", text: (row.tempo_pactuado ? this.util.decimalToTimerFormated(row.tempo_pactuado, true) : \"No\") + \" pactuado\" }\n      ];\n      if(row.metadados.concluido) tempos.push({ class: \"badge bg-light text-dark\", title: \"Data de entrega realizada\", icon: \"bi bi-check-circle\", text: this.dao!.getDateTimeFormatted(row.data_entrega) });\n      if(row.metadados.iniciado) {\n        const cargaHoraria = this.extra?.planos[row.plano_id!]?.carga_horaria || 0;\n        const afastamentos = this.extra?.afastamentos[row.usuario_id!] || [];\n        const despendido = row.metadados.concluido ? (row.tempo_despendido || 0) : this.calendar.horasUteis(row.data_inicio!, this.auth.hora, cargaHoraria, row.unidade!, \"ENTREGA\", row.pausas, afastamentos);\n        tempos.push({ class: \"badge \" + (despendido > row.tempo_pactuado ? \"bg-warning\" : \"bg-light\") + \" text-dark\", title: \"Tempo despendido\", icon: \"bi bi-hourglass-split\", text: this.util.decimalToTimerFormated(despendido, true) + \" despendido\" });\n      }\n      if(!row.metadados.concluido && row.prazo_entrega.getTime() < this.auth.hora.getTime()) {\n        const atrasado = this.calendar.horasAtraso(row.prazo_entrega, row.unidade!);\n        tempos.push({ class: \"badge bg-danger\", title: \"Tempo de atraso\", icon: \"bi bi-alarm\", text: this.util.decimalToTimerFormated(atrasado, true) + \" atrasado\" });\n      } \n      row.metadados.extra = row.metadados.extra || {};\n      row.metadados.extra.lastUpdate = this.auth.unidadeHora;\n      row.metadados.extra.tempos = tempos;\n    }\n    return row.metadados?.extra?.tempos || [];\n  }\n\n  public dynamicOptions(row: any): ToolbarButton[] {\n    let result: ToolbarButton[] = [];\n    let demanda: Demanda = row as Demanda;\n    \n    result.push({label: \"Informaes\", icon: \"bi bi-info-circle\", onClick: (demanda: Demanda) => this.go.navigate({route: ['gestao', 'demanda', demanda.id, 'consult']}, {modal: true})});  \n    if(!demanda.metadados?.iniciado) { /* No iniciado */\n      result.push(\n        {label: \"Iniciar\", icon: \"bi bi-play-circle\", onClick: (demanda: Demanda) => this.go.navigate({route: ['gestao', 'demanda', demanda.id, 'iniciar']}, this.modalRefreshId(demanda))},\n        {label: \"Alterar demanda\", icon: \"bi bi-pencil-square\", onClick: (demanda: Demanda) => this.go.navigate({route: ['gestao', 'demanda', demanda.id, 'edit']}, this.modalRefreshId(demanda))},\n        {divider: true},\n        {label: \"Excluir demanda\", icon: \"bi bi-trash\", onClick: this.delete.bind(this)}\n      );\n    } else if(demanda.metadados?.avaliado) { /* Avaliado */\n      result.push(\n        {label: \"Alterar avaliao\", icon: \"bi bi-star-half\", onClick: (demanda: Demanda) => this.go.navigate({route: ['gestao', 'demanda', demanda.id, 'avaliar']}, this.modalRefreshId(demanda))}, \n        {divider: true},\n        {label: \"Cancelar avaliao\", icon: \"bi bi-backspace\", onClick: this.cancelarAvaliacao.bind(this)}\n      );  \n    } else if(demanda.metadados?.concluido) { /* Concludo */\n      result.push(\n        {label: \"Editar concluso\", icon: \"bi bi-check-circle\", onClick: (demanda: Demanda) => this.go.navigate({route: ['gestao', 'demanda', demanda.id, 'concluir']}, this.modalRefreshId(demanda))}, \n        {label: \"Avaliar\", icon: \"bi bi-star-half\", onClick: (demanda: Demanda) => this.go.navigate({route: ['gestao', 'demanda', demanda.id, 'avaliar']}, this.modalRefreshId(demanda))},\n        {divider: true},\n        {label: \"Cancelar concluso\", icon: \"bi bi-backspace\", onClick: this.cancelarConclusao.bind(this)}\n      );  \n    } else if(demanda.metadados?.iniciado) { /* Iniciado */\n      if(demanda.metadados?.suspenso) { /* Iniciada e Suspensa */\n        result.push({label: \"Reiniciar\", icon: \"bi bi-play-circle\", onClick: (demanda: Demanda) => this.go.navigate({route: ['gestao', 'demanda', demanda.id, 'pausar'], params: {reiniciar: true}}, this.modalRefreshId(demanda))});  \n      } else { /* Iniciada e no Suspensa */\n        result.push(\n          {label: \"Concluir\", icon: \"bi bi-check-circle\", onClick: (demanda: Demanda) => this.go.navigate({route: ['gestao', 'demanda', demanda.id, 'concluir']}, this.modalRefreshId(demanda))}, \n          {label: \"Prorrogar prazo\", icon: \"bi bi-skip-end-circle\", onClick: (demanda: Demanda) => this.go.navigate({route: ['gestao', 'demanda', demanda.id, 'prorrogar']}, this.modalRefreshId(demanda))}, \n          {label: \"Editar inicio\", icon: \"bi bi-play-circle\", onClick: (demanda: Demanda) => this.go.navigate({route: ['gestao', 'demanda', demanda.id, 'iniciar']}, this.modalRefreshId(demanda))}, \n          {label: \"Suspender\", icon: \"bi bi-pause-circle\", onClick: (demanda: Demanda) => this.go.navigate({route: ['gestao', 'demanda', demanda.id, 'pausar']}, this.modalRefreshId(demanda))},\n          {divider: true},  \n          {label: \"Cancelar inicio\", icon: \"bi bi-backspace\", onClick: this.cancelarInicio.bind(this)}\n        );\n      }\n    }\n    return result;\n  }\n\n  public cancelarInicio(demanda: Demanda) {\n    const self = this;\n    this.dialog.confirm(\"Cancelar inicio ?\", \"Deseja realmente cancelar a inicializao?\").then(confirm => {\n      if(confirm) {\n        this.dao!.cancelarInicio(demanda.id).then(function () {\n          self.grid!.query!.refreshId(demanda.id);\n          self.dialog.alert(\"Sucesso\", \"Cancelado com sucesso!\");\n        }).catch(function (error) {\n          self.dialog.alert(\"Erro\", \"Erro ao cancelar inicio: \" + error?.message ? error?.message : error);\n        });\n      }\n    }); \n  }\n\n  public cancelarConclusao(demanda: Demanda) {\n    const self = this;\n    this.dialog.confirm(\"Cancelar concluso ?\", \"Deseja realmente cancelar a concluso?\").then(confirm => {\n      if(confirm) {\n        this.dao!.cancelarConclusao(demanda.id).then(function () {\n          self.grid!.query!.refreshId(demanda.id);\n          self.dialog.alert(\"Sucesso\", \"Cancelado com sucesso!\");\n        }).catch(function (error) {\n          self.dialog.alert(\"Erro\", \"Erro ao cancelar concluso: \" + error?.message ? error?.message : error);\n        });\n      }\n    }); \n  }\n\n  public cancelarAvaliacao(demanda: Demanda) {\n    const self = this;\n    this.dialog.confirm(\"Cancelar avaliacao ?\", \"Deseja realmente cancelar a avaliacao?\").then(confirm => {\n      if(confirm) {\n        this.dao!.cancelarAvaliacao(demanda.id).then(function () {\n          self.grid!.query!.refreshId(demanda.id);\n          self.dialog.alert(\"Sucesso\", \"Cancelado com sucesso!\");\n        }).catch(function (error) {\n          self.dialog.alert(\"Erro\", \"Erro ao cancelar avaliacao: \" + error?.message ? error?.message : error);\n        });\n      }\n    }); \n  }\n\n  public dynamicButtons(row: any): ToolbarButton[] {\n    let result: ToolbarButton[] = [];\n    let demanda: Demanda = row as Demanda;\n\n    if(!demanda.metadados?.iniciado) { /* No iniciado */\n      result.push({hint: \"Iniciar\", icon: \"bi bi-play-circle\", color: \"btn-outline-secondary\", onClick: (demanda: Demanda) => this.go.navigate({route: ['gestao', 'demanda', demanda.id, 'iniciar']}, this.modalRefreshId(demanda))});  \n    } else if(demanda.metadados?.avaliado) { /* Avaliado */\n      result.push({hint: \"Alterar avaliao\", icon: \"bi bi-check-all\", color: \"btn-outline-danger\", onClick: (demanda: Demanda) => this.go.navigate({route: ['gestao', 'demanda', demanda.id, 'avaliar', 'edit']}, this.modalRefreshId(demanda))});  \n    } else if(demanda.metadados?.concluido) { /* Concludo */\n      result.push({hint: \"Avaliar\", icon: \"bi bi-star-half\", color: \"btn-outline-success\", onClick: (demanda: Demanda) => this.go.navigate({route: ['gestao', 'demanda', demanda.id, 'avaliar']}, this.modalRefreshId(demanda))});  \n    } else if(demanda.metadados?.iniciado) { /* Iniciado */\n      if(demanda.metadados?.suspenso) { /* Iniciada e Suspensa */\n        result.push({hint: \"Reiniciar\", icon: \"bi bi-play-circle\", color: \"btn-outline-secondary\", onClick: (demanda: Demanda) => this.go.navigate({route: ['gestao', 'demanda', demanda.id, 'pausar'], params: {reiniciar: true}}, this.modalRefreshId(demanda))});  \n      } else { /* Iniciada e no Suspensa */\n        result.push({hint: \"Concluir\", icon: \"bi bi-check\", color: \"btn-outline-success\", onClick: (demanda: Demanda) => this.go.navigate({route: ['gestao', 'demanda', demanda.id, 'concluir']}, this.modalRefreshId(demanda))});\n      }\n    }\n    return result;\n  }\n\n  public getStatus(row: any): StatusDemanda[] {\n    let demanda: Demanda = row as Demanda;\n    let result: StatusDemanda[] = [];\n    switch (demanda.metadados?.status) {\n      case \"AVALIADO\": result.push({text: \"Avaliado\", icon: \"bi bi-star-half\", class: \"badge rounded-pill bg-success\"}); break;\n      case \"CONCLUIDO\": result.push({text: \"Concludo\", icon: \"bi bi bi-check-circle\", class: \"badge rounded-pill bg-primary\"}); break;\n      case \"INICIADO\": result.push({text: \"Iniciado\", icon: \"bi bi-play-circle\", class: \"badge rounded-pill bg-info text-dark\"}); break;\n      case \"LANCADO\": result.push({text: \"No iniciado\", icon: \"bi bi-stop-circle\", class: \"badge rounded-pill bg-warning text-dark\"}); break;\n      default: result.push({text: \"Desconhecido\", icon: \"bi bi-question-circle\", class: \"badge rounded-pill bg-light text-dark\"});\n    }\n    if(demanda.metadados?.atrasado) result.push({text: \"Atrasado\", icon: \"bi bi-alarm\", class: \"badge rounded-pill bg-danger\"});\n    if(demanda.metadados?.suspenso) result.push({text: \"Suspenso\", icon: \"bi bi-pause-circle\", class: \"badge rounded-pill bg-warning text-dark\"});\n    return result;\n  }\n\n  public getEtiquetaStyle(etiqueta: any) {\n    const bgColor = etiqueta.color || \"#000000\";\n    const txtColor = this.util.contrastColor(bgColor);\n    return `background-color: ${bgColor}; color: ${txtColor};`;\n  }\n\n  public onAtribuidasParaMimChange(event: Event) {\n    if(this.filter!.controls.atribuidas_para_mim.value) {\n      this.filter!.controls.usuario_id.setValue(this.auth.usuario!.id);\n    } else {\n      this.filter!.controls.usuario_id.setValue(undefined);\n    }\n  }\n\n  public onSomenteUnidadeAtualChange(event: Event) {\n    if(this.filter!.controls.somente_unidade_atual.value) {\n      this.filter!.controls.unidade_id.setValue(this.auth.unidade!.id);\n    } else {\n      this.filter!.controls.unidade_id.setValue(undefined);\n    }\n  }\n\n  public onProcessoClick(row: any) {\n    this.allPages.openDocumentoSei(row.id_processo, row.id_requisicao);\n  }\n\n  public async onColumnEtiquetasSave(row: any) {\n    try {\n      const saved = await this.dao!.update(row.id, {\n        etiquetas: this.formEdit.controls.etiquetas.value\n      });\n      return !!saved;\n    } catch (error) {\n      return false;\n    }\n  }\n\n  public async onColumnEtiquetasEdit(row: any) {\n    this.formEdit.controls.etiquetas.setValue(row.etiquetas);\n    this.formEdit.controls.etiqueta.setValue(\"\");\n    this.etiquetas = this.util.merge(row.atividade?.etiquetas_predefinidas, row.unidade?.etiquetas, (a, b) => a.key == b.key); \n  }\n\n  public async onColumnChecklistSave(row: any) {\n    try {\n      const saved = await this.dao!.update(row.id, {\n        checklist: this.checklist\n      });\n      row.checklist = this.checklist;\n      return !!saved;\n    } catch (error) {\n      return false;\n    }\n  }\n\n  public async onColumnChecklistEdit(row: any) {\n    this.checklist = this.util.clone(row.checklist);\n  }\n\n  public filterWhere = (filter: FormGroup) => {\n    let result: any[] = [];\n    let form: any = filter.value;\n \n    if(form.usuario_id?.length) {\n      result.push([\"usuario_id\", \"==\", form.usuario_id]);\n    } \n    if(form.unidade_id?.length) {\n      result.push([\"unidade_id\", \"==\", form.unidade_id]);\n    }\n    if(form.unidades_subordinadas) {\n      result.push([\"unidades_subordinadas\", \"==\", true]);\n    }\n    return result;\n  }\n\n  public addItemHandleEtiquetas(): LookupItem | undefined {\n    let result = undefined;\n    if(this.etiqueta && this.etiqueta.selectedItem) {\n      const item = this.etiqueta.selectedItem;\n      const key = item.key?.length ? item.key : this.util.md5(item.value);\n      if(this.util.validateLookupItem(this.formEdit.controls.etiquetas.value, key)) {\n        result = {\n          key: key,\n          value: item.value,\n          color: item.color,\n          icon: item.icon\n        };\n        this.formEdit.controls.etiqueta.setValue(\"\");\n      }\n    }\n    return result;\n  };\n\n}\n\n","<grid [dao]=\"dao\" [add]=\"add\" [form]=\"formEdit\" [hasEdit]=\"false\" [hasDelete]=\"false\" [orderBy]=\"orderBy\" [groupBy]=\"groupBy\" [join]=\"join\" (loadList)=\"onGridLoad($event)\">\n    <toolbar></toolbar>\n    <filter [form]=\"filter\" [where]=\"filterWhere\">\n        <div class=\"row\">\n            <input-switch [size]=\"1\" label=\"Minhas\" controlName=\"atribuidas_para_mim\" [control]=\"filter!.controls.atribuidas_para_mim\" (change)=\"onAtribuidasParaMimChange($event)\"></input-switch>\n            <input-search [size]=\"5\" label=\"Usurio\" #usuario controlName=\"usuario_id\" [control]=\"filter!.controls.usuario_id\" [disabled]=\"filter!.controls.atribuidas_para_mim.value ? 'true' : undefined\" [dao]=\"usuarioDao\" [selectRoute]=\"{route: ['configuracoes', 'usuario']}\"></input-search>\n            <input-switch [size]=\"1\" label=\"Atual\" controlName=\"somente_unidade_atual\" [control]=\"filter!.controls.somente_unidade_atual\" (change)=\"onSomenteUnidadeAtualChange($event)\" labelInfo=\"Somente as demandas da unidade selecionada\"></input-switch>\n            <input-search [size]=\"4\" label=\"Unidade\" #unidade controlName=\"unidade_id\" [control]=\"filter!.controls.unidade_id\" [disabled]=\"filter!.controls.somente_unidade_atual.value ? 'true' : undefined\" [dao]=\"unidadeDao\" [selectRoute]=\"{route: ['configuracoes', 'unidade']}\"></input-search>\n            <input-switch [size]=\"1\" label=\"Subordinadas\" controlName=\"unidades_subordinadas\" [control]=\"filter!.controls.unidades_subordinadas\"></input-switch>      \n        </div>\n    </filter>  \n    <columns>        \n        <column [title]=\"'#ID/n Processo\\nStatus'\" [template]=\"columnNumero\">\n            <ng-template let-row=\"row\" #columnNumero>\n                <span class=\"text-nowrap\">\n                    <small class=\"micro-text fw-ligh\">#{{row.numero}}</small>\n                    <span class=\"badge bg-light text-dark\" [attr.role]=\"row.numero_processo?.length ? 'button' : undefined\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\" (click)=\"onProcessoClick(row)\" [title]=\"row.numero_processo?.length ? 'Sei n ' + row.numero_requisicao : 'Sem processo vinculado'\">\n                        <i [class]=\"'bi ' + (row.numero_processo?.length ? 'bi bi-folder-symlink' : 'bi bi-x-lg')\"></i>\n                        {{row.numero_processo?.length ? row.numero_processo : \"No processual\"}}\n                    </span>\n                </span>\n                <div class=\"one-per-line\">\n                    <span *ngFor=\"let status of getStatus(row)\" [class]=\"status.class\">\n                        <i [class]=\"status.icon\"></i>\n                        {{status.text}}\n                    </span>\n                </div>\n            </ng-template>\n        </column>\n        <column [title]=\"'Un./Responsvel\\nDemandante'\" [template]=\"columnPessoas\">\n            <ng-template let-row=\"row\" #columnPessoas>\n                <div class=\"text-nowrap\">\n                    <span class=\"badge bg-light text-dark\">\n                        <i class=\"bi bi-briefcase\"></i>\n                        {{row.unidade.sigla}}    \n                    </span>\n                    <span class=\"badge bg-light text-dark\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\" title=\"Responsvel: {{row.usuario?.nome || 'No atribuido a nenhum usurio'}}\">\n                        <i [class]=\"'bi ' + (row.usuario?.nome?.length ? 'bi-person-check' : 'bi-person-x')\"></i>\n                        {{util.apelidoOuNome(row.usuario, true) || \"(No atribudo)\"}}    \n                    </span>\n                </div>\n                <span class=\"badge bg-light text-dark fw-light\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\" title=\"Demandante: {{row.demandante?.nome || 'Desconhecido'}}\">\n                    <i class=\"bi bi-cursor\"></i>\n                    {{util.apelidoOuNome(row.demandante, true) || \"Desconhecido\"}}\n                </span>\n            </ng-template>\n        </column>\n        <column title=\"Tempos\" [template]=\"columnTempos\">\n            <ng-template let-row=\"row\" #columnTempos>\n                <div class=\"one-per-line\">\n                    <span *ngFor=\"let tempo of temposDemanda(row)\" [class]=\"tempo.class\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\" [attr.title]=\"tempo.title\">\n                        <i [class]=\"tempo.icon\"></i>\n                        {{tempo.text}}    \n                    </span>\n                </div>\n            </ng-template>\n        </column>\n        <column title=\"Etiquetas\" [editTemplate]=\"columnEtiquetasEdit\" [template]=\"columnEtiquetas\" [edit]=\"onColumnEtiquetasEdit.bind(this)\" [save]=\"onColumnEtiquetasSave.bind(this)\">\n            <ng-template let-row=\"row\" #columnEtiquetas>\n                <span *ngFor=\"let etiqueta of row.etiquetas\" class=\"badge me-1\" [style]=\"getEtiquetaStyle(etiqueta)\">\n                    <i [class]=\"etiqueta.icon\"></i>\n                    {{etiqueta.value}}    \n                </span>\n            </ng-template>\n            <ng-template let-row=\"row\" #columnEtiquetasEdit>\n                <input-multiselect controlName=\"etiquetas\" [size]=\"12\" [control]=\"formEdit.controls.etiquetas\" [addItemHandle]=\"addItemHandleEtiquetas.bind(this)\">\n                    <input-select [size]=\"12\" #etiqueta controlName=\"etiqueta\" [control]=\"formEdit.controls.etiqueta\" [items]=\"etiquetas\"></input-select>\n                </input-multiselect>\n            </ng-template>\n        </column>\n\n        <column title=\"Checklist\" [editTemplate]=\"columnChecklistEdit\" [template]=\"columnChecklist\" [edit]=\"onColumnChecklistEdit.bind(this)\" [save]=\"onColumnChecklistSave.bind(this)\">\n            <ng-template let-row=\"row\" #columnChecklist>\n                <table>\n                    <tr *ngFor=\"let check of row.checklist\">\n                        <td><i *ngIf=\"check.checked\" class=\"bi bi-check-circle\"></i></td>\n                        <td>{{check.texto}}</td>\n                    </tr>\n                </table>\n            </ng-template>\n            <ng-template let-row=\"row\" #columnChecklistEdit>\n                <table>\n                    <tr *ngFor=\"let check of checklist; let i = index\">\n                        <td>\n                            <input-switch [size]=\"12\" scale=\"small\" [source]=\"checklist\" [path]=\"i + '.checked'\"></input-switch>\n                        </td>\n                        <td>{{check.texto}}</td>\n                    </tr>\n                </table>\n            </ng-template>\n        </column>\n\n        <column [title]=\"'Atividade\\nAssunto'\" [template]=\"columnTitulo\">\n            <ng-template let-row=\"row\" #columnTitulo>\n                <small *ngIf=\"row.atividade\" class=\"demanda-atividade\"><strong>{{row.atividade.nome || \"\"}}</strong><br></small>\n                <span class=\"micro-text fw-ligh demanda-assunto\">{{row.assunto}}</span>\n                <span *ngFor=\"let comentario of row.comentarios\" #badge class=\"badge bg-light text-dark comentario-badge\" role=\"button\" (click)=\"comentarioClick(badge)\" data-expanded=\"false\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\" [title]=\"lookup.getValue(lookup.COMENTARIO_TIPO, comentario.tipo)\">\n                    {{\" \".repeat(comentario.path?.includes(\"/\") ? comentario.path.split(\"/\").length-1 : 0)}}\n                    <i [class]=\"'me-1 ' + lookup.getIcon(lookup.COMENTARIO_TIPO, comentario.tipo)\"></i>\n                    <span class=\"comentario-title\">\n                        <strong>{{util.apelidoOuNome(comentario.usuario)}}</strong>\n                         {{util.getDateTimeFormatted(comentario.data_hora)}}<br>\n                    </span>\n                    <span class=\"comentario-text\">\n                        {{comentario.texto}}\n                    </span>\n                </span>\n            </ng-template>\n        </column>\n        <column type=\"options\" [onEdit]=\"edit\" [onDelete]=\"delete\" [dynamicOptions]=\"dynamicOptions.bind(this)\" [dynamicButtons]=\"dynamicButtons.bind(this)\"></column>\n    </columns>\n    <pagination [rows]=\"rowsLimit\"></pagination>\n</grid>","import { Component, Injector, OnInit, ViewChild } from '@angular/core';\nimport { AbstractControl, FormGroup } from '@angular/forms';\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\nimport { DemandaDaoService } from 'src/app/dao/demanda-dao.service';\nimport { IIndexable } from 'src/app/models/base.model';\nimport { Demanda, DemandaChecklist } from 'src/app/models/demanda.model';\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\nimport { UnidadeDaoService } from 'src/app/dao/unidade-dao.service';\nimport { LookupItem } from 'src/app/services/lookup.service';\nimport { TipoDocumentoDaoService } from 'src/app/dao/tipo-documento-dao.service';\nimport { AtividadeDaoService } from 'src/app/dao/atividade-dao.service';\nimport { UsuarioDaoService } from 'src/app/dao/usuario-dao.service';\nimport { InputSelectComponent } from 'src/app/components/input/input-select/input-select.component';\nimport { SelectItem } from 'src/app/components/input/input-base';\nimport { Afastamento } from 'src/app/models/afastamento.model';\nimport { Atividade } from 'src/app/models/atividade.model';\nimport { Usuario } from 'src/app/models/usuario.model';\nimport { InputSearchComponent } from 'src/app/components/input/input-search/input-search.component';\nimport { CalendarService } from 'src/app/services/calendar.service';\nimport { Plano } from 'src/app/models/plano.model';\nimport { InputTimerComponent } from 'src/app/components/input/input-timer/input-timer.component';\nimport { Unidade } from 'src/app/models/unidade.model';\nimport { InputButtonComponent } from 'src/app/components/input/input-button/input-button.component';\nimport { ListenerAllPagesService } from 'src/app/listeners/listener-all-pages.service';\nimport { ToolbarButton } from 'src/app/components/toolbar/toolbar.component';\nimport { Comentario } from 'src/app/models/comentario';\nimport { GridComponent } from 'src/app/components/grid/grid.component';\nimport { TipoProcessoDaoService } from 'src/app/dao/tipo-processo-dao.service';\n\nexport type Checklist = {id: string, texto: string, checked: boolean};\n\n@Component({\n  selector: 'app-demanda-form',\n  templateUrl: './demanda-form.component.html',\n  styleUrls: ['./demanda-form.component.scss']\n})\nexport class DemandaFormComponent extends PageFormBase<Demanda, DemandaDaoService> implements OnInit {\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\n  @ViewChild('etiqueta', { static: false }) public etiqueta?: InputSelectComponent;\n  @ViewChild('atividade', { static: false }) public atividade?: InputSearchComponent;\n  @ViewChild('plano', { static: false }) public plano?: InputSelectComponent;\n  @ViewChild('unidade', { static: false }) public unidade?: InputSearchComponent;\n  @ViewChild('usuario', { static: false }) public usuario?: InputSearchComponent;\n  @ViewChild('planejado', { static: false }) public planejado?: InputTimerComponent;\n  @ViewChild('docRequisicao', { static: false }) public docRequisicao?: InputButtonComponent;\n  @ViewChild('comentarios', { static: false }) public comentarios?: GridComponent;\n  @ViewChild('tipoProcesso', { static: false }) public tipoProcesso?: InputSearchComponent;\n  @ViewChild('tipoDocumento', { static: false }) public tipoDocumento?: InputSearchComponent;\n\n  public form: FormGroup;\n  public formChecklist: FormGroup;\n  public formComentarios: FormGroup;\n  public tipoDocumentoDao: TipoDocumentoDaoService;\n  public tipoProcessoDao: TipoProcessoDaoService;\n  public atividadeDao: AtividadeDaoService;\n  public unidadeDao: UnidadeDaoService;\n  public usuarioDao: UsuarioDaoService;\n  public calendar: CalendarService;\n  public allPages: ListenerAllPagesService;\n  public etiquetas: LookupItem[] = [];\n  public checklist: LookupItem[] = [];\n  public complexidades: LookupItem[] = [];\n  public planos: LookupItem[] = [];\n  public comentarioTipos: LookupItem[];\n  \n  /* Varivel utilizada para detectar as alteraes feitas pelo usurio e recalcular os prazos */\n  public delta: IIndexable = {\n    plano_id: \"\",\n    atividade_id: \"\",\n    fator_complexidade: 1,\n    tempo_planejado: 0,\n    prazo_entrega: new Date(0)\n  };\n\n  constructor(public injector: Injector) {\n    super(injector, Demanda, DemandaDaoService);\n    const horaInicial = this.auth.hora;\n    this.tipoDocumentoDao = injector.get<TipoDocumentoDaoService>(TipoDocumentoDaoService);\n    this.tipoProcessoDao = injector.get<TipoProcessoDaoService>(TipoProcessoDaoService);\n    this.atividadeDao = injector.get<AtividadeDaoService>(AtividadeDaoService);\n    this.unidadeDao = injector.get<UnidadeDaoService>(UnidadeDaoService);\n    this.usuarioDao = injector.get<UsuarioDaoService>(UsuarioDaoService);\n    this.calendar = injector.get<CalendarService>(CalendarService);\n    this.allPages = injector.get<ListenerAllPagesService>(ListenerAllPagesService);\n    this.delta.prazo_entrega = horaInicial;\n    this.comentarioTipos = this.lookup.COMENTARIO_TIPO.filter(x => ![\"GERENCIAL\", \"AVALIACAO\"].includes(x.key));\n    this.form = this.fh.FormBuilder({\n      numero: {default: 0},\n      id_processo: {default: 0},\n      numero_processo: {default: \"\"},\n      tipo_documento_requisicao_id: {default: \"\"},\n      id_requisicao: {default: 0,},\n      numero_requisicao: {default: \"\"},\n      assunto: {default: \"\"},\n      atividade_id: {default: null},\n      fator_complexidade: {default: 1},\n      unidade_id: {default: \"\"},\n      tempo_pactuado: {default: 0},\n      recalcula_prazo: {default: false},\n      demandante_id: {default: \"\"},\n      usuario_id: {default: null},\n      prazo_entrega: {default: horaInicial},\n      data_distribuicao: {default: horaInicial},\n      carga_horaria: {default: 0},\n      tempo_planejado: {default: 0},\n      data_inicio: {default: null},\n      data_entrega: {default: null},\n      tempo_despendido: {default: 0},\n      etiquetas: {default: []},\n      checklist: {default: []},\n      comentarios: {default: []},\n      tipo_documento_entrega_id: {default: \"\"},\n      id_processo_entrega: {default: 0},\n      numero_processo_entrega: {default: \"\"},\n      id_documento_entrega: {default: 0},\n      numero_documento_entrega: {default: \"\"},\n      titulo_documento_entrega: {default: \"\"},\n      tempo_homologado: {default: null},\n      produtividade: {default: 0},\n      data_arquivamento: {default: null},\n      etiqueta: {default: \"\"},\n      plano_id: {default: null},\n      tipo_processo_id: {default: null}\n    }, this.cdRef, this.validate);\n    this.formChecklist = this.fh.FormBuilder({\n      id: {default: \"\"},\n      texto: {default: \"\"},\n      checked: {default: false}\n    }, this.cdRef, this.validateChecklist);\n    this.formComentarios = this.fh.FormBuilder({\n      texto: {default: \"\"},\n      tipo: {default: \"COMENTARIO\"},\n      privacidade: {default: \"PUBLICO\"}\n    }, this.cdRef, this.validateComentario);\n    this.join = [\"usuario\", \"atividade\", \"unidade\", \"comentarios.usuario\"];\n  }\n\n  public get tituloDemanda(): string {\n    return this.form?.controls.numero?.value ? \"#\" + this.form?.controls.numero?.value : \"\"; \n  }\n\n  public get isDemandaProcessual(): boolean {\n    return this.form?.controls.id_processo?.value && this.form?.controls.id_requisicao?.value; \n  }\n\n  public get prazoEmDias(): string | undefined {\n    const unidade = this.unidade?.searchObj as Unidade || this.auth.unidade!;\n    return [\"DIAS_CORRIDOS\", \"DIAS_UTEIS\"].includes(unidade.distribuicao_forma_contagem_prazos) ? \"\" : undefined;\n  }\n\n  public validateChecklist = (control: AbstractControl, controlName: string) => {\n    let result = null;\n    return result;\n  }\n\n  public validateComentario = (control: AbstractControl, controlName: string) => {\n    let result = null;\n    return result;\n  }\n\n  public validate = (control: AbstractControl, controlName: string) => {\n    let result = null;\n\n    if([\"unidade_id\", \"assunto\"].includes(controlName) && !control.value?.length) {\n      result = \"Obrigatrio\";\n    } else if([\"data_distribuicao\", \"prazo_entrega\"].includes(controlName)) {\n      if (!this.util.isDataValid(control.value)) {\n        result = \"Data invlida\";\n      } else if(controlName == \"data_distribuicao\" && control.value.getTime() > this.form?.controls.prazo_entrega.value.getTime()) {\n        result = \"Maior que entrega\";\n      } else if(controlName == \"prazo_entrega\" && control.value.getTime() < this.form?.controls.data_distribuicao.value.getTime()) {\n        result = \"Menor que distribuio\";\n      }\n    } else if(controlName == \"plano_id\" && !control.value?.length && this.form?.controls?.usuario_id.value?.length) {\n      result = \"Obrigatrio\";\n    } else if(controlName == \"fator_complexidade\" && !control.value && this.form?.controls?.atividade_id.value?.length) {\n      result = \"Obrigatrio\";\n    }\n\n    return result;\n  }\n\n  public formValidation = (form?: FormGroup) => {\n    this.loadEtiquetas();\n    this.loadChecklist();\n    let result = undefined;\n    const etiquetasKeys = this.etiquetas.map(x => x.key);\n    const checklistKeys = this.checklist.map(x => x.key);\n    const etiqueta = this.form.controls.etiquetas.value.find((x: LookupItem) => !etiquetasKeys.includes(x.key)) as LookupItem;\n    const checklst = this.form.controls.checklist.value.find((x: DemandaChecklist) => !etiquetasKeys.includes(x.id) && x.checked) as DemandaChecklist;\n    if(etiqueta) result = \"Etiqueta \" + etiqueta.value + \"no pode ser utilizada!\"; \n    if(checklst) result = \"Checklist \" + checklst.texto + \"no pode ser utilizado!\"; \n    return result;\n  }\n\n  protected assignDelta(delta: any) {\n    delta = delta || {\n      plano_id: this.form.controls.plano_id.value,\n      atividade_id: this.form.controls.atividade_id.value,\n      fator_complexidade: this.form.controls.fator_complexidade.value,\n      tempo_planejado: this.form.controls.tempo_planejado.value,\n      prazo_entrega: this.form.controls.prazo_entrega.value\n    }\n    console.log(\"ASSIGN\", this.delta, delta);\n    this.util.fill(this.delta, delta);\n  }\n\n  protected deltaChanged(field?: string) {\n    return this.form?.controls.plano_id && \n      this.form?.controls.atividade_id &&\n      this.form?.controls.fator_complexidade &&\n      this.form?.controls.tempo_planejado &&\n      this.form?.controls.prazo_entrega &&\n      (\n        ((!field || field == \"plano_id\") && this.delta.plano_id != this.form.controls.plano_id.value) ||\n        ((!field || field == \"atividade_id\") && this.delta.atividade_id != this.form.controls.atividade_id.value) ||\n        ((!field || field == \"fator_complexidade\") && this.delta.fator_complexidade != this.form.controls.fator_complexidade.value) ||\n        ((!field || field == \"tempo_planejado\") && this.delta.tempo_planejado != this.form.controls.tempo_planejado.value) ||\n        ((!field || field == \"prazo_entrega\") && this.delta.prazo_entrega?.getTime() != this.form.controls.prazo_entrega.value?.getTime())\n      );  \n  }\n\n  public addItemHandleEtiquetas(): LookupItem | undefined {\n    let result = undefined;\n    if(this.etiqueta && this.etiqueta.selectedItem) {\n      const item = this.etiqueta.selectedItem;\n      const key = item.key?.length ? item.key : this.util.md5(item.value);\n      if(this.util.validateLookupItem(this.form.controls.etiquetas.value, key)) {\n        result = {\n          key: key,\n          value: item.value,\n          color: item.color,\n          icon: item.icon\n        };\n        this.form.controls.etiqueta.setValue(\"\");\n      }\n    }\n    return result;\n  };\n\n  private setControlPreventChange(controlName: \"plano_id\" | \"atividade_id\" | \"fator_complexidade\" | \"tempo_planejado\" | \"prazo_entrega\", value: any) {\n    this.delta[controlName] = value;\n    console.log(\"PREVENT-DEFAULT\", controlName, value);\n    this.form.controls[controlName].setValue(value);\n  }\n\n  private calcularPrazo(source: \"COMPLEXIDADE\" | \"PLANO\" | \"PLANEJADO\" | \"ENTREGA\") {\n    const atividade = this.atividade?.searchObj as Atividade;\n    const unidade = this.unidade?.searchObj as Unidade;\n    const plano = (this.plano?.selectedItem?.data || this.planos.find(x => x.key == this.plano?.selectedItem?.key)?.data) as Plano;\n    const fator = this.form.controls.fator_complexidade.value || 1;\n    const cargaHoraria = plano?.carga_horaria || this.calendar.expediente(unidade);\n    if(this.deltaChanged()) {\n      this.assignDelta(null);\n      console.log(\"ATUALIZOU\", this.delta);\n      if(source == \"COMPLEXIDADE\") {\n        if(atividade) this.setControlPreventChange(\"tempo_planejado\", atividade.dias_planejado * cargaHoraria * fator || 0);\n        const entrega = this.calendar.prazo(this.form.controls.data_distribuicao.value, this.form.controls.tempo_planejado.value, cargaHoraria, unidade, \"DISTRIBUICAO\");\n        this.setControlPreventChange(\"prazo_entrega\", entrega);\n      } else if(source == \"PLANO\") {\n        this.planejado!.hoursPerDay = cargaHoraria;\n        this.form.controls.carga_horaria.setValue(cargaHoraria);\n        const tempo = this.calendar.horasUteis(this.form.controls.data_distribuicao.value, this.form.controls.prazo_entrega.value, cargaHoraria, unidade, \"DISTRIBUICAO\");\n        this.setControlPreventChange(\"tempo_planejado\", tempo);\n      } else if(source == \"PLANEJADO\") {\n        const entrega = this.calendar.prazo(this.form.controls.data_distribuicao.value, this.form.controls.tempo_planejado.value, cargaHoraria, unidade, \"DISTRIBUICAO\");\n        this.setControlPreventChange(\"prazo_entrega\", entrega);\n      } else if(source == \"ENTREGA\") {\n        const tempo = this.form.controls.prazo_entrega.value ? this.calendar.horasUteis(this.form.controls.data_distribuicao.value, this.form.controls.prazo_entrega.value, cargaHoraria, unidade, \"DISTRIBUICAO\") : 0;\n        this.setControlPreventChange(\"tempo_planejado\", tempo);\n      }\n      this.cdRef.detectChanges();\n    }  \n  }\n  \n  public onTempoPlanejadoChange(event: Event) {\n    console.log(\"onTempoPlanejadoChange\");\n    if(this.entity) this.calcularPrazo(\"PLANEJADO\");\n  }\n\n  public onDataDistribuicaoChange(event: Event) {\n    console.log(\"distribuicao\", this.form.controls.data_distribuicao.value);\n    if(this.entity) this.calcularPrazo(\"ENTREGA\");\n  }\n\n  public onPrazoEntregaChange(event: Event) {\n    console.log(\"entrega\", this.form.controls.prazo_entrega.value);\n    if(this.entity) this.calcularPrazo(\"ENTREGA\");\n  }\n\n  public onPlanoChange(event: Event) {\n    console.log(\"onPlanoChange\");\n    if(this.entity) this.calcularPrazo(\"PLANO\");\n  }\n\n  public onComplexidadeChange(event: Event) {\n    console.log(\"onComplexidadeChange\");\n    if(this.atividade?.searchObj) {\n      const atividade = this.atividade?.searchObj as Atividade;\n      /* Carrega tempo pactuado */\n      const fator = this.form.controls.fator_complexidade.value || 1;\n      this.form.controls.tempo_pactuado.setValue(atividade.tempo_pactuado * fator || 0);\n      this.calcularPrazo(\"COMPLEXIDADE\");\n    }\n  }\n\n  public async onNumeroRequisicaoClick(event: Event) {\n    const numeroRequisicao = this.form?.controls.numero_requisicao?.value;\n    if(numeroRequisicao?.length) {\n      this.docRequisicao!.loading = true;\n      try {\n        let dados = await this.allPages.getDadosDocumento(numeroRequisicao);\n        if(dados) {\n          let tipo_processo_id = null;\n          let tipo_documento_id = null;\n          if(dados.processo?.tipo_processo) {\n            const tipo_processo = await this.tipoProcessoDao.query({where: [[\"codigo\", \"=\", dados.processo?.tipo_processo]]}).asPromise();\n            if(tipo_processo[0]) {\n              this.tipoProcesso?.loadSearch(tipo_processo[0]);\n              tipo_processo_id = tipo_processo[0].id;\n            }\n          }\n          if(dados.documento?.tipo_documento) {\n            const tipo_documento = await this.tipoDocumentoDao.query({where: [[\"nome\", \"=\", dados.documento?.tipo_documento]]}).asPromise();\n            if(tipo_documento[0]) {\n              this.tipoDocumento?.loadSearch(tipo_documento[0]);\n              tipo_documento_id = tipo_documento[0].id;\n            }\n          }\n          this.form.controls.id_processo.setValue(dados.processo?.id_processo); \n          this.form.controls.numero_processo.setValue(dados.processo?.numero_processo); \n          this.form.controls.id_requisicao.setValue(dados.documento?.id_documento); \n          this.form.controls.tipo_processo_id.setValue(tipo_processo_id);\n          this.form.controls.tipo_documento_requisicao_id.setValue(tipo_documento_id);\n          this.form.controls.numero_requisicao.setValue(dados.documento?.numero_documento);\n          //this.form.controls.titulo_requisicao.setValue(dados.titulo_documento);\n        } else {\n          throw new Error(\"Documento no encontrado\");\n        }\n      } catch (error) {\n        this.dialog.alert(\"Error\", \"Impossvel encontrar o documento informado. Tente incluir diretamente pelo boto 'Incluir demanda' acessando o documento no Sei!\")\n      } finally {\n        this.docRequisicao!.loading = false;\n      }\n    }\n  }\n\n  public loadEtiquetas() {\n    const unidade = (this.unidade?.searchObj as Unidade);\n    const atividade = (this.atividade?.searchObj as Atividade);\n    this.etiquetas = this.util.merge(atividade?.etiquetas_predefinidas, unidade?.etiquetas, (a, b) => a.key == b.key); \n  }\n\n  public loadChecklist() {\n    const atividade = (this.atividade?.searchObj as Atividade);\n    this.checklist = atividade?.checklist_predefinidos || [];\n    let checks: DemandaChecklist[] = this.util.merge(this.checklist.map(a => {\n      return {\n        id: a.key,\n        texto: a.value,\n        checked: false\n      } as DemandaChecklist;\n    }), this.form.controls.checklist.value.filter((b: DemandaChecklist) => b.checked), (a: DemandaChecklist, b: DemandaChecklist) => {\n      if(a.id == b.id) {\n        a.checked = b.checked;\n        return true;\n      } else {\n        return false;\n      }\n    });\n    this.form.controls.checklist.setValue(checks);\n  }\n\n  public loadAtividade(atividade: Atividade | undefined) {\n    if(atividade) {\n      /* Carrega etiquetas */\n      this.loadEtiquetas();\n      /* Carrega complexidades */\n      this.complexidades = atividade.complexidade?.map(x => Object.assign({key: x.fator, value: x.grau + ' (Fator: ' + x.fator + '; Tempo: ' + x.tempo + 'h)'})) || [];\n      /* Atualiza fator de complexidade */\n      if(!atividade.complexidade?.find(x => x.fator == this.form.controls.fator_complexidade.value)) this.form.controls.fator_complexidade.setValue(1);\n      this.onComplexidadeChange(new Event(\"change\")); \n      /* Carrega checklist */\n      this.loadChecklist();\n      /* Carrega configuraes */\n      this.form.controls.recalcula_prazo.setValue(atividade.recalcula_prazo);\n    } else {\n      this.form.controls.tempo_pactuado.setValue(0);\n      this.form.controls.tempo_planejado.setValue(0);\n      this.etiquetas = [];\n      this.complexidades = [];\n    }\n    this.cdRef.detectChanges();\n  }\n\n  public loadUsuario(usuario: Usuario | undefined) {\n    this.planos = usuario?.planos?.map(x => Object.assign({key: x.id, value: (x.tipo_modalidade?.nome || \"\") + \" - \" + this.usuarioDao.getDateFormatted(x.data_inicio_vigencia)+ \"  \" + this.usuarioDao.getDateFormatted(x.data_fim_vigencia), data: x})) || [];\n    if(!this.form.controls.plano_id.value?.length && this.planos.length == 1) {\n      this.form.controls.plano_id.setValue(this.planos[0].key);\n    }\n    this.cdRef.detectChanges();\n  }\n\n  public onAtividadeSelect(item: SelectItem) {\n    console.log(\"onAtividadeSelect\");\n    const atividade: Atividade | undefined = item.entity as Atividade;\n    this.loadAtividade(atividade);\n    this.calcularPrazo(\"COMPLEXIDADE\");\n  }\n\n  public onUsuarioSelect(item: SelectItem) {\n    console.log(\"onUsuarioSelect\");\n    const usuario: Usuario | undefined = item.entity as Usuario;\n    this.loadUsuario(usuario);\n    this.calcularPrazo(\"PLANO\");\n  }\n\n  public comentarioLevel(comentario: Comentario): string[] {\n    return (comentario.path || \"\").split(\"\").filter(x => x == \"/\");\n  }\n\n  public orderComentarios(comentarios: Comentario[]) {\n    return comentarios.sort((a: Comentario, b: Comentario) => {\n      return (a.path + \"/\" + a.id) < (b.path + \"/\" + b.id) || (a.path == b.path && a.data_hora.getTime() < b.data_hora.getTime()) ? -1 : 1;\n    });\n  }\n\n  public newComentario(pai?: Comentario) {\n    const comentario = new Comentario();\n    const comentarios = this.form.controls.comentarios.value || [];\n    comentario.id = this.dao!.generateUuid();\n    comentario.path = pai ? pai.path + \"/\" + pai.id : \"\";\n    comentario.data_hora = this.auth.hora;\n    comentario.usuario_id = this.auth.usuario!.id;\n    comentario.comentario_id = pai?.id || null;\n    comentario.usuario = this.auth.usuario;\n    comentario._status = \"ADD\"; \n    comentarios.push(comentario);\n    this.form.controls.comentarios.setValue(this.orderComentarios(comentarios));\n    this.comentarios!.adding = true;\n    this.comentarios!.edit(comentario);\n    return comentario;\n  }\n\n  public addComentario = async () => {\n    this.newComentario();\n    return undefined;\n  }\n\n  public async saveComentario(form: FormGroup, item: any) {\n    const entity = form.value;\n    Object.assign(this.comentarios?.editing, entity);\n    return undefined;\n  }\n\n  public async loadComentario(form: FormGroup, row: any) {\n    this.formComentarios.controls.texto.setValue(row.texto);\n    this.formComentarios.controls.tipo.setValue(row.tipo);\n    this.formComentarios.controls.privacidade.setValue(row.privacidade);\n  }\n\n  public comentarioDynamicOptions(row: any): ToolbarButton[] {\n    return [{\n      label: \"Comentar\", \n      icon: \"bi bi-chat-left-quote\", \n      onClick: (comentario: Comentario) => {\n        this.newComentario(comentario);\n      }\n    }];\n  }\n\n  public async loadData(entity: Demanda, form: FormGroup) {\n    let formValue = Object.assign({}, form.value);\n    formValue = this.util.fillForm(formValue, entity);\n    this.assignDelta(formValue);\n    await Promise.all([\n      this.unidade!.loadSearch(entity.unidade || formValue.unidade_id),\n      this.usuario!.loadSearch(entity.usuario || formValue.usuario_id),\n      this.atividade!.loadSearch(entity.atividade || formValue.atividade_id)\n    ]);\n    if(entity.unidade_id != this.auth.unidade!.id) {\n      await this.auth.selecionaUnidade(entity.unidade_id);\n    }\n    entity.comentarios = this.orderComentarios(entity.comentarios);\n    form.patchValue(formValue);\n    if(this.entity?.numero_requisicao?.length && this.action == \"new\") {\n      this.onNumeroRequisicaoClick(new Event(\"\"));\n    }\n  }\n\n  public async initializeData(form: FormGroup) {\n    this.entity = new Demanda();\n    this.entity.data_distribuicao = this.auth.hora;\n    this.entity.prazo_entrega = this.entity.data_distribuicao;\n    this.entity.demandante_id = this.auth.usuario?.id || \"\";\n    this.entity.unidade_id = this.auth.unidade?.id || \"\";\n    this.entity.unidade = this.auth.unidade;\n    if(this.queryParams?.numero_requisicao?.length) {\n      //this.entity.id_processo = parseInt(this.queryParams?.id_processo);\n      //this.entity.numero_processo = this.queryParams?.numero_processo;\n      //this.entity.id_requisicao = parseInt(this.queryParams?.id_requisicao);\n      this.entity.numero_requisicao = this.queryParams?.numero_requisicao;\n    }\n    await this.loadData(this.entity, form);\n  }\n\n  public saveData(form: IIndexable): Promise<Demanda> {\n    return new Promise<Demanda>((resolve, reject) => {\n      let demanda = this.util.fill(new Demanda(), this.entity!);\n      this.comentarios?.confirm();\n      demanda = this.util.fillForm(demanda, this.form!.value);\n      demanda.comentarios = demanda.comentarios.filter((x: Comentario) => [\"ADD\", \"DELETE\"].includes(x._status || \"\"));      \n      resolve(demanda);\n    });\n  }\n\n  public titleEdit(entity: Demanda): string {\n    return \"Editando \";// + (entity?.unidade_id || \"\");\n  }\n}\n\n","<editable-form [form]=\"form!\" [disabled]=\"formDisabled\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\">\r\n    <tabs display right [title]=\"tituloDemanda\">\r\n        <tab key=\"ATIVIDADE\" label=\"Atividade\">\r\n            <separator *ngIf=\"isDemandaProcessual || gb.isExtension\" transparent bottom>\r\n                <div class=\"row\">\r\n                    <input-text label=\"Nmero Processo\" [size]=\"4\" controlName=\"numero_processo\" [control]=\"form!.controls.numero_processo\" disabled labelInfo=\"Nmero do processo, com a formatao de origem\"></input-text>\r\n                    <input-search label=\"Tipo Processo\" [size]=\"8\" #tipoProcesso controlName=\"tipo_processo_id\" [control]=\"form!.controls.tipo_processo_id\" disabled [dao]=\"tipoProcessoDao\" [selectRoute]=\"{route: ['cadastros', 'tipo-processo']}\"></input-search>\r\n                </div>\r\n                <div class=\"row\">\r\n                    <input-button label=\"Nmero doc. requisio\" [size]=\"4\" #docRequisicao controlName=\"numero_requisicao\" [control]=\"form!.controls.numero_requisicao\" [disabled]=\"!gb.isExtension ? 'true' : undefined\" (buttonClick)=\"onNumeroRequisicaoClick($event)\" labelInfo=\"Numero do documento de requisio, caso seja o Sei  o numero Sei\"></input-button>\r\n                    <input-search label=\"Tipo doc. requisio\" [size]=\"8\" #tipoDocumento controlName=\"tipo_documento_requisicao_id\" [control]=\"form!.controls.tipo_documento_requisicao_id\" disabled [dao]=\"tipoDocumentoDao\" [selectRoute]=\"{route: ['cadastros', 'tipo-documento']}\"></input-search>\r\n                </div>\r\n            </separator>\r\n            <div class=\"row\">\r\n                <input-textarea label=\"Assunto/Resumo\" [size]=\"12\" [rows]=\"2\" controlName=\"assunto\" [control]=\"form!.controls.assunto\"></input-textarea>\r\n            </div>\r\n            <div class=\"row\">\r\n                <input-search label=\"Atividade\" #atividade [size]=\"8\" controlName=\"atividade_id\" [control]=\"form!.controls.atividade_id\" [dao]=\"atividadeDao\" [groupBy]=\"[{field: 'unidade.sigla', label: 'Unidade'}]\" [where]=\"[['unidade_id', '=', form!.controls.unidade_id.value], ['vinculadas', '=', true]]\" [selectRoute]=\"{route: ['cadastros', 'atividade'], params: {filter: {unidade_id: form!.controls.unidade_id.value}}}\" (select)=\"onAtividadeSelect($event)\" labelInfo=\"Atividade que ser executado pela demanda, no  obrigatrio nesse momento.\"></input-search>\r\n                <input-select label=\"Complexidade\" [size]=\"4\" controlName=\"fator_complexidade\" [control]=\"form!.controls.fator_complexidade\" [items]=\"complexidades\" (change)=\"onComplexidadeChange($event)\" labelInfo=\"Multiplicador do tempo da atividade\"></input-select>\r\n            </div>\r\n            <div class=\"row\">\r\n                <input-search label=\"Responsvel\" [size]=\"8\" #usuario controlName=\"usuario_id\" [control]=\"form!.controls.usuario_id\" [dao]=\"usuarioDao\" [join]=\"['planos.tipo_modalidade:id,nome']\" [selectRoute]=\"{route: ['configuracoes', 'usuario']}\" labelInfo=\"Responsvel por executar a demanda\" (select)=\"onUsuarioSelect($event)\"></input-search>\r\n                <input-select label=\"Plano de trabalho\" [size]=\"4\" controlName=\"plano_id\" #plano [control]=\"form!.controls.plano_id\" [items]=\"planos\" (select)=\"onPlanoChange($event)\" labelInfo=\"Plano de trabalho\"></input-select>\r\n            </div>\r\n            <div class=\"row\">\r\n                <input-datetime noIcon [size]=\"3\" label=\"Data de distribuio\" controlName=\"data_distribuicao\" [control]=\"form!.controls.data_distribuicao\" (change)=\"onDataDistribuicaoChange($event)\" labelInfo=\"Data de cadastro da demanda\"></input-datetime>\r\n                <input-timer label=\"Tempo pactuado\" [size]=\"3\" controlName=\"tempo_pactuado\" disabled [control]=\"form!.controls.tempo_pactuado\" labelInfo=\"Tempo calculado a partir da atividade e utilizando o fator_complexidade\"></input-timer>\r\n                <input-timer [onlyDays]=\"prazoEmDias\" [size]=\"3\" label=\"Tempo planejado\" #planejado controlName=\"tempo_planejado\" [control]=\"form!.controls.tempo_planejado\" (change)=\"onTempoPlanejadoChange($event)\" labelInfo=\"Diferena entre data_distribuicao e prazo_entrega em horas (teis ou corridas, configurada na unidade)\"></input-timer>\r\n                <input-datetime noIcon [date]=\"prazoEmDias\" [size]=\"3\" label=\"Prazo de entrega\" controlName=\"prazo_entrega\" [control]=\"form!.controls.prazo_entrega\" (change)=\"onPrazoEntregaChange($event)\" labelInfo=\"Data estipulada para entrega da demanda\"></input-datetime>\r\n            </div>\r\n        </tab>\r\n        <tab key=\"VINCULOS\" label=\"Vinculos\">\r\n            Vinculos (Fazer a magia acontecer)\r\n        </tab>\r\n        <tab key=\"CARACTERIZACAO\" label=\"Caracterizao\">\r\n            <div class=\"row\">\r\n                <input-multiselect label=\"Etiquetas\" controlName=\"etiquetas\" [size]=\"8\" [control]=\"form!.controls.etiquetas\" [addItemHandle]=\"addItemHandleEtiquetas.bind(this)\">\r\n                    <input-select [size]=\"12\" #etiqueta controlName=\"etiqueta\" [control]=\"form!.controls.etiqueta\" [items]=\"etiquetas\"></input-select>\r\n                </input-multiselect>\r\n                <div class=\"col-md-4\">\r\n                    <grid [control]=\"form!.controls.checklist\" [form]=\"formChecklist\" [hasAdd]=\"false\" [hasDelete]=\"false\" editable>\r\n                        <columns>\r\n                            <column type=\"switch\" title=\"Check\" field=\"checked\"></column>\r\n                            <column type=\"display\" title=\"Texto\" field=\"texto\" [editable]=\"false\"></column>\r\n                            <column type=\"options\"></column>\r\n                        </columns>\r\n                    </grid>\r\n                </div>\r\n            </div>\r\n        </tab>\r\n        <tab key=\"COMENTARIOS\" label=\"Comentrios\">\r\n            <div clss=\"row\">\r\n                <grid [control]=\"form!.controls.comentarios\" #comentarios [hasEdit]=\"false\" [hasDelete]=\"false\" [add]=\"addComentario.bind(this)\" [form]=\"formComentarios\" [load]=\"loadComentario.bind(this)\" [save]=\"saveComentario.bind(this)\" editable>\r\n                    <columns>\r\n                        <column title=\"Comentrios\" [template]=\"mensagem\" [editTemplate]=\"mensagemEdit\">\r\n                            <ng-template let-row=\"row\" #mensagem>\r\n                                <table class=\"comentario-table\">\r\n                                    <tr>\r\n                                        <td *ngIf=\"comentarioLevel(row).length > 0\" class=\"d-none d-md-table-cell\" [style.width.px]=\"comentarioLevel(row).length * 20\">&nbsp;</td>\r\n                                        <td class=\"comentario-user text-center\">\r\n                                            <img [src]=\"row.usuario?.url_foto || './assets/images/profile.png'\" class=\"rounded-circle profile-photo\" onerror=\"this.src='./assets/images/profile.png'\" width=\"25\" height=\"25\"><br>\r\n                                            <ng-container *ngFor=\"let dot of comentarioLevel(row)\">\r\n                                                <span class=\"comentario-level\"></span><br>\r\n                                            </ng-container>\r\n                                        </td>\r\n                                        <td class=\"comentario-container\">\r\n                                            <span class=\"comentario-user-indicator\"></span>\r\n                                            <h6 class=\"comentario-message-title\">\r\n                                                {{row.usuario?.nome || \"Desconhecido\"}}\r\n                                                <span>{{lookup.getValue(lookup.COMENTARIO_TIPO, row.tipo)}}</span>\r\n                                                <span>{{lookup.getValue(lookup.COMENTARIO_PRIVACIDADE, row.privacidade)}}</span>\r\n                                                <span>{{util.getDateTimeFormatted(row.data_hora)}}</span>\r\n                                            </h6>\r\n                                            <p class=\"fw-light\">{{row.texto}}</p>\r\n                                        </td>\r\n                                    </tr>\r\n                                </table>\r\n                            </ng-template>\r\n                            <ng-template #mensagemEdit>\r\n                                <div class=\"row\">\r\n                                    <div class=\"col-md-8\">\r\n                                        <input-textarea [size]=\"12\" [rows]=\"3\" label=\"Mensagem\" icon=\"bi bi-textarea-t\" controlName=\"texto\" [control]=\"formComentarios!.controls.texto\"></input-textarea>\r\n                                    </div>\r\n                                    <div class=\"col-md-4\">\r\n                                        <div class=\"row\">\r\n                                            <input-select [size]=\"12\" label=\"Tipo\" icon=\"bi bi-braces\" controlName=\"tipo\" [control]=\"formComentarios!.controls.tipo\" [items]=\"comentarioTipos\"></input-select>\r\n                                        </div>\r\n                                        <div class=\"row\">\r\n                                            <input-select [size]=\"12\" label=\"privacidade\" icon=\"bi bi-incognito\" controlName=\"privacidade\" [control]=\"formComentarios!.controls.privacidade\" [items]=\"lookup.COMENTARIO_PRIVACIDADE\"></input-select>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </ng-template>\r\n                        </column>\r\n                        <column type=\"options\" [dynamicOptions]=\"comentarioDynamicOptions.bind(this)\"></column>\r\n                    </columns>\r\n                </grid>\r\n            </div>\r\n        </tab>\r\n        <tab key=\"COMPLEMENTARES\" label=\"Complementares\">\r\n            <div class=\"row\">\r\n                <input-text numbers label=\"ID processo\" [size]=\"3\" controlName=\"id_processo\" [control]=\"form!.controls.id_processo\" disabled labelInfo=\"ID do processo, caso seja Sei ser o ID do procedimento\"></input-text>\r\n                <input-text numbers label=\"ID requisio\" [size]=\"3\" controlName=\"id_requisicao\" [control]=\"form!.controls.id_requisicao\" disabled labelInfo=\"ID da requisio do sistema integrado, caso seja o Sei ser o ID_Documento\"></input-text>\r\n                <input-text numbers label=\"ID proc. entrega\" [size]=\"3\" controlName=\"id_processo_entrega\" [control]=\"form!.controls.id_processo_entrega\" disabled labelInfo=\"ID do processo de entrega, caso seja Sei ser o ID do procedimento\"></input-text>\r\n                <input-text numbers label=\"ID doc. entrega\" [size]=\"3\" controlName=\"id_documento_entrega\" [control]=\"form!.controls.id_documento_entrega\" disabled labelInfo=\"ID da entrega, caso seja o Sei ser o ID_Documento\"></input-text>\r\n            </div>\r\n            <div class=\"row\">\r\n                <input-search label=\"Demandante\" [size]=\"6\" controlName=\"demandante_id\" [control]=\"form!.controls.demandante_id\" [dao]=\"usuarioDao\" disabled></input-search>\r\n                <input-search label=\"Unidade\" [size]=\"4\" #unidade controlName=\"unidade_id\" [control]=\"form!.controls.unidade_id\" [dao]=\"unidadeDao\" disabled></input-search>\r\n                <input-switch label=\"Recalculvel\" [size]=\"2\" controlName=\"recalcula_prazo\" [control]=\"form!.controls.recalcula_prazo\" labelInfo=\"Recalcula data de entrega baseado nos dias planejado\"></input-switch>\r\n            </div>\r\n        </tab>\r\n        <tab *ngIf=\"!!form.controls.data_entrega.value\" key=\"CONCLUSAO\" label=\"Concluso\">\r\n            <div class=\"row\">\r\n                <input-datetime noIcon [size]=\"4\" label=\"Inicio\" controlName=\"data_inicio\" [control]=\"form!.controls.data_inicio\" disabled labelInfo=\"Data em que o usurio iniciou a atividade\"></input-datetime>\r\n                <input-datetime noIcon [size]=\"4\" label=\"Entrega\" controlName=\"data_entrega\" [control]=\"form!.controls.data_entrega\" disabled labelInfo=\"Data estipulada para entrega da demanda\"></input-datetime>\r\n                <input-timer [size]=\"4\" label=\"Tempo despendido\" controlName=\"tempo_despendido\" [control]=\"form!.controls.tempo_despendido\" disabled labelInfo=\"Calculado no fim da demanda, sendo o tempo lquido (considerando pausas)\"></input-timer>\r\n            </div>\r\n            <div class=\"row\">\r\n                <input-select label=\"Tipo entrega\" [size]=\"3\" controlName=\"tipo_documento_entrega_id\" [control]=\"form!.controls.tipo_documento_entrega_id\" disabled [dao]=\"tipoDocumentoDao\"></input-select>\r\n                <input-button numbers label=\"Nmero\" [size]=\"3\" controlName=\"numero_documento_entrega\" [control]=\"form!.controls.numero_documento_entrega\" disabled iconButton=\"bi-cloud-download\" labelInfo=\"Numero do documento de entrega, caso seja o Sei  o numero Sei\"></input-button>\r\n                <input-text [size]=\"6\" label=\"Ttulo\" controlName=\"titulo_documento_entrega\" [control]=\"form!.controls.titulo_documento_entrega\" disabled labelInfo=\"Ttulo do documento de entrega\"></input-text>\r\n            </div>\r\n            <separator></separator>\r\n            <div class=\"row\">\r\n                <input-timer label=\"Tempo homologado\" [size]=\"4\" controlName=\"tempo_homologado\" [control]=\"form!.controls.tempo_homologado\" disabled labelInfo=\"Caso a avaliao seja positiva ser igual ao tempo pactuado\"></input-timer>\r\n                <input-text label=\"Produtividade\" sufix=\"%\" [size]=\"4\" controlName=\"produtividade\" [control]=\"form!.controls.produtividade\" disabled labelInfo=\"Diferena entre o tempo pactuado e o despendido\"></input-text>\r\n                <input-datetime [size]=\"4\" label=\"Data de arquivamento\" controlName=\"data_arquivamento\" [control]=\"form!.controls.data_inicio\" disabled labelInfo=\"Data de arquivamento da demanda\"></input-datetime>\r\n            </div>\r\n            <separator *ngIf=\"form.controls.tempo_homologado.value !== null\" title=\"Avaliao\">\r\n                dados da avaliao\r\n            </separator>\r\n        </tab>\r\n    </tabs>\r\n</editable-form>\r\n","import { LookupItem } from '../services/lookup.service';\r\nimport { Atividade } from './atividade.model';\r\nimport { Base } from './base.model';\r\nimport { Comentario } from './comentario';\r\nimport { DemandaPausa } from './demanda-pausa.model';\r\nimport { Plano } from './plano.model';\r\nimport { TipoProcesso } from './tipo-processo.model';\r\nimport { Unidade } from './unidade.model';\r\nimport { Usuario } from './usuario.model';\r\n\r\nexport type DemandaMetadados = {\r\n    atrasado: boolean,\r\n    tempo_despendido: number,\r\n    tempo_atraso: number,\r\n    suspenso: boolean,\r\n    iniciado: boolean,\r\n    concluido: boolean,\r\n    avaliado: boolean,\r\n    produtividade: number,\r\n    status: string,\r\n    extra?: any\r\n}\r\n\r\nexport type DemandaChecklist = {\r\n    id: string,\r\n    texto: string,\r\n    checked: boolean\r\n}\r\n\r\nexport class Demanda extends Base {\r\n    public atividade?: Atividade;\r\n    public unidade?: Unidade;\r\n    public usuario?: Usuario;\r\n    public plano?: Plano;\r\n    public tipo_processo?: TipoProcesso;\r\n\r\n    public numero: number = 0; /* Numero da demanda */\r\n    public id_requisicao: number | null = null; /* ID da requisio do sistema integrado, caso seja o Sei ser o ID_Documento */\r\n    public numero_requisicao: string | null = null; /* Numero do documento de requisio, caso seja o Sei  o numero Sei */\r\n    public id_processo: number | null = null; /* ID do processo, caso seja Sei ser o ID do procedimento */\r\n    public numero_processo: string | null = null; /* Nmero do processo, com a formatao de origem */\r\n    public assunto: string | null = null; /* Assunto da demanda */\r\n    public data_distribuicao: Date = new Date(); /* Data de cadastro da demanda */\r\n    public tempo_planejado: number = 0.0; /* Diferena entre data_distribuicao e prazo_entrega em horas (teis ou corridas, configurada na unidade) */\r\n    public carga_horaria: number = 0.0; /* Carga horria diria (vinda do plano de trabalho) */\r\n    //public dias_planejado: number = 0.0;  /* Diferena entre data_distribuicao e prazo_entrega em dias (teis ou corridas, configurada na unidade) */\r\n    public prazo_entrega: Date = new Date(); /* Data estipulada para entrega da demanda */\r\n    public data_inicio: Date | null = null; /* Data em que o usurio iniciou a atividade */\r\n    public data_entrega: Date | null = null; /* Data da entrega */\r\n    public tempo_pactuado: number = 0.0; /* Tempo calculado a partir da atividade e utilizando o fator_complexidade */\r\n    public fator_complexidade: number = 1; /* Multiplicador do tempo da atividade */\r\n    public tempo_despendido: number | null = null; /* Calculado no fim da demanda, sendo o tempo lquido (considerando pausas) */\r\n    //public dias_despendido: number | null = null; /* Calculado no fim da demanda, sendo o tempo lquido (considerando pausas) */\r\n    public id_processo_entrega: number | null = null; /* ID do processo de entrega, caso seja Sei ser o ID do procedimento */\r\n    public numero_processo_entrega: string | null = null; /* Nmero do processo de entrega, com a formatao de origem */\r\n    public id_documento_entrega: number | null = null; /* ID da entrega, caso seja o Sei ser o ID_Documento */\r\n    public numero_documento_entrega: string | null = null; /* Numero do documento de entrega, caso seja o Sei  o numero Sei */\r\n    public titulo_documento_entrega: string | null = null; /* Numerao do tipo de documento no sistema integrado */\r\n    public data_arquivamento: Date | null = null; /* Data de arquivamento da demanda */\r\n    public tempo_homologado: number | null = null; /* Caso a avaliao seja positiva ser igual ao tempo pactuado */\r\n    public produtividade: number | null = null; /* Diferena entre o tempo pactuado e o despendido */\r\n    public etiquetas: LookupItem[] = []; /* Etiquetas */\r\n    public checklist: DemandaChecklist[] = []; /* Checklist */\r\n    public prioridade: number | null = null; /* Nvel de prioridade */\r\n    public recalcula_prazo: boolean = false; /* Recalcula data de entrega baseado nos dias planejado */\r\n    public metadados: DemandaMetadados | undefined = undefined; /* Campo virtual contendo informaes calculadas pelo servidor */\r\n    public comentarios: Comentario[] = []; /* Comentarios da demanda */\r\n    public pausas: DemandaPausa[] = []; /* Pausas da demanda */\r\n\r\n    public atividade_id: string | null = null;\r\n    public demandante_id: string = \"\";\r\n    public usuario_id: string | null = null;\r\n    public unidade_id: string = \"\";\r\n    public plano_id: string | null = null;\r\n    public avaliacao_id: string | null = null;\r\n    public tipo_documento_requisicao_id: string | null = null;\r\n    public tipo_documento_entrega_id: string | null = null;\r\n    public tipo_processo_id: string | null = null;\r\n    \r\n    constructor(){\r\n        super();\r\n    }\r\n}","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { AuthGuard } from 'src/app/guards/auth.guard';\nimport { ConfigResolver } from 'src/app/resolvies/config.resolver';\nimport { DemandaFormAvaliarComponent } from './demanda-form-avaliar/demanda-form-avaliar.component';\nimport { DemandaFormConcluirComponent } from './demanda-form-concluir/demanda-form-concluir.component';\nimport { DemandaFormIniciarComponent } from './demanda-form-iniciar/demanda-form-iniciar.component';\nimport { DemandaFormPausarComponent } from './demanda-form-pausar/demanda-form-pausar.component';\nimport { DemandaFormProrrogarComponent } from './demanda-form-prorrogar/demanda-form-prorrogar.component';\nimport { DemandaFormComponent } from './demanda-form/demanda-form.component';\nimport { DemandaListComponent } from './demanda-list/demanda-list.component';\n\nconst routes: Routes = [\n  { path: '', component: DemandaListComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, data: { title: \"Demandas\" } },\n  { path: 'new', component: DemandaFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, data: { title: \"Incluso\", modal: true } },\n  { path: ':id/edit', component: DemandaFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, data: { title: \"Edio\", modal: true } },\n  { path: ':id/consult', component: DemandaFormComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, data: { title: \"Consultar\", modal: true } },\n  { path: ':id/iniciar', component: DemandaFormIniciarComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, data: { title: \"Iniciar\", modal: true } },\n  { path: ':id/concluir', component: DemandaFormConcluirComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, data: { title: \"Conlcuir\", modal: true } },\n  { path: ':id/avaliar', component: DemandaFormAvaliarComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, data: { title: \"Avaliar\", modal: true } },\n  { path: ':id/pausar', component: DemandaFormPausarComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, data: { title: \"Avaliar\", modal: true } },\n  { path: ':id/prorrogar', component: DemandaFormProrrogarComponent, canActivate: [AuthGuard], resolve: { config: ConfigResolver }, data: { title: \"Avaliar\", modal: true } }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class DemandaRoutingModule { }\n","import { Component, Injector, OnInit, ViewChild } from '@angular/core';\nimport { AbstractControl, FormGroup } from '@angular/forms';\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\nimport { DemandaDaoService } from 'src/app/dao/demanda-dao.service';\nimport { IIndexable } from 'src/app/models/base.model';\nimport { Demanda } from 'src/app/models/demanda.model';\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\nimport { LookupItem } from 'src/app/services/lookup.service';\nimport { SelectItem } from 'src/app/components/input/input-base';\nimport { AtividadeDaoService } from 'src/app/dao/atividade-dao.service';\nimport { TipoAvaliacaoDaoService } from 'src/app/dao/tipo-avaliacao-dao.service';\nimport { Atividade } from 'src/app/models/atividade.model';\nimport { InputSearchComponent } from 'src/app/components/input/input-search/input-search.component';\nimport { CalendarService, Efemerides } from 'src/app/services/calendar.service';\nimport { ListenerAllPagesService } from 'src/app/listeners/listener-all-pages.service';\nimport { InputButtonComponent } from 'src/app/components/input/input-button/input-button.component';\nimport { TipoAvaliacao } from 'src/app/models/tipo-avaliacao.model';\nimport { InputMultitoggleComponent } from 'src/app/components/input/input-multitoggle/input-multitoggle.component';\n\n@Component({\n  selector: 'app-demanda-form-avaliar',\n  templateUrl: './demanda-form-avaliar.component.html',\n  styleUrls: ['./demanda-form-avaliar.component.scss']\n})\nexport class DemandaFormAvaliarComponent extends PageFormBase<Demanda, DemandaDaoService> implements OnInit {\n  @ViewChild('atividade', { static: false }) public atividade?: InputSearchComponent;\n  @ViewChild('docEntregue', { static: false }) public docEntregue?: InputButtonComponent;\n  @ViewChild('justificativas', { static: false }) public justificativas?: InputMultitoggleComponent;\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\n  \n  public atividadeDao: AtividadeDaoService;\n  public tipoAvaliacaoDao: TipoAvaliacaoDaoService;\n  public tiposAvaliacoes: TipoAvaliacao[] = [];\n  public tiposJustificativas: LookupItem[] = [];\n  public tipoAvaliacao?: LookupItem; \n  public allPages: ListenerAllPagesService;\n  public form: FormGroup;\n  public efemerides?: Efemerides;\n  public modalWidth: number = 900;\n  public complexidades: LookupItem[] = [];\n  public calendar: CalendarService;\n  public atrasado: boolean = false;\n  public despendidoMinimo: number = 0;\n\n  constructor(public injector: Injector) {\n    super(injector, Demanda, DemandaDaoService);\n    this.atividadeDao = injector.get<AtividadeDaoService>(AtividadeDaoService);\n    this.tipoAvaliacaoDao = injector.get<TipoAvaliacaoDaoService>(TipoAvaliacaoDaoService); \n    this.calendar = injector.get<CalendarService>(CalendarService);\n    this.allPages = injector.get<ListenerAllPagesService>(ListenerAllPagesService);\n    this.form = this.fh.FormBuilder({\n      tipo_documento_entrega_id: {default: null},\n      numero_documento_entrega: {default: null},\n      titulo_documento_entrega: {default: null},\n      atividade_id: {default: null},\n      fator_complexidade: {default: 1},\n      data_distribuicao: {default: null},\n      tempo_pactuado: {default: 0},\n      prazo_entrega: {default: null},\n      diferenca_prazo_entrega: {default: 0},\n      data_inicio: {default: null},\n      tempo_despendido: {default: 0},\n      data_entrega: {default: null},\n      produtividade: {default: 0},\n      nota_atribuida: {default: null},\n      comentario_avaliacao: {default: \"\"}\n    }, this.cdRef, this.validate);\n  }\n\n  public validate = (control: AbstractControl, controlName: string) => {\n    let result = null;\n\n    if((controlName == \"atividade_id\" && !control.value?.length) || \n      (controlName == \"fator_complexidade\" && !(control.value > 0))) {\n      result = \"Obrigatrio\";\n    } else if(controlName == \"nota_atribuida\" && !(control.value >= 0)) {\n      result = \"Obrigatrio selecionar. Caso queira selecionar ZERO, clique 2x em qualquer estrela!\"\n    }\n\n    return result;\n  }\n\n  public async loadData(entity: Demanda, form: FormGroup) {\n    let formValue = Object.assign({}, form.value);\n    formValue = this.util.fillForm(formValue, entity);\n    this.atrasado = !!entity.metadados?.atrasado;\n    formValue.diferenca_prazo_entrega = this.atrasado ? \n      this.calendar.horasAtraso(formValue.prazo_entrega, entity.unidade!) :\n      this.calendar.horasAdiantado(formValue.data_entrega, formValue.prazo_entrega, entity.plano!.carga_horaria, entity.unidade!);\n    await this.atividade!.loadSearch(entity.atividade || formValue.atividade_id);\n    if(entity.unidade_id != this.auth.unidade!.id) {\n      await this.auth.selecionaUnidade(entity.unidade_id);\n    }\n    form.patchValue(formValue);\n  }\n\n  public async initializeData(form: FormGroup) {\n    const results = await Promise.all([\n      this.dao!.getDemanda(this.urlParams!.get(\"id\")!),\n      this.tipoAvaliacaoDao.query({join: [\"tipos_avaliacoes_justificativas.tipo_justificativa\"]}).asPromise()\n    ]);\n    this.entity = results[0]!;\n    this.tiposAvaliacoes = results[1];\n    await this.loadData(this.entity, form);\n  }\n\n  public get styleButtonTipoAvaliacao(): string {\n    const rgb = this.util.colorHexToRGB(this.tipoAvaliacao?.color || \"#000000\");\n    return \"background-color: rgba(\" + rgb.r + \",\" + rgb.g + \",\" + rgb.b + \", 0.2);\";\n  }\n\n  public onNotaChange(event: Event) {\n    const nota = this.form.controls.nota_atribuida.value;\n    const tipoAvaliacao = this.tiposAvaliacoes.find(x => x.nota_atribuida == nota);\n    if(tipoAvaliacao) {\n      this.tipoAvaliacao = {\n        key: tipoAvaliacao.id,\n        value: tipoAvaliacao.nome,\n        icon: tipoAvaliacao.icone,\n        color: tipoAvaliacao.cor,\n        data: {\n          nota: nota,\n          pergunta: tipoAvaliacao.pergunta\n        }\n      };\n      this.tiposJustificativas = tipoAvaliacao.tipos_avaliacoes_justificativas.map(x => {\n        return {\n          key: x.tipo_justificativa_id,\n          value: x.tipo_justificativa!.nome || \"\"\n        }\n      })\n    }\n    this.cdRef.detectChanges();  \n  }\n\n  public onComplexidadeChange(event: Event) {\n    console.log(\"onComplexidadeChange\");\n    if(this.atividade?.searchObj) {\n      const form = this.form.value;\n      const atividade = this.atividade?.searchObj as Atividade;\n      /* Carrega tempo pactuado */\n      const fator = form.fator_complexidade || 1;\n      this.form.controls.tempo_pactuado.setValue(atividade.tempo_pactuado * fator || 0);\n      this.form.controls.produtividade.setValue(this.calendar.produtividade(form.tempo_pactuado, form.tempo_despendido));\n    }\n  }\n\n  public onAtividadeSelect(item: SelectItem) {\n    console.log(\"onAtividadeSelect\");\n    const atividade: Atividade | undefined = item.entity as Atividade;\n    if(atividade) {\n      /* Carrega complexidades */\n      this.complexidades = atividade.complexidade?.map(x => {\n        return {\n          key: x.fator,\n          value: x.grau + ' (Fator: ' + x.fator + ')'\n        };\n      }) || [];\n      /* Atualiza fator de complexidade */\n      if(!atividade.complexidade?.find(x => x.fator == this.form.controls.fator_complexidade.value)) this.form.controls.fator_complexidade.setValue(1);\n      this.onComplexidadeChange(new Event(\"change\")); \n      /* Calcula o tempo despendido mnimo */\n      this.despendidoMinimo = (atividade.tempo_minimo / 100) * (this.entity?.tempo_despendido || 0);\n    } else {\n      this.form.controls.tempo_pactuado.setValue(0);\n      this.complexidades = [];\n    }\n    this.cdRef.detectChanges();\n  }\n\n  public saveData(form: IIndexable): Promise<boolean> {\n    return new Promise<boolean>((resolve, reject) => {\n      const form = this.form!.value;\n      const avaliacao = {\n        demanda_id: this.entity?.id,\n        atividade_id: form.atividade_id,\n        tipo_avaliacao_id: this.tipoAvaliacao!.key,\n        fator_complexidade: form.fator_complexidade,\n        tempo_pactuado: form.tempo_pactuado,\n        produtividade: form.produtividade,\n        nota_atribuida: form.nota_atribuida,\n        comentario_avaliacao: form.comentario_avaliacao, \n        tipos_afaliacoes: this.justificativas?.items?.map(x => x.key) || []\n      };\n      this.dao!.avaliar(avaliacao).then(saved => resolve(saved)).catch(reject);\n    });\n  }\n\n  public titleEdit(entity: Demanda): string {\n    return \"Concluindo\";// + (entity?.unidade_id || \"\");\n  }\n}","<top-alert *ngIf=\"despendidoMinimo\" type=\"warning\" [message]=\"'Tempo despendido abaixo do mnimo esperado (' + util.decimalToTimerFormated(despendidoMinimo, true) + ')'\"></top-alert>\r\n<editable-form [form]=\"form!\" [disabled]=\"formDisabled\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\">\r\n    <separator *ngIf=\"gb.isExtension\" transparent bottom [collapsed]=\"false\">\r\n        <input-button label=\"N doc. entregue\" #docEntregue [size]=\"4\" controlName=\"numero_documento_entrega\" [control]=\"form!.controls.numero_documento_entrega\" disabled labelInfo=\"Numero do documento entregue, caso seja o Sei  o numero Sei\"></input-button>\r\n        <input-text label=\"Ttulo do documento\" [size]=\"8\" controlName=\"titulo_documento_entrega\" [control]=\"form!.controls.titulo_documento_entrega\" disabled labelInfo=\"Ttulo do documento entregue\"></input-text>\r\n    </separator>\r\n    <div class=\"row\">\r\n        <input-search label=\"Atividade\" #atividade [size]=\"8\" controlName=\"atividade_id\" [control]=\"form!.controls.atividade_id\" [dao]=\"atividadeDao\" [groupBy]=\"[{field: 'unidade.sigla', label: 'Unidade'}]\" [where]=\"[['unidade_id', '=', entity?.unidade_id], ['vinculadas', '=', true]]\" (select)=\"onAtividadeSelect($event)\" [selectRoute]=\"{route: ['cadastros', 'atividade'], params: {filter: {unidade_id: entity?.unidade_id}}}\"></input-search>\r\n        <input-select label=\"Complexidade\" [size]=\"4\" controlName=\"fator_complexidade\" [control]=\"form!.controls.fator_complexidade\" [items]=\"complexidades\" labelInfo=\"Multiplicador do tempo da atividade\"></input-select>\r\n    </div>\r\n    <div class=\"row\">\r\n        <input-datetime noIcon [size]=\"3\" label=\"Data de distribuio\" disabled controlName=\"data_distribuicao\" [control]=\"form!.controls.data_distribuicao\" labelInfo=\"Data de cadastro da demanda\"></input-datetime>\r\n        <input-timer label=\"Tempo pactuado\" [size]=\"3\" disabled controlName=\"tempo_pactuado\" [control]=\"form!.controls.tempo_pactuado\" labelInfo=\"Tempo calculado a partir da atividade e utilizando o fator_complexidade\"></input-timer>\r\n        <input-datetime noIcon [size]=\"3\" label=\"Prazo de entrega\" disabled controlName=\"prazo_entrega\" [control]=\"form!.controls.prazo_entrega\" labelInfo=\"Data estipulada para entrega da demanda\"></input-datetime>\r\n        <input-timer [label]=\"atrasado ? 'Atraso' : 'Adiantado'\" [size]=\"3\" disabled controlName=\"diferenca_prazo_entrega\" [control]=\"form!.controls.diferenca_prazo_entrega\" [labelInfo]=\"(atrasado ? 'Tempo de atraso' : 'Tempo adiantado') + ' na realizao da demanda'\"></input-timer>\r\n    </div>\r\n    <div class=\"row\">\r\n        <input-datetime noIcon [size]=\"3\" label=\"Data de inicio\" disabled controlName=\"data_inicio\" [control]=\"form!.controls.data_inicio\" labelInfo=\"Data de inicio\"></input-datetime>\r\n        <input-timer label=\"Tempo despendido\" [size]=\"3\" disabled controlName=\"tempo_despendido\" [control]=\"form!.controls.tempo_despendido\" labelInfo=\"Tempo despendido na atividade (considerando fins de semana, feriados e afastamentos)\"></input-timer>\r\n        <input-datetime noIcon [size]=\"3\" label=\"Data de entrega\" disabled #entrega controlName=\"data_entrega\" [control]=\"form!.controls.data_entrega\" labelInfo=\"Data e hora da entrega\"></input-datetime>\r\n        <input-text numbers label=\"Produtividade\" sufix=\"%\" [stepValue]=\"0.01\" [size]=\"3\" disabled controlName=\"produtividade\" [control]=\"form!.controls.produtividade\" labelInfo=\"Diferena entre o tempo pactuado e o despendido (proporcional, em porcentagem)\"></input-text>\r\n    </div>\r\n    <separator></separator>\r\n    <div class=\"row\">\r\n        <input-rate [size]=\"12\" [label]=\"'Como foi a entrega de ' + util.apelidoOuNome(entity?.usuario) + '?'\" (change)=\"onNotaChange($event)\" controlName=\"nota_atribuida\" [control]=\"form!.controls.nota_atribuida\" controlName=\"rate\"></input-rate>\r\n    </div>\r\n    <div *ngIf=\"tipoAvaliacao\" class=\"d-flex justify-content-center\">\r\n        <button type=\"button\" class=\"pe-none btn\" [style]=\"styleButtonTipoAvaliacao\">\r\n            <i [class]=\"tipoAvaliacao.icon\" [style.color]=\"tipoAvaliacao.color || 'black'\"></i>\r\n            <strong class=\"ms-1\">{{tipoAvaliacao.value}}</strong> (Nota: {{tipoAvaliacao.data.nota}})\r\n        </button>\r\n    </div>\r\n    <div *ngIf=\"tipoAvaliacao\">\r\n        <input-multitoggle #justificativas [label]=\"tipoAvaliacao.data.pergunta\" [items]=\"tiposJustificativas\"></input-multitoggle>\r\n    </div>\r\n    <separator *ngIf=\"tipoAvaliacao\" title=\"Comentrios adicionais?\" icon=\"bi bi-chat-left-quote\" collapse>\r\n        <input-textarea label=\"Comentrio\" [size]=\"12\" [rows]=\"2\" controlName=\"comentario_avaliacao\" [control]=\"form!.controls.comentario_avaliacao\"></input-textarea>\r\n    </separator>\r\n    <separator *ngIf=\"false\" title=\"Avaliar outras demandas vinculadas\" collapse [collapsed]=\"false\">\r\n        Lista de atividades\r\n    </separator>\r\n</editable-form>\r\n","import { Component, Injector, OnInit, ViewChild } from '@angular/core';\nimport { AbstractControl, FormGroup } from '@angular/forms';\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\nimport { DemandaDaoService } from 'src/app/dao/demanda-dao.service';\nimport { IIndexable } from 'src/app/models/base.model';\nimport { Demanda } from 'src/app/models/demanda.model';\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\nimport { LookupItem } from 'src/app/services/lookup.service';\nimport { SelectItem } from 'src/app/components/input/input-base';\nimport { AtividadeDaoService } from 'src/app/dao/atividade-dao.service';\nimport { Atividade } from 'src/app/models/atividade.model';\nimport { InputSearchComponent } from 'src/app/components/input/input-search/input-search.component';\nimport { CalendarService, Efemerides } from 'src/app/services/calendar.service';\nimport { ListenerAllPagesService } from 'src/app/listeners/listener-all-pages.service';\nimport { InputButtonComponent } from 'src/app/components/input/input-button/input-button.component';\n\n@Component({\n  selector: 'app-demanda-form-concluir',\n  templateUrl: './demanda-form-concluir.component.html',\n  styleUrls: ['./demanda-form-concluir.component.scss']\n})\nexport class DemandaFormConcluirComponent extends PageFormBase<Demanda, DemandaDaoService> implements OnInit {\n  @ViewChild('atividade', { static: false }) public atividade?: InputSearchComponent;\n  @ViewChild('docEntregue', { static: false }) public docEntregue?: InputButtonComponent;\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\n  \n  public atividadeDao: AtividadeDaoService;\n  public allPages: ListenerAllPagesService;\n  public form: FormGroup;\n  public efemerides?: Efemerides;\n  public modalWidth: number = 700;\n  public complexidades: LookupItem[] = [];\n  public calendar: CalendarService;\n\n  constructor(public injector: Injector) {\n    super(injector, Demanda, DemandaDaoService);\n    this.atividadeDao = injector.get<AtividadeDaoService>(AtividadeDaoService);\n    this.calendar = injector.get<CalendarService>(CalendarService);\n    this.allPages = injector.get<ListenerAllPagesService>(ListenerAllPagesService);\n    this.form = this.fh.FormBuilder({\n      id_processo_entrega: {default: null},\n      numero_processo_entrega: {default: null},\n      id_documento_entrega: {default: null},\n      tipo_documento_entrega_id: {default: null},\n      numero_documento_entrega: {default: null},\n      titulo_documento_entrega: {default: null},\n      atividade_id: {default: null},\n      fator_complexidade: {default: 1},\n      data_distribuicao: {default: null},\n      tempo_pactuado: {default: 0},\n      prazo_entrega: {default: null},\n      data_inicio: {default: null},\n      tempo_despendido: {default: 0},\n      data_entrega: {default: null},\n      descricao_tecnica: {default: \"\"}\n    }, this.cdRef, this.validate);\n  }\n\n  public validate = (control: AbstractControl, controlName: string) => {\n    let result = null;\n\n    if((controlName == \"atividade_id\" && !control.value?.length) || \n      (controlName == \"fator_complexidade\" && !(control.value > 0)) ||\n      (controlName == \"data_entrega\" && !this.util.isDataValid(control.value))) {\n      result = \"Obrigatrio\";\n    }\n\n    return result;\n  }\n\n  public async loadData(entity: Demanda, form: FormGroup) {\n    let formValue = Object.assign({}, form.value);\n    formValue = this.util.fillForm(formValue, entity);\n    formValue.data_entrega = this.auth.hora;\n    await this.atividade!.loadSearch(entity.atividade || formValue.atividade_id);\n    if(entity.unidade_id != this.auth.unidade!.id) {\n      await this.auth.selecionaUnidade(entity.unidade_id);\n    }\n    form.patchValue(formValue);\n    this.onDataEntregaChange();\n  }\n\n  public async initializeData(form: FormGroup) {\n    this.entity = (await this.dao!.getDemanda(this.urlParams!.get(\"id\")!))!;\n    await this.loadData(this.entity, form);\n  }\n\n  public onDataEntregaChange(event?: Event) {\n    const entrega = this.form.controls.data_entrega.value;\n    const inicio = this.entity!.data_inicio!;\n    const cargaHoraria = this.entity!.carga_horaria;\n    const unidade = this.entity!.unidade!;\n    const pausas = this.entity!.pausas || [];\n    const afastamentos = this.entity!.usuario?.afastamentos || [];\n    this.efemerides = this.util.isDataValid(entrega) ? this.calendar.calculaDataTempo(inicio, entrega, cargaHoraria, unidade, \"ENTREGA\", pausas, afastamentos) : undefined;\n    this.form.controls.tempo_despendido.setValue(this.efemerides!.tempoUtil);\n    this.cdRef.detectChanges(); \n  }\n\n  public onNumeroDocumentoEntregaClick(event: Event) {\n    const numeroDocumentoEntregue = this.form?.controls.numero_documento_entrega?.value;\n    if(numeroDocumentoEntregue?.length) {\n      this.docEntregue!.loading = true;\n      this.allPages.getDadosDocumento(numeroDocumentoEntregue).then(dados => {\n        if(dados) {\n          this.form.controls.id_processo_entrega.setValue(dados?.processo?.id_processo); \n          this.form.controls.numero_processo_entrega.setValue(dados?.processo?.numero_processo);\n          this.form.controls.id_documento_entrega.setValue(dados?.documento?.id_documento); \n          //this.form.controls.tipo_documento_entrega_id.setValue(dados.tipo_documento);\n          this.form.controls.numero_documento_entrega.setValue(dados?.documento?.numero_documento);\n          this.form.controls.titulo_documento_entrega.setValue(dados?.documento?.titulo_documento);\n        } else {\n          throw new Error(\"Documento no encontrado\");\n        }\n      }).catch(error => {\n        this.dialog.alert(\"Error\", \"Impossvel encontrar o documento informado. Tente concluir diretamente pelo boto 'Concluir' acessando o documento no Sei!\")\n      }).finally(() => {\n        this.docEntregue!.loading = false;\n      });\n    }\n  }\n\n  public onComplexidadeChange(event: Event) {\n    console.log(\"onComplexidadeChange\");\n    if(this.atividade?.searchObj) {\n      const atividade = this.atividade?.searchObj as Atividade;\n      const fator = this.form.controls.fator_complexidade.value || 1;\n      this.form.controls.tempo_pactuado.setValue(atividade.tempo_pactuado * fator || 0);\n    }\n  }\n\n  public onAtividadeSelect(item: SelectItem) {\n    console.log(\"onAtividadeSelect\");\n    const atividade: Atividade | undefined = item.entity as Atividade;\n    if(atividade) {\n      /* Carrega tempo pactuado */\n      const fator = this.form.controls.fator_complexidade.value || 1;\n      this.form.controls.tempo_pactuado.setValue(atividade.tempo_pactuado * fator || 0);\n      /* Carrega complexidades */\n      this.complexidades = atividade.complexidade?.map(x => {\n        return {\n          key: x.fator,\n          value: x.grau + ' (Fator: ' + x.fator + ')'\n        };\n      }) || [];\n    } else {\n      this.form.controls.tempo_pactuado.setValue(0);\n      this.complexidades = [];\n    }\n    this.cdRef.detectChanges();\n  }\n\n  public saveData(form: IIndexable): Promise<boolean> {\n    return new Promise<boolean>((resolve, reject) => {\n      let demanda = this.util.fill(new Demanda(), this.entity!);\n      demanda = this.util.fillForm(demanda, this.form!.value);\n      demanda.id = this.entity!.id;\n      demanda.descricao_tecnica = this.form!.controls.descricao_tecnica.value;\n      demanda.produtividade = this.calendar.produtividade(demanda.tempo_pactuado, demanda.tempo_despendido);\n      this.dao!.concluir(demanda).then(saved => resolve(saved)).catch(reject);\n    });\n  }\n\n  public titleEdit(entity: Demanda): string {\n    return \"Concluindo\";// + (entity?.unidade_id || \"\");\n  }\n}","<editable-form [form]=\"form!\" [disabled]=\"formDisabled\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\">\r\n    <separator *ngIf=\"gb.isExtension\" transparent bottom [collapsed]=\"false\">\r\n        <input-button label=\"N doc. entregue\" #docEntregue [size]=\"4\" controlName=\"numero_documento_entrega\" [control]=\"form!.controls.numero_documento_entrega\" (buttonClick)=\"onNumeroDocumentoEntregaClick($event)\" labelInfo=\"Numero do documento entregue, caso seja o Sei  o numero Sei\"></input-button>\r\n        <input-text label=\"Ttulo do documento\" [size]=\"8\" controlName=\"titulo_documento_entrega\" [control]=\"form!.controls.titulo_documento_entrega\" disabled labelInfo=\"Ttulo do documento entregue\"></input-text>\r\n    </separator>\r\n    <div class=\"row\">\r\n        <input-search label=\"Atividade\" #atividade [size]=\"8\" controlName=\"atividade_id\" [control]=\"form!.controls.atividade_id\" [dao]=\"atividadeDao\" (select)=\"onAtividadeSelect($event)\" [groupBy]=\"[{field: 'unidade.sigla', label: 'Unidade'}]\" [where]=\"[['unidade_id', '=', entity?.unidade_id], ['vinculadas', '=', true]]\" [selectRoute]=\"{route: ['cadastros', 'atividade'], params: {filter: {unidade_id: entity?.unidade_id}}}\"></input-search>\r\n        <input-select label=\"Complexidade\" [size]=\"4\" controlName=\"fator_complexidade\" [control]=\"form!.controls.fator_complexidade\" [items]=\"complexidades\" labelInfo=\"Multiplicador do tempo da atividade\"></input-select>\r\n    </div>\r\n    <div class=\"row\">\r\n        <input-textarea [size]=\"12\" [rows]=\"2\" label=\"Descrio tcnica\" controlName=\"descricao_tecnica\" [control]=\"form!.controls.descricao_tecnica\"></input-textarea>\r\n    </div>\r\n    <separator></separator>\r\n    <div class=\"row\">\r\n        <input-datetime noIcon [size]=\"4\" label=\"Data de distribuio\" disabled controlName=\"data_distribuicao\" [control]=\"form!.controls.data_distribuicao\" labelInfo=\"Data de cadastro da demanda\"></input-datetime>\r\n        <input-timer label=\"Tempo pactuado\" [size]=\"4\" disabled controlName=\"tempo_pactuado\" [control]=\"form!.controls.tempo_pactuado\" labelInfo=\"Tempo calculado a partir da atividade e utilizando o fator_complexidade\"></input-timer>\r\n        <input-datetime noIcon [size]=\"4\" label=\"Prazo de entrega\" disabled controlName=\"prazo_entrega\" [control]=\"form!.controls.prazo_entrega\" labelInfo=\"Data estipulada para entrega da demanda\"></input-datetime>\r\n    </div>\r\n    <div class=\"row\">\r\n        <input-datetime noIcon [size]=\"4\" label=\"Data de inicio\" disabled controlName=\"data_inicio\" [control]=\"form!.controls.data_inicio\" labelInfo=\"Data de inicio\"></input-datetime>\r\n        <input-timer label=\"Tempo despendido\" [size]=\"4\" disabled controlName=\"tempo_despendido\" [control]=\"form!.controls.tempo_despendido\" labelInfo=\"Tempo despendido na atividade (considerando fins de semana, feriados e afastamentos)\"></input-timer>\r\n        <input-datetime noIcon [size]=\"4\" label=\"Data de entrega\" #entrega controlName=\"data_entrega\" [control]=\"form!.controls.data_entrega\" (change)=\"onDataEntregaChange($event)\" labelInfo=\"Data e hora da entrega\"></input-datetime>\r\n    </div>\r\n    <separator *ngIf=\"efemerides\" title=\"Clculos das horas\" collapse>\r\n        <calendar-efemerides [efemerides]=\"efemerides\"></calendar-efemerides>\r\n    </separator>\r\n</editable-form>\r\n","import { Component, Injector, OnInit, ViewChild } from '@angular/core';\nimport { AbstractControl, FormGroup } from '@angular/forms';\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\nimport { DemandaDaoService } from 'src/app/dao/demanda-dao.service';\nimport { IIndexable } from 'src/app/models/base.model';\nimport { Demanda } from 'src/app/models/demanda.model';\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\n\n@Component({\n  selector: 'app-demanda-form-prorrogar',\n  templateUrl: './demanda-form-prorrogar.component.html',\n  styleUrls: ['./demanda-form-prorrogar.component.scss']\n})\nexport class DemandaFormProrrogarComponent extends PageFormBase<Demanda, DemandaDaoService> implements OnInit {\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\n  \n  public form: FormGroup;\n  public modalWidth: number = 400;\n\n  constructor(public injector: Injector) {\n    super(injector, Demanda, DemandaDaoService);\n    this.form = this.fh.FormBuilder({\n      data_distribuicao: {default: new Date()},\n      prazo_entrega: {default: new Date()}\n    }, this.cdRef, this.validate);\n  }\n\n  public validate = (control: AbstractControl, controlName: string) => {\n    let result = null;\n\n    if(controlName == \"prazo_entrega\") {\n      if(!this.util.isDataValid(control.value)) {\n        result = \"Obrigatrio\";\n      } else if((control.value as Date).getTime() < this.entity!.data_distribuicao!.getTime()) {\n        result = \"Menor que distribuio!\";\n      } \n    }\n\n    return result;\n  }\n\n  public async loadData(entity: Demanda, form: FormGroup) {\n    let formValue = {\n      data_distribuicao: entity.data_distribuicao, \n      prazo_entrega: entity.prazo_entrega \n    };\n    if(entity.unidade_id != this.auth.unidade!.id) {\n      await this.auth.selecionaUnidade(entity.unidade_id);\n    }\n    form.patchValue(formValue);\n  }\n\n  public async initializeData(form: FormGroup) {\n    this.entity = (await this.dao!.getDemanda(this.urlParams!.get(\"id\")!))!;\n    await this.loadData(this.entity, form);\n  }\n\n  public saveData(form: IIndexable): Promise<boolean> {\n    return new Promise<boolean>((resolve, reject) => {\n      let prorrogar = {\n        demanda_id: this.entity!.id,\n        prazo_entrega: this.form.controls.prazo_entrega.value \n      };\n      this.dao!.prorrogar(prorrogar).then(saved => resolve(saved)).catch(reject);\n    });\n  }\n\n  public titleEdit(entity: Demanda): string {\n    return \"Iniciando\";// + (entity?.unidade_id || \"\");\n  }\n}","<editable-form [form]=\"form!\" [disabled]=\"formDisabled\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\">\r\n    <div class=\"row\">\r\n        <input-datetime [size]=\"12\" label=\"Incio da pausa\" controlName=\"data_distribuicao\" [control]=\"form!.controls.data_distribuicao\" disabled labelInfo=\"Data de distribuio da demanda\"></input-datetime>\r\n    </div>\r\n    <div class=\"row\">\r\n        <input-datetime [size]=\"12\" label=\"Prazo de entrega\" controlName=\"prazo_entrega\" [control]=\"form!.controls.prazo_entrega\" labelInfo=\"Prazo para entrega da atividade\"></input-datetime>\r\n    </div>\r\n</editable-form>\r\n","import { Component, Injector, OnInit, ViewChild } from '@angular/core';\nimport { AbstractControl, FormGroup } from '@angular/forms';\nimport { EditableFormComponent } from 'src/app/components/editable-form/editable-form.component';\nimport { DemandaDaoService } from 'src/app/dao/demanda-dao.service';\nimport { IIndexable } from 'src/app/models/base.model';\nimport { Demanda } from 'src/app/models/demanda.model';\nimport { PageFormBase } from 'src/app/modules/base/page-form-base';\nimport { LookupItem } from 'src/app/services/lookup.service';\nimport { UsuarioDaoService } from 'src/app/dao/usuario-dao.service';\nimport { SelectItem } from 'src/app/components/input/input-base';\nimport { Usuario } from 'src/app/models/usuario.model';\nimport { InputSearchComponent } from 'src/app/components/input/input-search/input-search.component';\nimport { InputSelectComponent } from 'src/app/components/input/input-select/input-select.component';\nimport { Plano } from 'src/app/models/plano.model';\nimport { CalendarService } from 'src/app/services/calendar.service';\nimport { InputTimerComponent } from 'src/app/components/input/input-timer/input-timer.component';\n\n@Component({\n  selector: 'app-demanda-form-iniciar',\n  templateUrl: './demanda-form-iniciar.component.html',\n  styleUrls: ['./demanda-form-iniciar.component.scss']\n})\nexport class DemandaFormIniciarComponent extends PageFormBase<Demanda, DemandaDaoService> implements OnInit {\n  @ViewChild(EditableFormComponent, { static: false }) public editableForm?: EditableFormComponent;\n  @ViewChild('usuario', { static: false }) public usuario?: InputSearchComponent;\n  @ViewChild('plano', { static: false }) public plano?: InputSelectComponent;\n  @ViewChild('planejado', { static: false }) public planejado?: InputTimerComponent;\n  \n  public usuarioDao: UsuarioDaoService;\n  public calendar: CalendarService;\n  public form: FormGroup;\n  public modalWidth: number = 600;\n  public iniciadas: string[] = []; \n  public planos: LookupItem[] = [];\n  public get labelInfoSuspender(): string {\n    const s = this.iniciadas.length == 1 ? \"\" : \"s\";\n    const q = this.iniciadas.length == 1 ? \"\" : \" \" + this.iniciadas.length.toString();\n    return this.iniciadas.length ? `Suspender a${s}${q} tarefa${s} j iniciada${s}?` : \"No h outras demandas iniciadas pelo usurio!\";\n  }\n\n  constructor(public injector: Injector) {\n    super(injector, Demanda, DemandaDaoService);\n    this.usuarioDao = injector.get<UsuarioDaoService>(UsuarioDaoService);\n    this.calendar = injector.get<CalendarService>(CalendarService);\n    this.form = this.fh.FormBuilder({\n      usuario_id: {default: undefined},\n      plano_id: {default: undefined},\n      data_distribuicao: {default: new Date()},\n      prazo_entrega: {default: new Date()},\n      carga_horaria: {default: 0},\n      tempo_planejado: {default: 0},\n      data_inicio: {default: null},\n      suspender: {default: false}\n    }, this.cdRef, this.validate);\n  }\n\n  public validate = (control: AbstractControl, controlName: string) => {\n    let result = null;\n\n    if([\"usuario_id\", \"plano_id\"].includes(controlName) && !control.value?.length) {\n      result = \"Obrigatrio\";\n    } else if(controlName == \"data_inicio\" && !control.value){\n      result = \"Obrigatrio\";\n    }\n\n    return result;\n  }\n\n  public get prazoEmDias(): string | undefined {\n    return this.entity?.unidade && [\"DIAS_CORRIDOS\", \"DIAS_UTEIS\"].includes(this.entity!.unidade!.distribuicao_forma_contagem_prazos) ? \"\" : undefined;\n  }\n\n  public loadIniciadas(usuario_id?: string) {\n    this.iniciadas = [];\n    if(usuario_id?.length) {\n      this.dao!.iniciadas(usuario_id).then(idsIniciadas => {\n        this.iniciadas = idsIniciadas;\n        this.cdRef.detectChanges();\n      });\n    }\n  }\n\n  public onUsuarioSelect(item: SelectItem) {\n    const usuario: Usuario | undefined = item.entity as Usuario;\n    const planos = usuario?.planos || [];\n    this.planos = [];\n    planos.map(x => {\n      this.planos.push({\n        key: x.id,\n        value: (x.tipo_modalidade?.nome || \"\") + \" - \" + this.dao!.getDateFormatted(x.data_inicio_vigencia)+ \"  \" + this.dao!.getDateFormatted(x.data_fim_vigencia),\n        data: x\n      });\n    });\n    if(!this.form.controls.plano_id.value?.length && this.planos.length == 1) {\n      this.form.controls.plano_id.setValue(this.planos[0].key);\n    }\n    this.cdRef.detectChanges();\n  }\n\n  public onPlanoChange(event: Event) {\n    const plano = this.plano?.selectedItem?.data as Plano;\n    const cargaHoraria = plano?.carga_horaria || this.calendar.expediente(this.entity!.unidade);\n    const tempo_planejado = this.calendar.prazo(this.form.controls.data_distribuicao.value, this.form.controls.prazo_entrega.value, cargaHoraria, this.entity!.unidade!, \"DISTRIBUICAO\");\n    this.planejado!.hoursPerDay = cargaHoraria;\n    this.form.controls.carga_horaria.setValue(cargaHoraria);\n    this.form.controls.tempo_planejado.setValue(tempo_planejado);\n  }\n\n  public async loadData(entity: Demanda, form: FormGroup) {\n    let formValue = Object.assign({}, form.value);\n    formValue = this.util.fillForm(formValue, entity);\n    if(!formValue.usuario_id?.length) {\n      formValue.usuario_id = this.auth.usuario?.id;\n    }\n    formValue.data_inicio = formValue.data_inicio || this.util.setStrTime(new Date(), this.auth.unidadeHora);\n    await this.usuario!.loadSearch(entity.usuario || formValue.usuario_id);\n    this.loadIniciadas(formValue.usuario_id);\n    if(entity.unidade_id != this.auth.unidade!.id) {\n      await this.auth.selecionaUnidade(entity.unidade_id);\n    }\n    form.patchValue(formValue);\n  }\n\n  public async initializeData(form: FormGroup) {\n    this.entity = (await this.dao!.getById(this.urlParams!.get(\"id\")!, this.join))!;\n    await this.loadData(this.entity, form);\n  }\n\n  public saveData(form: IIndexable): Promise<boolean> {\n    return new Promise<boolean>((resolve, reject) => {\n      let demanda = this.util.fill(new Demanda(), this.entity!);\n      demanda = this.util.fillForm(demanda, this.form!.value);\n      demanda.id = this.entity!.id;\n      demanda.suspender = this.form!.controls.suspender.value;\n      this.dao!.iniciar(demanda).then(saved => resolve(saved)).catch(reject);\n    });\n  }\n\n  public titleEdit(entity: Demanda): string {\n    return \"Iniciando\";// + (entity?.unidade_id || \"\");\n  }\n}\n\n\n","<editable-form [form]=\"form!\" [disabled]=\"formDisabled\" (submit)=\"onSaveData()\" (cancel)=\"onCancel()\">\r\n    <div class=\"row\">\r\n        <input-datetime [size]=\"6\" label=\"Data de distribuio\" controlName=\"data_distribuicao\" [control]=\"form!.controls.data_distribuicao\" disabled labelInfo=\"Data de cadastro da demanda\"></input-datetime>\r\n        <input-datetime [size]=\"6\" label=\"Prazo de entrega\" controlName=\"prazo_entrega\" [control]=\"form!.controls.prazo_entrega\" disabled labelInfo=\"Data estipulada para entrega da demanda\"></input-datetime>\r\n    </div>\r\n    <hr>\r\n    <div class=\"row\">\r\n        <input-search label=\"Responsvel\" #usuario [size]=\"12\" controlName=\"usuario_id\" [control]=\"form!.controls.usuario_id\" [dao]=\"usuarioDao\" [join]=\"['planos.tipo_modalidade:id,nome']\" [selectRoute]=\"{route: ['configuracoes', 'usuario']}\" labelInfo=\"Responsvel por executar a demanda\" (select)=\"onUsuarioSelect($event)\"></input-search>\r\n    </div>\r\n    <div class=\"row\">\r\n        <input-select label=\"Plano de trabalho\" [size]=\"8\" controlName=\"plano_id\" #plano [control]=\"form!.controls.plano_id\" [items]=\"planos\" (select)=\"onPlanoChange($event)\" labelInfo=\"Plano de trabalho\"></input-select>\r\n        <input-timer [onlyDays]=\"prazoEmDias\" [size]=\"4\" label=\"Planejado\" #planejado disabled controlName=\"tempo_planejado\" [control]=\"form!.controls.tempo_planejado\" labelInfo=\"Diferena entre data_distribuicao e prazo_entrega em horas (teis ou corridas, configurada na unidade)\"></input-timer>\r\n    </div>\r\n    <hr>\r\n    <div class=\"row\">\r\n        <input-datetime [size]=\"6\" label=\"Inicio\" controlName=\"data_inicio\" [control]=\"form!.controls.data_inicio\" labelInfo=\"Data em que o usurio iniciou a atividade\"></input-datetime>\r\n        <input-switch label=\"Suspender as demais\" [size]=\"6\" controlName=\"suspender\" [control]=\"form!.controls.suspender\" [disabled]=\"!iniciadas.length ? '' : undefined\" [labelInfo]=\"labelInfoSuspender\"></input-switch>\r\n    </div>\r\n</editable-form>\r\n","import { Base } from './base.model';\r\nimport { Usuario } from './usuario.model';\r\n\r\nexport type ComentarioTipo = \"COMENTARIO\" | \"TECNICO\" | \"GERENCIAL\" | \"AVALIACAO\";\r\nexport type ComentarioPrivacidade = \"PUBLICO\" | \"PRIVADO\";\r\n\r\nexport class Comentario extends Base {\r\n    public usuario?: Usuario;\r\n\r\n    public texto: string = \"\"; /* Texto do comentrio */\r\n    public path: string = \"\"; /* Path dos ids dos comentrios; */\r\n    public data_hora: Date = new Date(); /* Data e horrio que foi feito o comentrio */\r\n    public tipo: ComentarioTipo = \"COMENTARIO\"; /* Tipo comentario */\r\n    public privacidade: ComentarioPrivacidade = \"PUBLICO\"; /* Tipo comentario */\r\n\r\n    public usuario_id: string = \"\"; /* ID do usurio que fez o comentrio */\r\n    public comentario_id: string | null = null; /* ID do comentrio pai, quando existir */\r\n    public demanda_id: string | null = null; /* ID da demanda que gerou o comentrio */\r\n\r\n    constructor(){\r\n        super();\r\n    }\r\n}","import { Injectable, Injector } from '@angular/core';\nimport { Demanda } from '../models/demanda.model';\nimport { UtilService } from '../services/util.service';\nimport { DaoBaseService } from './dao-base.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DemandaDaoService extends DaoBaseService<Demanda> {\n\n  constructor(protected injector: Injector) { \n    super(\"Demanda\", injector);\n    this.searchFields = [\"numero\", \"assunto\"];\n  }\n\n  public prazo(inicio_data: Date, horas: number, carga_horaria: number, unidade_id: string): Promise<Date> {\n    return new Promise<Date>((resolve, reject) => {\n      this.server.post('api/' + this.collection + '/prazo', {\n        inicio_data: UtilService.dateToIso8601(inicio_data),\n        horas: horas,\n        carga_horaria: carga_horaria,\n        unidade_id: unidade_id\n      }).subscribe(response => {\n        resolve(UtilService.iso8601ToDate(response?.date));\n      }, error => reject(error));\n    });\n  }\n  \n  public getDemanda(id: string): Promise<Demanda | null> {\n    return this.getById(id, [\"pausas\", \"unidade\", \"atividade\", \"plano\", \"avaliacoes\", \"usuario\", \"usuario.afastamentos\"]); \n  }\n\n  public iniciadas(usuario_id: string): Promise<string[]> {\n    return new Promise<string[]>((resolve, reject) => {\n      this.server.post('api/' + this.collection + '/iniciadas', {\n        usuario_id: usuario_id\n      }).subscribe(response => {\n        resolve(response?.iniciadas || []);\n      }, error => reject(error));\n    });\n  }\n\n  public iniciar(demanda: any): Promise<boolean> {\n    return new Promise<boolean>((resolve, reject) => {\n      this.server.post('api/' + this.collection + '/iniciar', this.prepareToSave(demanda)).subscribe(response => {\n        resolve(!!response?.success);\n      }, error => reject(error));\n    });\n  }\n\n  public concluir(demanda: any): Promise<boolean> {\n    return new Promise<boolean>((resolve, reject) => {\n      this.server.post('api/' + this.collection + '/concluir', this.prepareToSave(demanda)).subscribe(response => {\n        resolve(!!response?.success);\n      }, error => reject(error));\n    });\n  }\n\n  public avaliar(avaliacao: any): Promise<boolean> {\n    return new Promise<boolean>((resolve, reject) => {\n      this.server.post('api/' + this.collection + '/avaliar', this.prepareToSave(avaliacao)).subscribe(response => {\n        resolve(!!response?.success);\n      }, error => reject(error));\n    });\n  }\n\n  public pausar(pausa: any): Promise<boolean> {\n    return new Promise<boolean>((resolve, reject) => {\n      this.server.post('api/' + this.collection + '/pausar', this.prepareToSave(pausa)).subscribe(response => {\n        resolve(!!response?.success);\n      }, error => reject(error));\n    });\n  }\n\n  public reiniciar(pausa: any): Promise<boolean> {\n    return new Promise<boolean>((resolve, reject) => {\n      this.server.post('api/' + this.collection + '/reiniciar', this.prepareToSave(pausa)).subscribe(response => {\n        resolve(!!response?.success);\n      }, error => reject(error));\n    });\n  }\n\n  public cancelarInicio(demanda_id: string): Promise<boolean> {\n    return new Promise<boolean>((resolve, reject) => {\n      this.server.post('api/' + this.collection + '/cancelar-inicio', {id: demanda_id}).subscribe(response => {\n        resolve(!!response?.success);\n      }, error => reject(error));\n    });\n  }\n\n  public cancelarConclusao(demanda_id: string): Promise<boolean> {\n    return new Promise<boolean>((resolve, reject) => {\n      this.server.post('api/' + this.collection + '/cancelar-conclusao', {id: demanda_id}).subscribe(response => {\n        resolve(!!response?.success);\n      }, error => reject(error));\n    });\n  }\n\n  public cancelarAvaliacao(demanda_id: string): Promise<boolean> {\n    return new Promise<boolean>((resolve, reject) => {\n      this.server.post('api/' + this.collection + '/cancelar-avaliacao', {id: demanda_id}).subscribe(response => {\n        resolve(!!response?.success);\n      }, error => reject(error));\n    });\n  }\n\n  public prorrogar(prorrogar: any): Promise<boolean> {\n    return new Promise<boolean>((resolve, reject) => {\n      this.server.post('api/' + this.collection + '/prorrogar', this.prepareToSave(prorrogar)).subscribe(response => {\n        resolve(!!response?.success);\n      }, error => reject(error));\n    });\n  }\n\n}\n\n"],"sourceRoot":"webpack:///"}